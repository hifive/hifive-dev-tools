/* Copyright (C) 2012-2014 NS Solutions Corporation. Licensed under the Apache License, Version 2.0. hifive version Nightly_2014-04-23_17-01-10-704 gitCommitId c3328601f5118af5befd3fbbabe7464b34add764 (util,controller,modelWithBinding,view,ui,api.geo,api.sqldb,api.storage) */
(function(b){function c(b,c,o){var D=null,E=ab[b],w=gb[b];w&&(D=w(b,E,c,o));!D&&E&&(D=e.u.str.format.apply(null,[E].concat(c)));D&&(D+="(code="+b+")");c=D?Error(D):Error("FwError: code = "+b);b&&(c.code=b);o&&(c.detail=o);throw c;}function ga(b,c,o){var D=null,E=ab[b];E&&(c=[E].concat(c),D=e.u.str.format.apply(null,c));return{code:b,message:D,detail:o}}function L(c){return null==c?c:b.isArray(c)?c:[c]}function U(b){var c=document.createElement("span");c.innerHTML='<a href="'+b+'" />';return c.firstChild.href}
function w(b){return"string"===typeof b}function Aa(b){return b.isRejected?b.isRejected():"rejected"===b.state()}function Ba(b){return b.isResolved?b.isResolved():"resolved"===b.state()}function ia(b){return!w(b)?!1:!!b.match(/^[A-Za-z_\$][\w|\$]*$/)}function ja(c){if("regexp"===b.type(c))return c;var e="",e=-1!==c.indexOf("*")?b.map(c.split("*"),function(b){return b.replace(/\W/g,"\\$&")}).join(".*"):c;return RegExp("^"+e+"$")}function ka(b,c,e){b&&(b._h5UnwrappedCall?b._h5UnwrappedCall(c,e):b[c](e))}
function S(c,e,o,D){return c[b.hasOwnProperty("curCSS")?"pipe":"then"](e,o,D)}function da(b){return b.nodeType===hb?b:b.ownerDocument}var bb=void 0;if(window.h5){if(window.h5.env&&"Nightly_2014-04-23_17-01-10-704"===window.h5.env.version)return;bb=window.h5}var e={};window.h5=e;e.coexist=function(){window.h5=bb;return e};e.env={version:"Nightly_2014-04-23_17-01-10-704"};var ab={},gb={},hb=9,cb={controllerInternal:null},db;(function(){function q(b){switch(b){case "string":return"s";case "number":return"n";
case "boolean":return"b";case "String":return"S";case "Number":return"N";case "Boolean":return"B";case "infinity":return"i";case "-infinity":return"I";case "nan":return"x";case "date":return"d";case "regexp":return"r";case "array":return"a";case "object":return"o";case "null":return"l";case x:return"u";case "undefElem":return"_";case "objElem":return"@"}}function z(b,a){if(w(b)){var d=b;a&&(d=d.replace(/\\n/g,"\n").replace(/\\r/g,"\r"));return d=d.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,
"\\r").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}return b instanceof String?new String(z(b.toString())):b}function o(b,a){return"1"===a?b:w(b)?b.replace(/\\\\/g,"\\-").replace(/\\b/g,"").replace(/\\f/g,"").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\-/g,"\\"):b instanceof String?new String(o(b.toString())):b}function D(b,a,d){var g=e.async.deferred();e.ajax({url:b,async:a,cache:d,dataType:"script",converters:{"text script":function(b){return b}}}).done(function(){var b=
B(arguments);b.push(this.url);g.notifyWith(g,b);g.resolveWith(g,b)}).fail(function(){g.rejectWith(g,B(arguments))});return g.promise()}function E(b){w(b)||c(u,"h5.u.obj.ns()");for(var b=b.split("."),a=b.length,d=0;d<a;d++)ia(b[d])||c(u,"h5.u.obj.ns()");for(var g=window,d=0;d<a;d++){var K=b[d];void 0===g[K]&&(g[K]={});g=g[K]}return g}function H(b,a){var d=E(b),g;for(g in a)a.hasOwnProperty(g)&&(void 0!==d[g]&&c(s,[b,g]),d[g]=a[g])}function F(a){return!a||!a.jquery?!1:a.jquery===b().jquery}function B(b){return Array.prototype.slice.call(b)}
var x="undefined",u=11E3,s=11001,I=11004,m=11005,j=11006,t={},d={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","'":"&#39;"},a=void 0!==document.createElement("script").onload,f=-1===/\r\n/.toString().indexOf("\r\n");H("h5.u",{loadScript:function(d,f){var u=e.async.deferred,g=L(d);(!g||0===g.length)&&c(11007);for(var K=0,m=g.length;K<m;K++)d=g[K],(!w(d)||!b.trim(d))&&c(11007);null!=f&&!b.isPlainObject(f)&&c(11008,"h5.u.loadScript()");var r=f&&!1===f.async?!1:!0,p=!!(f&&!0===f.force),K=!!(f&&!0===
f.parallel),q=!!(f&&!0===f.atomic),j=!p,o=r?u():null,s=r?function(b){o.reject(ga(11010,[b]))}:null,m=r?function(){var b=u();setTimeout(function(){b.resolve([])},0);return b.promise()}:null,x=K?[]:null,z=[],I={};if(r){if(!q&&a){var E=b("head"),F=function(b){var g=u(),i=document.createElement("script");i.onload=function(){i.onload=null;t[b]=b;g.resolve()};i.onerror=function(){i.onerror=null;g.reject(b)};i.type="text/javascript";i.src=j?b:b+(-1<b.indexOf("?")?"&_":"?_")+ +new Date;E[0].appendChild(i);
return g.promise()};if(K)x.push(m()),b.each(g,function(){var b=U(this);if(!p&&b in t)return!0;x.push(F(b))}),e.async.when(x).done(function(){o.resolve()}).fail(s);else{var H=S(u().resolve(),m);b.each(g,function(){var b=U(this);H=S(H,function(){if(p||!(b in t))return F(b)},s)});S(H,function(){o.resolve()},s)}}else if(K){var P=[];x.push(m());P.push(null);b.each(g,function(){var b=U(this);if(!p&&(b in t||b in I))return!0;x.push(D(b,r,j));q?I[b]=b:P.push(null)});K=g=null;q?(g=function(){b.each(B(arguments),
function(h,g){b.globalEval(g[0])});b.extend(t,I);o.resolve()},K=b.noop):(g=function(){o.resolve()},K=function(){for(var h=B(arguments),g=0;g<P.length;g++)if(h[g]){var i=h[g][3];P[g]!==i&&(b.globalEval(h[g][0]),P.splice(g,1,i))}});e.async.when(x).done(g).fail(s).progress(K)}else H=S(u().resolve(),m),b.each(g,function(){var h=U(this);H=S(H,function(){var g=u();!p&&(h in t||h in I)?g.resolve():D(h,r,j).done(function(i){q?(z.push(i),I[h]=h):(b.globalEval(i),t[h]=h);g.resolve()}).fail(function(){g.reject(this.url)});
return g.promise()},s)}),S(H,function(){q&&(b.each(z,function(h,g){b.globalEval(g)}),b.extend(t,I));o.resolve()},s);return o.promise()}b.each(g,function(){var h=U(this);if(!p&&(h in t||h in I))return!0;D(h,r,j).done(function(g){q?(z.push(g),I[h]=h):(b.globalEval(g),t[h]=h)}).fail(function(){c(11010,[h])})});q&&(b.each(z,function(h,g){b.globalEval(g)}),b.extend(t,I))},createInterceptor:function(a,d){return function(c){var g={},f=a?a.call(this,c,g):c.proceed();c.result=f;if(!d)return f;if(f&&b.isFunction(f.promise)&&
!F(f)){var u=this;ka(f,"always",function(){d.call(u,c,g)});return f}d.call(this,c,g);return f}}});H("h5.u.str",{startsWith:function(b,a){return 0===b.lastIndexOf(a,0)},endsWith:function(b,a){var d=b.length-a.length;return 0<=d&&b.lastIndexOf(a)===d},format:function(b,a){if(null==b)return"";var d=arguments;return b.replace(/\{(\d+)\}/g,function(b,a){var c=d[parseInt(a,10)+1];return typeof c===x?x:c})},escapeHtml:function(a){return"string"!==b.type(a)?a:a.replace(/[&"'<>]/g,function(b){return d[b]})}});
H("h5.u.obj",{expose:H,ns:E,serialize:function(a){function d(b){for(var g=0,a=K.length;g<a;g++)if(b===K[g])return!0;return!1}function u(b){for(var g=0,a=K.length;g<a;g++)b===K[g]&&K.splice(g,1)}function g(a){var r=a,p=b.type(a);"object"===typeof a&&(a instanceof String?p="String":a instanceof Number?p="Number":a instanceof Boolean&&(p="Boolean"));switch(p){case "String":case "string":r=q(p)+z(r);break;case "Boolean":r=r.valueOf();case "boolean":r=q(p)+(r?1:0);break;case "Number":r=r.valueOf();if(b.isNaN&&
b.isNaN(a)||b.isNumeric&&!b.isNumeric(a))r=Infinity===a.valueOf()?q("infinity"):-Infinity===a.valueOf()?q("-infinity"):q("nan");r=q(p)+r;break;case "number":r=b.isNaN&&b.isNaN(a)||b.isNumeric&&!b.isNumeric(a)?Infinity===a?q("infinity"):-Infinity===a?q("-infinity"):q("nan"):q(p)+r;break;case "regexp":r=q(p)+z(r.toString(),f);break;case "date":r=q(p)+ +r;break;case "array":d(a)&&c(ERR_CODE_REFERENCE_CYCLE);K.push(a);for(var l=[],r=q(p)+"[",p=0,e=a.length;p<e;p++){l[p.toString()]=!0;var t;t=a.hasOwnProperty(p)?
"function"===b.type(a[p])?q(x):g(a[p]).replace(/\\/g,"\\\\").replace(/"/g,'\\"'):q("undefElem");r+='"'+t+'"';p!==a.length-1&&(r+=",")}var p="",j;for(j in a)l[j]||"function"!==b.type(a[j])&&(p+='"'+z(j)+'":"'+g(a[j]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');p&&(r+=(a.length?",":"")+'"'+q("objElem")+"{"+p.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),r=r.replace(/,$/,""),r+='}"');r+="]";u(a);break;case "object":d(a)&&c(m);K.push(a);r=q(p)+"{";for(j in a)a.hasOwnProperty(j)&&"function"!==b.type(a[j])&&
(r+='"'+j+'":"'+g(a[j]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');r=r.replace(/,$/,"");r+="}";u(a);break;case "null":case x:r=q(p)}return r}b.isFunction(a)&&c(11002);var K=[];return"2|"+g(a)},deserialize:function(a){function d(a){function u(b){switch(b){case "s":return"string";case "n":return"number";case "b":return"boolean";case "S":return"String";case "N":return"Number";case "B":return"Boolean";case "i":return"infinity";case "I":return"-infinity";case "x":return"nan";case "d":return"date";
case "r":return"regexp";case "a":return"array";case "o":return"object";case "l":return"null";case "u":return x;case "_":return"undefElem";case "@":return"objElem"}}a.match(/^(.)(.*)/);a=RegExp.$1;g=RegExp.$2?RegExp.$2:"";if(void 0!==a&&""!==a)switch(u(a)){case "String":g=new String(o(g,f));break;case "string":break;case "Boolean":"0"===g||"1"===g?g=new Boolean("1"===g):c(j);break;case "boolean":"0"===g||"1"===g?g="1"===g:c(j);break;case "nan":""!==g&&c(j);g=NaN;break;case "infinity":""!==g&&c(j);
g=Infinity;break;case "-infinity":""!==g&&c(j);g=-Infinity;break;case "Number":"infinity"===u(g)?g=new Number(Infinity):"-infinity"===u(g)?g=new Number(-Infinity):"nan"===u(g)?g=new Number(NaN):(g=new Number(g),isNaN(g.valueOf())&&c(j));break;case "number":g=(new Number(g)).valueOf();isNaN(g)&&c(j);break;case "array":var r;try{r=b.parseJSON(g)}catch(m){c(j)}b.isArray(r)||c(j);for(var l=0;l<r.length;l++)switch(u(r[l].substring(0,1))){case "undefElem":delete r[l];break;case "objElem":for(var e=d(q("object")+
r[l].substring(1)),a=[],l=0,t=r.length-1;l<t;l++)a[l]=r[l];r=a;for(var s in e)r[s]=e[s];break;default:r[l]=d(r[l])}g=r;break;case "object":try{r=b.parseJSON(g)}catch(D){c(j)}b.isPlainObject(r)||c(j);for(s in r)r[s]=d(r[s]);g=r;break;case "date":g=new Date(parseInt(g,10));break;case "regexp":try{l=g.match(/^\/(.*)\/(.*)$/),e=o(l[1],f),g=RegExp(e,l[2])}catch(z){c(j)}break;case "null":""!==g&&c(j);g=null;break;case x:""!==g&&c(j);g=void 0;break;default:c(I)}return o(g,f)}w(a)||c(11009);a.match(/^(.)\|(.*)/);
var f=RegExp.$1;"1"!==f&&"2"!==f&&c(11003,[f,"2"]);var g=RegExp.$2;return d(g)},isJQueryObject:F,argsToArray:B,getByPath:function(b,a){w(b)||c(u,"h5.u.obj.getByPath()");var d=b.split(".");!a&&"window"===d[0]&&d.unshift();for(var g=a||window,f=0,m=d.length;f<m&&!(g=g[d[f]],null==g);f++);return g}})})();(function(){var q,z,o,D,E,H,F;function B(b){return b.match(/^error$/i)?q:b.match(/^warn$/i)?z:b.match(/^info$/i)?o:b.match(/^debug$/i)?D:b.match(/^trace$/i)?E:b.match(/^all$/i)?H:b.match(/^none$/i)?
F:null}function x(a,d){var f={};if(b.isArray(a)){var c=a.slice(0,3).join(" <- ");0<a.slice(3).length&&(c+=" ...");f.recent=c;f.all=d.join("\n")}else f.recent=a,f.all=d;return f}function u(b){var a="";b.name?a=b.name:(/^\s*function\s*([\w\-\$]+)?\s*\(/i.test(b.toString()),a=RegExp.$1);return a}function s(a){for(var a=e.u.obj.argsToArray(a),d=[],f=0,c=a.length;f<c;f++)d.push(b.type(a[f]));return d.join(", ")}function I(){}function m(g){(!w(g)||0===b.trim(g).length)&&c(a);this.category=b.trim(g)}var j=
10002,t=10003,d=10004,a=10005,f=10007,l=10008,A=10010;q=50;z=40;o=30;D=20;E=10;H=0;F=-1;var G=null;I.prototype={init:function(){},log:function(b){window.console&&(w(b.args[0])?this._logMsg(b):this._logObj(b))},_logMsg:function(b){var a=b.args,d=null,d=1===a.length?a[0]:e.u.str.format.apply(e.u.str,a),a=this._getLogPrefix(b)+d;b.logger.enableStackTrace&&(a+="  ["+b.stackTrace.recent+"]");b.logger.enableStackTrace&&console.groupCollapsed?console.groupCollapsed(a):this._consoleOut(b.level,a);b.logger.enableStackTrace&&
this._consoleOut(b.level,b.stackTrace.all);b.logger.enableStackTrace&&console.groupEnd&&console.groupEnd()},_consoleOut:function(b,a){var d=!1;b==q&&console.error?(console.error(a),d=!0):b==z&&console.warn?(console.warn(a),d=!0):b==o&&console.info?(console.info(a),d=!0):b==D&&console.debug&&(console.debug(a),d=!0);!d&&console.log&&console.log(a)},_getLogPrefix:function(b){return"["+b.levelString+"]"+b.date.getHours()+":"+b.date.getMinutes()+":"+b.date.getSeconds()+","+b.date.getMilliseconds()+": "},
_logObj:function(b){var a=b.args,d=this._getLogPrefix(b);a.unshift(d);b.level==q&&console.error?this._output(console.error,a):b.level==z&&console.warn?this._output(console.warn,a):b.level==o&&console.info?this._output(console.info,a):b.level==D&&console.debug?this._output(console.debug,a):this._output(console.log,a)},_output:function(b,a){try{if(b.apply){b.apply(console,a);return}}catch(d){}b(a)}};m.prototype={enableStackTrace:!1,maxStackSize:10,error:function(b){this._log(q,arguments,this.error)},
warn:function(b){this._log(z,arguments,this.warn)},info:function(b){this._log(o,arguments,this.info)},debug:function(b){this._log(D,arguments,this.debug)},trace:function(b){this._log(E,arguments,this.trace)},_traceFunctionName:function(a){var d=Error(),f=d.stack||d.stacktrace,d=[],c={};if(f)var d=f.replace(/\r\n/,"\n").replace(/at\b|@|Error\b|\t|\[arguments not available\]/ig,"").replace(/(http|https|file):.+[0-9]/g,"").replace(/ +/g," ").split("\n"),m=null,d=b.map(d,function(a){return m=0===a.length?
null:""===b.trim(a)?"{anonymous}":b.trim(a)}),c=x(d.slice(3,d.length),d.slice(0,this.maxStackSize));else{f=null;try{f=a.caller}catch(l){}a=0;if(f)for(;;){var e=s(f.arguments),q=u(f),j=null;try{j=f.caller}catch(t){d.push("{unable to trace}");c=x(d,d);break}q?d.push("{"+q+"}("+e+")"):j?d.push("{anonymous}("+e+")"):d.push("{root}("+e+")");if(!j||a>=this.maxStackSize){c=x(d,d);break}f=j;a++}else c=x("{unable to trace}","{unable to trace}")}return c},_log:function(b,a,d){var a={level:b,args:e.u.obj.argsToArray(a),
stackTrace:this.enableStackTrace?this._traceFunctionName(d):""},f=G.out,c=G.defaultOut,d=null;if(f)for(var f=L(f),u=0,m=f.length;u<m;u++){var l=f[u];if(l.compiledCategory.test(this.category)){d=l;break}}d||(d=c);u=d.compiledLevel;d=d.compiledTargets;if(!(b<u||0>u))if(a.logger=this,a.date=new Date,a.levelString=this._levelToString(b),d&&0!==d.length){u=0;for(m=d.length;u<m;u++)d[u].log(a)}},_levelToString:function(b){if(b===q)return"ERROR";if(b===z)return"WARN";if(b===o)return"INFO";if(b===D)return"DEBUG";
if(b===E)return"TRACE"}};e.u.obj.expose("h5.log",{createLogger:function(b){return new m(b)},configure:function(){function a(g,p,r){var q=null==r;if(!q){var e=p.category;(!w(e)||0===b.trim(e).length)&&c(A);e=b.trim(e);-1!==b.inArray(e,m)&&c(j,p.category);p.compiledCategory=ja(e);m.push(e)}e=null==p.level?B(q?u.level:r.level):w(p.level)?B(b.trim(p.level)):p.level;"number"!==typeof e&&c(t,p.level);p.compiledLevel=e;var e=[],o=p.targets;if(!q||null!=o){var s=[];null==o||b.isArray(o)||w(o)&&b.trim(o).length||
c(l);for(var o=L(o),h=0,v=o.length;h<v;h++){null==o[h]||w(o[h])&&b.trim(o[h]).length||c(l);var i=o[h];if(i){-1!==b.inArray(i,s)&&c(f,i);var n=g[i];n||c(d,i);s.push(i);e.push(n.compiledTarget)}}if(!q&&(g=r.targets,null!=g)){g=L(g);h=0;for(v=g.length;h<v;h++)i=g[h],-1===b.inArray(i,s)&&(e.push(r.compiledTargets[h]),s.push(i))}}p.compiledTargets=e}var u={level:"NONE",targets:null},m=[],r=b.extend(!0,{},e.settings.log?e.settings.log:{defaultOut:u}),p=r.target;p||(p={},r.target=p);(function(a){b.isPlainObject(a)||
c(10009);for(var d in a){var f=a[d];b.type(f.type)!=="object"&&f.type!=="console"&&c(1E4);var g=null,g=f.type==="console"?new I:b.extend(true,{},f.type);g.init&&g.init(f);f.compiledTarget=g}a.console={type:"console",compiledTarget:new I}})(p);var q=r.defaultOut;q||(q=u,r.defaultOut=q);a(p,q);var o=r.out;if(o)for(var o=L(o),s=0,x=o.length;s<x;s++)a(p,o[s],q);G=r}})})();(function(){function c(q){e.settings.aspects=b.map(L(q),function(b){b.target&&(b.compiledTarget=ja(b.target));b.pointCut&&(b.compiledPointCut=
ja(b.pointCut));return b})}e.u.obj.ns("h5.settings");e.settings={commonFailHandler:null,aspects:null,log:null,listenerElementType:1,dynamicLoading:{retryCount:3,retryInterval:500},ajax:{retryCount:0,retryInterval:500,retryFilter:function(b){b=b.status;if("POST"===this.type||!(0===b||12029===b))return!1}}};var z=e.u.createInterceptor(function(b,c){this.log.info("{0}.{1}が開始されました。",this.__name,b.funcName);this.log.info(b.args);c.start=new Date;return b.proceed()},function(b,c){var e=(new Date).getTime()-
c.start.getTime();this.log.info("{0}.{1}が終了しました。 Time={2}ms",this.__name,b.funcName,e)});e.u.obj.expose("h5.core.interceptor",{lapInterceptor:z,logInterceptor:z,errorInterceptor:function(c){var q=null;try{q=c.proceed()}catch(z){e.settings.commonFailHandler&&b.isFunction(e.settings.commonFailHandler)&&e.settings.commonFailHandler.call(null,z)}return q}});b(document).trigger("h5preinit");e.settings.aspects&&c(e.settings.aspects);e.log.configure()})();(function(){e.u.obj.expose("h5.env",{ua:function(c){function e(b,
a){var d=K(b,"[^;)]*",a).split(" ");return 1===d.length?"":d[d.length-1]}function o(b,a){var d=K(b,"[^;) ]*",a).split("/");return 1===d.length?"":d[d.length-1]}function D(b,a){var d=K(b,"[^;) ]*",a).split(":");return 1===d.length?"":d[d.length-1]}var w=!!c.match(/iPhone/i),H=!!c.match(/iPad/i),F=w||H,B=!!c.match(/android/i),x=!!c.match(/Windows Phone/i),u=!!c.match(/MSIE/)||!!c.match(/Trident/),s=!!c.match(/Firefox/i),I=!!c.match(/Chrome/i)||!!c.match(/CrMo/)||!!c.match(/CriOS/),m=!B&&!!c.match(/Safari/i)&&
!I,j=!!c.match(/Webkit/i),t=!!c.match(/Opera/i),d=B&&!!c.match(/Safari/i)&&!I,a=!(!w&&!x&&!(d&&c.match(/Mobile/)&&!c.match(/SC-01C/)||B&&I&&c.match(/Mobile/)||c.match(/Fennec/i)||c.match(/Opera Mobi/i))),f=!(!H&&!(d&&!c.match(/Mobile/)||B&&I&&!c.match(/Mobile/)||c.match(/SC-01C/)||c.match(/Fennec/i)||c.match(/Opera Tablet/i))),l=!a&&!f,A=null,G=null,g=function(a,d){return b.trim(c.substring(c.indexOf(a)+a.length,c.indexOf(d))).split("_")},K=function(a,d,f){return b.trim(c.match(!1===f?RegExp(a+d):
RegExp(a+d,"i")))};if(w)G=g("iPhone OS","like"),A=parseInt(G[0]),G=G.join(".");else if(H)G=g("CPU OS","like"),A=parseInt(G[0]),G=G.join(".");else if(!B||!s)B?(G=e("Android"),A=parseInt(G.split(".")[0])):x&&((G=e("Windows Phone OS"))||(G=e("Windows Phone")),A=parseInt(G.split(".")[0]));u&&t&&(u=!1);var X=g=null;if(F||B&&d)g=A,X=G;else{var r=null;u?r=e("MSIE",!1)||D("rv"):I?(r=o("Chrome",!1))||(r=o("CrMo",!1)):m?r=o("Version"):s?r=o("Firefox"):t&&((r=o("Version"))||(r=o("Opera")),r||(r=e("Opera")));
r&&(g=parseInt(r.split(".")[0]),X=r)}return{osVersion:A,osVersionFull:G,browserVersion:g,browserVersionFull:X,isiPhone:w,isiPad:H,isiOS:F,isAndroid:B,isWindowsPhone:x,isIE:u,isFirefox:s,isChrome:I,isSafari:m,isOpera:t,isAndroidDefaultBrowser:d,isSmartPhone:a,isTablet:f,isDesktop:l,isWebkit:j}}(navigator.userAgent)})})();(function(){function q(c){function e(){q=!0;m=this;j=F(arguments);if(Aa(c)||Ba(c))return c;var d=F(arguments);if(0<t.length)for(var a=0,f=t.length;a<f;a++){var l=d;l!==arguments&&
(l=L(l));b.isFunction(t[a])&&t[a].apply(this,l)}return c}var q=!1,m=null,j=null,t=[];c.progress=function(){for(var d=F(arguments),a=0,f=d.length;a<f;a++){var e=d[a];if(b.isArray(e))c.progress.apply(this,e);else if(b.isFunction(e))if(q){var o=j;o!==j&&(o=L(o));e.apply(m,o)}else t.push(e)}return this};c.notify=e;c.notifyWith=function(b,a){return!a?e.apply(b):e.apply(b,a)}}function z(c){if(!c)return!1;for(var c=L(c),e=0,q=c.length;e<q;e++)if(b.isFunction(c[e]))return!0;return!1}function o(c,s){function I(b){s?
s[b]&&(c[b]=s[b]):(l[b]=c[b],c[b]=function(){return function(){if(!a){var d=F(arguments);if("then"===b||"pipe"===b)d=d[1];z(d)&&(a=!0)}return c._h5UnwrappedCall.call(this,b,F(arguments))}}(b),A[b]=c[b])}function m(b){return function(){var d=e.settings.commonFailHandler;!a&&d&&!f&&(c.fail.call(this,d),f=!0);return b.apply(this,arguments)}}if(c._h5UnwrappedCall)return c;var j=!!c.progress,t=b.Deferred(),d=t!==t.then();!j&&!x(c)?q(c):s&&(c.progress=s.progress);var a=!1,f=!1,l={},A={};c._h5UnwrappedCall=
s?s._h5UnwrappedCall:function(a,d){d=L(d);b.extend(c,l);var f=c[a].apply(this,d);b.extend(c,A);return f};for(var t=0,G=w.length;t<G;t++){var g=w[t];c[g]&&I(g)}c.pipe&&!s&&(c.pipe=function(){for(var a=e.async.deferred(),d=F(arguments),c=0,f=E.length;c<f;c++){var g=this;(function(d,c,f){if(b.isFunction(d))g[c](function(){var c=d.apply(this,arguments);if(c&&b.isFunction(c.promise)){o(c);c.done(a.resolve);c._h5UnwrappedCall("fail",a.reject);b.isFunction(c.progress)&&c.progress(a.notify)}else a[f+"With"](this,
[c])})})(d[c],E[c],H[c])}return a.promise()},A.pipe=c.pipe);if(c.then&&!s){var K=c.then;c.then=function(){if(d)return A.pipe.apply(this,arguments);var b=arguments,a=K.apply(this,b);!j&&z(b[2])&&c.progress.call(c,b[2]);return a};A.then=c.then}c.reject&&(c.reject=s&&s.reject?s.reject:m(c.reject));c.rejectWith&&(c.rejectWith=s&&s.rejectWith?s.rejectWith:m(c.rejectWith));if(c.promise)if(s&&s.promise)c.promise=s.promise;else{var B=c.promise;c.promise=function(){return o(B.apply(this,arguments),c)}}return c}
var w=["fail","always","pipe","then"],E=["done","fail","progress"],H=["resolve","reject","notify"],F=e.u.obj.argsToArray,B=function(){var c=b.Deferred();return o(c)},x=function(b){return!!b&&b.done&&b.fail&&!b.resolve&&!b.reject};e.u.obj.expose("h5.async",{deferred:B,when:function(){var c=F(arguments);1===c.length&&b.isArray(c[0])&&(c=c[0]);var q=c.length,o=e.async.deferred(),m=o.promise(),j=b.when.apply(b,c).done(function(){o.resolveWith(this&&this.promise&&this.promise()===j?o:this,F(arguments))}).fail(function(){o.rejectWith(this,
F(arguments))});if(j.progress)j.progress(function(){o.notifyWith(this===j?m:this,F(arguments))});else{for(var t=[],d=0;d<q;d++)t[d]=void 0;for(var a=function(b){return function(a){t[b]=1<arguments.length?F(arguments):a;o.notifyWith(m,t)}},d=0;d<q;d++){var f=c[d];f&&b.isFunction(f.promise)&&f.progress&&(1<q?f.progress(a(d)):f.progress(function(){o.notifyWith(m,F(arguments))}))}}return m},isPromise:x,loop:function(e,q,o){b.isArray(e)||c(5E3);var m=B(),j="number"===b.type(o)?o:20,t=0,d=e.length,a,f=
null,l=function(){if(t===d)m.resolve(e);else{var b=q.call(e,t,e[t],f);t++;x(b)?b.done(function(){a()}).fail(function(){m.reject(e)}):a()}},A=function(){setTimeout(function(){var b=t-1;0<t&&m.notify({data:e,index:b,value:e[b]});l()},0)},G=!1;a=function(){G||(0===t%j?A():l())};var g=!1,f={resume:function(){!g&&G&&(G=!1,a())},pause:function(){G=!0},stop:function(){g=!0;m.resolve(e)}};A();return m.promise()}})})();(function(){function c(b,e){for(var o=0,q=E.length;o<q;o++){var s=E[o];b[s]&&(e[H[s]](b[s]),
b[s]=void 0)}}function z(c,e,o){for(var q in e)if(e.hasOwnProperty(q)&&(o||!b.isFunction(e[q]))&&-1===b.inArray(q,D))c[q]=e[q]}function o(b,c){z(this,b,!0);c.promise(this);var e=this.always;this.always=function(){e.apply(this,arguments);return this}}var D=["error","success","complete"],E=["error","success","complete"],H={success:"done",error:"fail",complete:"always"};e.u.obj.expose("h5",{ajax:function(){function D(b,c,e){z(I,e);s.resolveWith(this,arguments)}function B(c,e,o){if(0===x.retryCount||
!1===x.retryFilter.apply(this,arguments))z(I,c),s.rejectWith(this,arguments);else if(x.retryCount--,this.async){var d=this;setTimeout(function(){b.ajax(d).done(D).fail(B)},x.retryInterval)}else b.ajax(this).done(D).fail(B)}var x={},u=arguments;w(u[0])?(b.extend(x,u[1]),x.url=u[0]):b.extend(x,u[0]);var x=b.extend({},e.settings.ajax,x),s=e.async.deferred();c(x,s);var u=b.ajax(x),I=new o(u,s);u.done(D).fail(B);return I}})})();(function(){function q(b,a,k,h,c){this.controller=b;this.event=a;this.evArg=
k;this.selector=h;this.selectorType=c}function z(b){return!this.__controllerContext||!this.__controllerContext.executeListeners?void 0:b.proceed()}function o(b,a,k){var h=D(b.__name,a);k&&h.push(z);return E(b[a],a,h)}function D(a,k){var h=[],c=e.settings.aspects;if(!c||0===c.length)return h;for(var c=L(c),d=c.length-1;-1<d;d--){var i=c[d];if(!i.target||i.compiledTarget.test(a)){var f=i.interceptors;if(!i.pointCut||i.compiledPointCut.test(k))if(b.isArray(f))for(i=f.length-1;-1<i;i--)h=h.concat(f[i]);
else h.push(f)}}return h}function E(b,a,k){for(var h=function(b,a,k){return function(){var N=this;return k.call(N,{target:N,func:b,funcName:a,args:arguments,proceed:function(){return b.apply(N,this.args)}})}},c=0,d=k.length;c<d;c++)b=h(b,a,k[c]);return b}function H(b){return!!b.match(/^\{.*\}$/)}function F(b){return!!b.match(/^\[.*\]$/)}function B(a){return b.trim(a.substring(1,a.length-1))}function x(a){return b.trim(a.substring(1,a.length-1))}function u(b,a){for(var k=["window","document","navigator"],
h=0,c=k.length;h<c;h++){var d=k[h];if(b===d||ta(b,d+"."))return e.u.obj.getByPath(b,a.defaultView||a.parentWindow)}return b}function s(a){var h=function(a,N){for(var c in a)if(0<=b.inArray(a,N)||k(c,Ra)&&h(a[c],N.concat([a])))return!0;return!1};return h(a,[])}function I(a){var h=function(a,N){for(var c in a)if(0<=b.inArray(a,N)||k(c,Sa)&&h(a[c],N.concat([a])))return!0;return!1};return h(a,[])}function m(b,a){var h=b[a];return k(a,Ra)&&"rootController"!==a&&"parentController"!==a&&h&&h.__controllerContext&&
!h.__controllerContext.isRoot&&(!h.parentController||h.parentController===b)}function j(a,k,h){var c=[],d=[],i=function(a){d.push(a);for(var N in a)if(m(a,N)){var f=a[N],n=h?f.__controllerContext[k]:f[k];n&&c.push(n);-1===b.inArray(f,d)&&i(f)}};i(a);return c}function t(b){var a=function(b){var k=b.__meta,h={};if(k)for(var N in k)!1===k[N].useHandlers&&(h[N]=1);for(N in b)k=b[N],m(b,N)&&(a(k),h[N]||d(k))};a(b)}function d(a){var k=a.__controllerContext.bindMap,h;for(h in k)for(var c in k[h]){var d=
a,i=h,n=c,g=d.__controllerContext.bindMap[i][n],v=n,J=F(n);J&&(v=x(n));var e=null;switch(v){case "mousewheel":e=sa(d,i,v,g);break;case ma:case Ga:case ua:e=$(d,i,n,g);break;default:e=V(d,i,v,g)}if(b.isArray(e)){d=0;for(i=e.length;d<i;d++)f(e[d],J)}else f(e,J)}}function a(a){var k=a.controller.rootElement,h=a.selector,c=a.eventName,d=a.handler,i=F(c),c=i?x(c):c,f=da(k);if(H(h)){var n=B(h),h=!1;n===Ha?h=!0:k=u(n,f);h||i||!w(k)?(a.evSelectorType=Q.SELECTOR_TYPE_OBJECT,b(k).bind(c,d)):(a.evSelectorType=
Q.SELECTOR_TYPE_GLOBAL,b(f).delegate(k,c,d));a.evSelector=k}else a.evSelectorType=Q.SELECTOR_TYPE_LOCAL,a.evSelector=h,i?b(h,k).bind(c,d):b(k).delegate(h,c,d)}function f(k,h){h&&(k.eventName="["+k.eventName+"]");var c=k.handler;k.handler=function(){var a=e.settings.listenerElementType===1?b(arguments[0].currentTarget):arguments[0].currentTarget;c.call(k.controller,ea(k,arguments),a)};ra(k.controller,k.selector,k.eventName,k.handler);a(k)}function l(b){var a=function(b){var k=b.__meta,h={};if(k)for(var c in k)!1===
k[c].useHandlers&&(h[c]=1);for(c in b)k=b[c],m(b,c)&&(a(k),h[c]||A(k))};a(b)}function A(a){var k=a.rootElement;if(k){var h=da(k),a=a.__controllerContext.unbindMap,c;for(c in a)for(var d in a[c]){var i=a[c][d],f=F(d),n=f?x(d):d;if(H(c)){var g=B(c),v=!1;if(g===Ha)g=k,v=!0;else{if(null==(h.defaultView||h.parentWindow))continue;g=u(g,h)}v||f||!w(g)?b(g).unbind(n,i):b(h).undelegate(g,n,i)}else f?b(c,k).unbind(n,i):b(k).undelegate(c,n,i)}}}function G(a,k){a.__controllerContext.executeListeners=k;var h=
[],c=function(a){h.push(a);for(var d in a)if(m(a,d)){var N=a[d];N.__controllerContext.executeListeners=k;-1===b.inArray(N,h)&&c(N)}};c(a)}function g(a){var k=[],h=function(a,c,d){a.rootController=c;a.parentController=d;k.push(a);for(var N in a)m(a,N)&&(d=a[N],-1===b.inArray(d,k)&&h(d,c,a))};h(a,a,null)}function K(a,k){var h=k?"__init":"__ready",c=Y();setTimeout(function(){c.resolve()},0);var d=c.promise(),i=function(c){var f=!0,n;for(n in c)m(c,n)&&(f=!1,i(c[n]));var g=function(){var d=null,i=c.__name;
if(c[h])try{d=c[h]({args:c.__controllerContext.args})}catch(f){throw a.rootController&&a.rootController.dispose(arguments),f;}var n=k?r(c):p(c);d&&b.isFunction(d.done)&&b.isFunction(d.fail)?d.done(function(){n()}).fail(function(){var b=ga(Ta,i,Z(arguments));a.rootController&&a.rootController.dispose(b)}):n()};n=k?X(c):j(c,"readyPromise");k&&f&&n.push(d);e.async.when(n).done(function(){g()}).fail(va)};i(a)}function X(b){var a=j(b,"initPromise");a.push(b.preinitPromise);return a}function r(b){return function(){if(!M(b)){b.isInit=
!0;var a=b.__controllerContext.initDfd;delete b.__controllerContext.templatePromise;delete b.__controllerContext.preinitDfd;delete b.__controllerContext.initDfd;a.resolveWith(b);b.__controllerContext&&b.__controllerContext.isRoot&&h(b)}}}function p(a){return function(){if(!M(a)){a.isReady=!0;var k=a.__controllerContext.readyDfd;delete a.__controllerContext.readyDfd;k.resolveWith(a);a.__controllerContext&&a.__controllerContext.isRoot&&a.rootElement&&a.isInit&&a.isReady&&b(a.rootElement).trigger("h5controllerready",
a)}}}function R(a,k,h){if(!w(a))return b(a);var d=b.trim(a);H(d)?(a=B(d),h&&(ta(a,"window")||ta(a,"navigator"))&&c(wa),k=b(u(a,da(k.ownerDocument)))):k=b(k).find(a);return k}function ra(b,a,k,h){b.__controllerContext.unbindMap[a]||(b.__controllerContext.unbindMap[a]={});b.__controllerContext.unbindMap[a][k]=h}function V(b,a,k,h){return{controller:b,selector:a,eventName:k,handler:h}}function sa(b,a,k,h){return{controller:b,selector:a,eventName:typeof document.onmousewheel===ia?"DOMMouseScroll":k,handler:function(a){var k=
a.event;null==k.wheelDelta&&k.originalEvent&&null!=k.originalEvent.wheelDelta&&(k.wheelDelta=k.originalEvent.wheelDelta);null==k.wheelDelta&&k.originalEvent&&null!=k.originalEvent.detail&&(k.wheelDelta=40*-k.originalEvent.detail);h.call(b,a)}}}function $(a,k,h,c){var d=typeof document.ontouchstart!==ia;if(h!==ma)return d?V(a,k,h,c):V(a,k,h,function(a){var k=a.event,h=b(k.currentTarget).offset()||{left:0,top:0};k.offsetX=k.pageX-h.left;k.offsetY=k.pageY-h.top;c.apply(this,arguments)});var i=function(b,
a){for(var k in b)b.hasOwnProperty(k)&&!a[k]&&"target"!==k&&"currentTarget"!==k&&"originalEvent"!==k&&"liveFired"!==k&&(a[k]=b[k]);a.h5DelegatingEvent=b},f=d?"touchstart":"mousedown",n=d?"touchmove":"mousemove",g=d?"touchend":"mouseup",v=b(da(a.rootElement));return function(){var J=null,e=!1,Z=function(k,h,c){return function(f){var ba;a:{switch(k){case "touchstart":case "mousedown":ba=ma;break a;case "touchmove":case "mousemove":ba=Ga;break a;case "touchend":case "mouseup":ba=ua;break a}ba=void 0}var Fa=
ba===ma;if(!Fa||!e){d&&la(f.event,k);var Q=new b.Event(ba);i(f.event,Q);var m=f.event.target;h&&(m=h);c&&c(Q);var y=f.event.originalEvent||f.event;Fa&&-1===b.inArray(y,ca)&&(ca=[],na=[]);var l=b.inArray(y,ca);-1===l&&(l=ca.push(y)-1,na[l]=!1);if(!na[l]&&(!d||e||Fa))na[l]=!0,b(m).trigger(Q,f.evArg),e=!0;if(f.event.currentTarget===document&&(ba===ua&&(ca=[],na=[]),-1!==b.inArray(y,ca)))ca.splice(l,1),na.splice(l,1);if(Fa&&e){Q.h5DelegatingEvent.preventDefault();ba=Q.target;var C=Q.clientX,eb=Q.clientY,
o=Z(n,ba,function(b){var a=b.clientX,k=b.clientY;b.dx=a-C;b.dy=k-eb;C=a;eb=k}),q=Z(g,ba),W=function(b){f.event=b;f.evArg=T(arguments);o(f)},j=function(b){f.event=b;f.evArg=T(arguments);q(f)},p=d?b(ba):v;J=function(){ca=[];na=[];p.unbind(n,W);p.unbind(g,j);if(!d&&a.rootElement!==document){b(a.rootElement).unbind(n,W);b(a.rootElement).unbind(g,j)}};p.bind(n,W);p.bind(g,j);!d&&a.rootElement!==document&&(b(a.rootElement).bind(n,W),b(a.rootElement).bind(g,j))}else ba===ua&&(J(),e=!1)}}},Q=[V(a,k,h,c)];
Q.push({controller:a,selector:k,eventName:f,handler:Z(f)});return Q}()}function la(a,k){var h=a.originalEvent;if(h){var c="touchend"===k||"touchcancel"===k?h.changedTouches[0]:h.touches[0],d=c.pageX,i=c.pageY;a.pageX=h.pageX=d;a.pageY=h.pageY=i;a.screenX=h.screenX=c.screenX;a.screenY=h.screenY=c.screenY;a.clientX=h.clientX=c.clientX;a.clientY=h.clientY=c.clientY;c=a.target;if(c.ownerSVGElement)c=c.farthestViewportElement;else if(c===window||c===document)c=document.body;if(c=b(c).offset())i-=c.top,
a.offsetX=h.offsetX=d-c.left,a.offsetY=h.offsetY=i}}function T(b){return 3>b.length?b[1]:Z(b).slice(1)}function ea(a,k){var h=null,c=null;k&&(h=k[0],c=T(k));var d=h;if(d&&null==d.offsetX&&null==d.offsetY&&d.pageX&&d.pageY){var i=d.target;if(i.ownerSVGElement)i=i.farthestViewportElement;else if(i===window||i===document)i=document.body;if(i=b(i).offset())d.offsetX=d.pageX-i.left,d.offsetY=d.pageY-i.top}return new q(a.controller,h,c,a.evSelector,a.evSelectorType)}function fa(b){for(var a in b){var k=
b[a];m(b,a)&&(k.rootElement=null,k.view.__controller=null,fa(k))}}function aa(b){var a=b.rootElement,k=b.__meta,h;for(h in b){var c=b[h];m(b,h)&&(c.rootElement=k&&k[h]&&k[h].rootElement?P(k[h].rootElement,a,c):a,c.view.__controller=c,aa(c))}}function P(a,k,h){null==a&&c(Ia,[h.__name]);!w(a)&&"object"!==typeof a&&c(Ja,[h.__name]);a=k?R(a,k):b(a);0===a.length&&c(Ka,[h.__name]);1<a.length&&c(xa,[h.__name]);return a.get(0)}function h(a){d(a);t(a);var k=a.__controllerContext.managed,h=e.core.controllerManager.controllers;
-1===b.inArray(a,h)&&!1!==k&&h.push(a);!1!==k&&b(a.rootElement).trigger("h5controllerbound",a);k=j(a,"initPromise");k.push(a.initPromise);e.async.when(k).done(function(){K(a,!1)}).fail(va)}function v(b){null===b.rootController&&g(b);aa(b);K(b,!0)}function i(b,a){var k=Y();k.resolve();b.__controllerContext.templatePromise=k.promise();b.__controllerContext.initDfd=Y();b.initPromise=b.__controllerContext.initDfd.promise();b.__controllerContext.readyDfd=Y();b.readyPromise=b.__controllerContext.readyDfd.promise();
b.isInit=!1;b.isReady=!1;b.__controllerContext.args=a;for(var h in b)m(b,h)&&i(b[h])}function n(a,k){var h=null,c=k;b.isPlainObject(c)?h=c.target:c={};h=h?R(h,a.rootElement,!0):a.rootElement;return e.ui.indicator.call(a,h,c)}function y(a,k){var h=[],c=[],d=function(a){var i=Y();c.push(a);for(var f in a)if(m(a,f)){var n=a[f];-1===b.inArray(n,c)&&d(n)}a[k]&&b.isFunction(a[k])&&(a=a[k](),e.async.isPromise(a)&&(a.always(function(){i.resolve()}),h.push(i.promise())))};d(a);return h}function O(a){function k(a){h.push(a);
a.view.__view&&a.view.clear();for(var c in a)if(a.hasOwnProperty(c)&&m(a,c)){var d=a[c];-1===b.inArray(d,h)&&k(d)}for(var i in a)a.hasOwnProperty(i)&&(a[i]=null)}var h=[];k(a)}function C(b,a){return a.view.__view.isAvailable(b)?a.view.__view:a.parentController?C(b,a.parentController):e.core.view}function M(b){return!b.__controllerContext||b.__controllerContext.isDisposing}function Ua(b,a){function k(b,c){var i=b.__controllerContext[d[c]];i&&!Aa(i)&&!Ba(i)&&i.rejectWith(b,[a]);if(b.parentController)k(b.parentController,
c);else if(c<d.length-1)for(var i=0,f=h.length;i<f;i++)k(h[i],c+1)}var h=[],c=function(b){var a=!1,k;for(k in b)m(b,k)&&(a=!0,c(b[k]));a||h.push(b)};c(b);for(var d=["initDfd","readyDfd"],i=0,f=h.length;i<f;i++)k(h[i],0)}function La(b,a){for(var k=b.childNodes,h=0,c=k.length;h<c;h++){var d=k[h];if(1===d.nodeType){if(d=La(d,a))return d}else if(8===d.nodeType){var i=d.nodeValue;if(0===i.indexOf(Ma)){var f=i.indexOf("}");if(-1!==f&&(i=i.slice(0,f).match(/id="([A-Za-z][\w-:\.]*)"/))&&i[1]===a)return d}}}return null}
function Ca(b){var a=this;return function(){return b.apply(a,arguments)}}function Na(b){var a=this;return function(){var k=e.u.obj.argsToArray(arguments);k.unshift(this);return b.apply(a,k)}}function Oa(b){this.__controller=b;e.u.obj.getByPath("h5.core.view")&&(this.__view=e.core.view.createView())}function oa(b,a,k,h,c){this.__name=a;this.__templates=null;this.rootElement=b;this.__controllerContext={executeListeners:!0,isRoot:c,bindMap:{},unbindMap:{},controllerDef:k};this.__controllerContext.args=
h?h:null;this.isReady=this.isInit=!1;this.readyPromise=this.initPromise=this.preinitPromise=this.parentController=this.rootController=null;this.log=e.log.createLogger(a);this.view=new Oa(this)}function fb(){this.rootElement=document;this.controllers=[];b(document).bind(Da,function(b,a){null==a.target&&(a.target=document);a.indicator=n(this,a);b.stopPropagation()})}function S(a,h,d,i){var f=!i||!i.isInternal,n=h.__name;(!w(n)||0===b.trim(n).length)&&c(ja,null,{controllerDefObj:h});d&&!b.isPlainObject(d)&&
c(ka,[n],{controllerDefObj:h});h.__controllerContext&&c(Va,null,{controllerDefObj:h});if(f||a)if(null==a)c(Ia,[n],{controllerDefObj:h});else if(w(a)||"object"===typeof a){var g=b(a);0===g.length&&c(Ka,[n],{controllerDefObj:h});1<g.length&&c(xa,[n],{controllerDefObj:h})}else c(Ja,[n],{controllerDefObj:h});s(h)&&c(Wa,[n],{controllerDefObj:h});I(h)&&c(Ea,[n],{controllerDefObj:h});var J=new oa(a?b(a).get(0):null,n,h,d,f),a=b.extend(!0,{},h),ca=h.__templates,Z=Y(),g=Z.promise(),Q=Y(),m=Q.promise();J.__controllerContext.preinitDfd=
Q;J.preinitPromise=m;J.__controllerContext.initDfd=Y();J.initPromise=J.__controllerContext.initDfd.promise().fail(va);J.__controllerContext.readyDfd=Y();J.readyPromise=J.__controllerContext.readyDfd.promise();f||J.readyPromise.fail(va);if(ca&&0<ca.length){var l=function(b){e.u.obj.getByPath("h5.core.view")||c(ha);J.view.load(ca).done(function(){Z.resolve()}).fail(function(a){var k=a.detail.error.status;b===e.settings.dynamicLoading.retryCount||0!==k&&12029!==k?setTimeout(function(){Z.reject(a)},0):
setTimeout(function(){l(++b)},e.settings.dynamicLoading.retryInterval)})};l(0)}else Z.resolve();g.done(function(){M(J)||Q.resolveWith(J)}).fail(function(b){Q.rejectWith(J,[b]);J.rootController&&J.rootController.dispose(b)});for(var y in a)if(Xa[y])c(Ya,[n,y],{controllerDefObj:h});else if(("__ready"===y||"__construct"===y||"__init"===y)&&b.isFunction(a[y]))J[y]=o(a,y);else if(-1!==y.indexOf(" ")&&b.isFunction(a[y])){g=b.trim(y);m=g.lastIndexOf(" ");f=b.trim(g.substring(0,m));g=b.trim(g.substring(m+
1,g.length));F(g)&&(g="["+b.trim(x(g))+"]");H(f)&&"this"===B(f)&&c(Za,[n],{controllerDefObj:h});m=J.__controllerContext.bindMap;m[f]||(m[f]={});m[f][g]&&c($a,[n,f,g],{controllerDefObj:h});var C=o(a,y,!0);m[f][g]=C;J[y]=C}else k(y,Ra)&&a[y]&&!b.isFunction(a[y])?(f=S(null,b.extend(!0,{},a[y]),d,b.extend({isInternal:!0},i)),J[y]=f):J[y]=k(y,Sa)&&a[y]&&!b.isFunction(a[y])?U(h[y]):b.isFunction(a[y])?o(a,y):a[y];if(d=J.__meta)for(y in d)f=J[y],void 0===f&&c(pa,[n,y],{controllerDefObj:h}),null===f&&c(Pa,
[n,y],{controllerDefObj:h}),oa.prototype.constructor!==f.constructor&&c(Qa,[n,y],{controllerDefObj:h});J.__construct&&J.__construct({args:J.__controllerContext.args});if(M(J))return null;i&&"managed"in i&&(J.__controllerContext.managed=i.managed);J.__controllerContext.isRoot&&v(J);return J}function U(a){var h=a.__name;(!w(h)||0===b.trim(h).length)&&c(ya,null,{logicDefObj:a});a.__logicContext&&c(za,null,{logicDefObj:a});var d=b.extend(!0,{},a),i;for(i in d)d[i]=b.isFunction(d[i])?E(d[i],i,D(d.__name,
i)):d[i];d.deferred=Y;d.log=e.log.createLogger(h);d.__logicContext={logicDef:a};d.own=Ca;d.ownWithOrg=Na;for(var f in d)d.hasOwnProperty(f)&&k(f,Sa)&&(d[f]=U(d[f]));return d}var ia="undefined",Ra="Controller",Sa="Logic",ma="h5trackstart",Ga="h5trackmove",ua="h5trackend",Ha="rootElement",Da="triggerIndicator",Ma="{h5view ",wa=6E3,Ia=6001,Ka=6003,xa=6004,ja=6006,ka=6007,Va=6008,Wa=6009,Ea=6010,Ya=6011,Za=6012,$a=6013,pa=6014,Pa=6015,Qa=6016,ya=6017,za=6018,ha=6029,Ja=6030,Ta=6033,va=function(){},Y=
e.async.deferred,ta=e.u.str.startsWith,k=e.u.str.endsWith,J=e.u.str.format,Z=e.u.obj.argsToArray,Q={SELECTOR_TYPE_LOCAL:1,SELECTOR_TYPE_GLOBAL:2,SELECTOR_TYPE_OBJECT:3},ca=[],na=[];b.extend(q.prototype,Q);b.extend(Oa.prototype,{get:function(b,a){return C(b,this.__controller).get(b,a)},update:function(b,a,k){b=R(b,this.__controller.rootElement,!0);return C(a,this.__controller).update(b,a,k)},append:function(b,a,k){b=R(b,this.__controller.rootElement,!0);return C(a,this.__controller).append(b,a,k)},
prepend:function(b,a,k){b=R(b,this.__controller.rootElement,!0);return C(a,this.__controller).prepend(b,a,k)},load:function(b){return this.__view.load(b)},register:function(b,a){this.__view.register(b,a)},isValid:function(b){return this.__view.isValid(b)},isAvailable:function(b){return C(b,this.__controller).isAvailable(b)},getAvailableTemplates:function(a){var k=[],h;for(h in this.__view.__cachedTemplates)k.push(h);if(!a)return k;a=this.__controller.parentController?this.__controller.parentController.view.getAvailableTemplates(!0):
e.core.view.getAvailableTemplates(!0);h=0;for(var c=a.length;h<c;h++)-1===b.inArray(a[h],k)&&k.push(a[h]);return k},clear:function(b){this.__view.clear(b)},bind:function(a,k){var h=a;if(w(a)&&0===a.indexOf("h5view#")){for(var c=La(this.__controller.rootElement,a.slice(7)),h=c.nodeValue,h=h.slice(h.indexOf("}")+1),d=b("<div>").append(h),h=[],i=d[0].childNodes,f=0,n=i.length;f<n;f++)h.push(i[f]);d.empty();d=document.createDocumentFragment();f=0;for(n=h.length;f<n;f++)d.appendChild(h[f]);c.parentNode.insertBefore(d,
c.nextSibling)}return this.__view.bind(h,k)}});b.extend(oa.prototype,{$find:function(a){return b(this.rootElement).find(a)},deferred:function(){return Y()},trigger:function(a,k){var h=w(a)?b.Event(a):a;b(this.rootElement).trigger(h,k);return h},own:Ca,ownWithOrg:Na,bind:function(b,a){this.__controllerContext.isRoot||c(6031);this.rootElement=P(b,null,this);this.view.__controller=this;i(this,a?a:null);v(this);return this},unbind:function(){this.__controllerContext.isRoot||c(6031);y(this,"__unbind");
A(this);l(this);this.__controllerContext.unbindMap={};var a=this;e.core.controllerManager.controllers=b.grep(e.core.controllerManager.controllers,function(b){return b!==a});b(this.rootElement).trigger("h5controllerunbound",this);this.rootElement=null;this.view.__controller=null;fa(this)},dispose:function(b){if(!M(this)){Ua(this,b);this.__controllerContext.isDisposing=1;var a=this.deferred();this.unbind();var k=this,b=y(this,"__dispose");e.async.when(b).done(function(){O(k);a.resolve()});return a.promise()}},
triggerIndicator:function(a){var k={indicator:null};a&&b.extend(k,a);b(this.rootElement).trigger(Da,[k]);return k.indicator},indicator:function(b){return n(this,b)},enableListeners:function(){G(this,!0)},disableListeners:function(){G(this,!1)},throwError:function(b,a){var k=Z(arguments);k.unshift(null);this.throwCustomError.apply(null,k)},throwCustomError:function(b,a,k){2>arguments.length&&c(6005);var h=null;a&&w(a)?h=Error(J.apply(null,Z(arguments).slice(1))):(h=Error(),h.detail=a);h.customType=
b;throw h;}});b.extend(fb.prototype,{getAllControllers:function(){return this.controllers},getControllers:function(a,k){for(var h=k&&k.deep,c=k&&k.name?L(k.name):null,d=b(a)[0],i=this.controllers,f=[],n=0,g=i.length;n<g;n++){var J=i[n];c&&-1===b.inArray(J.__name,c)||(d===J.rootElement?f.push(J):h&&da(d)===da(J.rootElement)&&b.contains(d,J.rootElement)&&f.push(J))}return f}});e.u.obj.expose("h5.core",{controllerManager:new fb});var Xa={},qa=new oa(null,"a"),W;for(W in qa)qa.hasOwnProperty(W)&&"__name"!==
W&&"__templates"!==W&&"__meta"!==W&&(Xa[W]=1);qa=null;qa=oa.prototype;for(W in qa)qa.hasOwnProperty(W)&&(Xa[W]=1);qa=null;cb.controllerInternal=S;e.u.obj.expose("h5.core",{controller:function(b,a,k){2>arguments.length&&c(6032);return S(b,a,k)},logic:U,expose:function(b){var a=b.__name;a||c(6019,null,{target:b});var k=a.lastIndexOf(".");if(-1===k)window[a]=b;else{var h=a.substr(0,k),a=a.substr(k+1,a.length),k={};k[a]=b;e.u.obj.expose(h,k)}}})})();(function(){function q(b){return(b=b&&w(b)?b.match(/^(string|number|integer|boolean|any|enum|@(.+?))((\[\]){0,1})$/):
null)?{elmType:b[1],dataModel:b[2],dimension:b[3]?1:0}:{}}function z(a,h){return function Q(a,k){if(!h[a])return!1;for(var c=0,d=h[a].length;c<d;c++)if(-1<b.inArray(h[a][c],k)||Q(h[a][c],k.concat([a])))return!0;return!1}(a,[])}function o(b){return"number"===typeof b&&isNaN(b)}function D(b,a){return null==b||o(b)||"number"===typeof b||!a&&(b instanceof Number||!(!(w(b)||b instanceof String)||!b.match(/^[+\-]{0,1}[0-9]*\.{0,1}[0-9]+$/)))}function E(b,a){return null==b||"number"===typeof b&&parseInt(b)===
b||!a&&(b instanceof Number&&parseInt(b)===parseFloat(b)||("string"===typeof b||b instanceof String)&&!!b.match(/^[+\-]{0,1}[0-9]+$/))}function H(a,h,d){function i(){f.push(t.call(this,arguments));if(d)throw null;}var f=[];try{if(!b.isPlainObject(a))throw i(M),null;ia(a.name)||i(Ua);var n=a.base,g=null;if(null!=n)if(!w(n)||0!==n.indexOf("@"))i(La);else{var v=n.substring(1);h.models[v]?g=h.models[v].schema:i(Ca,v)}var e=a.schema;!g&&null==e&&i(Na);if(!g&&!b.isPlainObject(e))throw i(Oa),null;}catch(y){c(P,
null,f)}}function F(a,h,d,f){function n(){g.push(t.call(this,arguments));if(f)throw null;}"object"!==typeof a&&c(v);var g=[];try{if(h){var e=!1,y;for(y in a)a[y]&&!0===a[y].id&&(e&&n(oa),e=!0);e||n(S)}var m={},e=function(b){if(null!=b){O&&n(ga,j);p.hasOwnProperty("defaultValue")&&n(Ya,j);if(null==b.on)n(da,j);else for(var h=L(b.on),c=0,d=h.length;c<d;c++)if(!a.hasOwnProperty(h[c])){n(da,j);break}"function"!==typeof b.calc&&n(ja,j);m[j]=L(b.on)}};y=function(b){O&&null==b&&(b="string");var a={};null!=
b&&(w(b)?(O&&"string"!==b&&"integer"!==b&&n($a,j),a=q(b),a.elmType?(a.dataModel&&(h||n(ma,j,a.dataModel),d.models[a.dataModel]||n(Ga,j,a.dataModel)),"enum"===a.elmType&&null==p.enumValue&&n(ua,j)):n(ma,j,b)):n(ka,j))};var l=function(a,h){if(null!=a)if(b.isPlainObject(a)){for(var k in a){var c=a[k];if(null!=c)switch(k){case "notNull":!0!==c&&!1!==c?n(Da,j,k):O&&!c&&n(Ea,j,k,c);break;case "min":case "max":switch(h.elmType){case "integer":(w(c)||!E(c)||o(c))&&n(Ma,j,k);break;case "number":(w(c)||w(c)||
!D(c)||Infinity===c||-Infinity===c||o(c))&&n(Ma,j,k);break;default:n(wa,j,k,h.elmType)}break;case "minLength":case "maxLength":switch(h.elmType){case "string":w(c)||!E(c)||o(c)||0>c?n(Ka,j,k):O&&"maxLength"===k&&0===c&&n(Ea,j,k,c);break;default:n(wa,j,k,h.elmType)}break;case "notEmpty":switch(h.elmType){case "string":!0!==c&&!1!==c?n(Da,j,k):O&&!c&&n(Ea,j,k,c);break;default:n(wa,j,k,h.elmType)}break;case "pattern":switch(h.elmType){case "string":"regexp"!==b.type(c)&&n(Ia,j,k);break;default:n(wa,
j,k,h.elmType)}}}a.notEmpty&&0===a.maxLength&&n(xa,j,"notEmpty","maxLength");null!=a.min&&null!=a.max&&a.min>a.max&&n(xa,j,"min","max");null!=a.minLength&&null!=a.maxLength&&a.minLength>a.maxLength&&n(xa,j,"minLength","maxLength")}else n(Ha,j)},C=function(a,k){null!=a&&("enum"!==k.elmType&&n(Aa,j),(!b.isArray(a)||0===a.length||-1<b.inArray(null,a)||-1<b.inArray(void 0,a))&&n(Ba,j))},j;for(j in a){var p=null==a[j]?{}:a[j],O=h&&!!p.id;ia(j)||n(U,j);e(p.depend);y(p.type);var M={},r=O&&null==r?"string":
p.type;w(r)&&(M=q(r));l(p.constraint,M);C(p.enumValue,M);O&&p.hasOwnProperty("defaultValue")&&n(Va,j)}for(var u in m)z(u,m)&&n(Za,u)}catch(s){c(i,null,g)}return!0}function B(b,a){var h=[];try{for(var d in b){var n=b[d];if(n&&(n.hasOwnProperty("defaultValue")||!n.type||!("array"===n.type||q(n.type).dimension))&&n.hasOwnProperty("defaultValue")){var f=n.defaultValue;a[d](f).length&&pushErrorReason(Wa,d,f)}}return!0}catch(g){c(i,null,h)}}function x(b,a,h){var c={},d;for(d in b){var i=c,n=d,f;f=h;var g=
b[d]||{},v=[],e=null,y=0,e=g.type,m=g.constraint||{};a&&g.id&&(e=e||"string",m.notNull=!0,"string"===e&&(m.notEmpty=!0));e&&(y=q(e),e=y.elmType,y=y.dimension,v.push(s(e,{manager:f,enumValue:g.enumValue})));m&&v.push(u(m));f=I({checkFuncs:v,dimension:y});i[n]=f}return c}function u(b){return function(a){var h=[];b.notNull&&null==a&&h.push({notNull:b.notNull});b.notEmpty&&!a&&h.push({notEmpty:b.notEmpty});if(null==a)return h;null!=b.min&&a<b.min&&h.push({min:b.min});null!=b.max&&b.max<a&&h.push({max:b.max});
null!=b.minLength&&a.length<b.minLength&&h.push({minLength:b.minLength});null!=b.maxLength&&b.maxLength<a.length&&h.push({maxLength:b.maxLength});null!=b.pattern&&!a.match(b.pattern)&&h.push({pattern:b.pattern});return h}}function s(a,h){var c=[{type:a}];switch(a){case "number":return function(b,a){return D(b,a)?[]:c};case "integer":return function(b,a){return E(b,a)?[]:c};case "string":return function(b,a){return null==b||w(b)||!a&&b instanceof String?[]:c};case "boolean":return function(b,a){return null==
b||"boolean"===typeof b||!a&&b instanceof Boolean?[]:c};case "enum":return function(a){var k;a:if(k=h.enumValue,o(a)){for(var a=0,d=k.length;a<d;a++)if(o(k[a])){k=!0;break a}k=!1}else k=null===a||-1<b.inArray(a,k);return k?[]:c};case "any":return function(){return[]}}var d=a.match(/^@(.+?)$/)[1],i=h.manager;return function(b){var a=i.models[d];return!a||"object"!==typeof b&&null!=b?c:null==b||a.has(b)?[]:c}}function I(a){var h=a.checkFuncs;if(!h||0===h.length)return function(){return[]};var c=a.dimension||
0;return function(a,k){function d(a,n){if(!n){for(var f=0,g=h.length;f<g;f++){var v=h[f](a,k);if(v.length)return i=i.concat(v),!1}return!0}if(null==a)return!0;if(!b.isArray(a)&&!e.core.data.isObservableArray(a))return i.push({dimension:c}),!1;f=0;for(g=a.length;f<g;f++)if(!d(a[f],n-1))return!1;return!0}var i=[];d(a,c);return i}}function m(b,a){b._values={};b._nullProps={};for(var h in a)if(a[h]&&j(a[h].type)){var c=la();c.relatedItem=b;b._values[h]=c;b._nullProps[h]=!0}}function j(b){return!b?!1:
-1!==b.indexOf("[]")}function t(){return{code:arguments[0]}}function d(a,h,d,i){function n(h){for(var h=L(v[h].depend.on),c=0,d=h.length;c<d;c++)if(-1===b.inArray(h[c],a._realProperty)&&-1!==b.inArray(h[c],g))return!1;return!0}function f(a,h){for(var k=0,c=h.length;k<c;k++){var d=e[h[k]];if(d)for(var i=0,n=d.length;i<n;i++){var g=d[i];-1===b.inArray(g,a)&&a.push(g)}}}var g=[],v=a.schema||a._model.schema,e=a._dependencyMap,y={};for(i?g=a._dependProps.slice():f(g,L(d));0!==g.length;){for(var d=[],i=
0,m=g.length;i<m;i++){var l=g[i];if(n(l)){var p=v[l].depend.calc.call(a,h);0!==a._validateItemValue(l,p,!0).length&&c(C,[a._model?a._model.name:pa,l,p]);y[l]={oldValue:a._values[l],newValue:p};v[l]&&j(v[l].type)?p?(a._values[l].copyFrom(p),a._nullProps[l]=!1):(a._values[l].copyFrom([]),a._nullProps[l]=!0):a._values[l]=p}else d.push(l)}f(d,g);g=d}return y}function a(b,a,h,d){for(var i in h){i in b||c(O,[d?d.name:pa,i]);var f=h[i];if(!b[i]||!j(b[i].type)||h.hasOwnProperty(i))f=a(i,f,d&&d._idKey===i),
0<f.length&&c(n,[d?d.name:pa,i],f)}}function f(a,h,i,f){var n=a.schema||a._model.schema,g=[],v;for(v in h)if(!(i&&-1!==b.inArray(v,i))){var m=a._values[v],l=h[v];if(n[v]&&n[v].depend)m!==l&&c(y,[a._model?a._model.name:pa,v]);else{var p=n[v]&&n[v].type;j(p)&&(null==l?(l=[],a._nullProps[v]=!0):a._nullProps[v]=!1);if(p&&p.match(/string|number|integer|boolean/)){var C=l;if(b.isArray(C)){for(var C=C.slice(0),l=0,O=C.length;l<O;l++)C[l]=C[l]&&"object"===typeof C[l]?C[l]&&C[l].valueOf&&C[l].valueOf():C[l];
l=C}else l=C&&"object"===typeof C&&C.valueOf?C.valueOf():C}if(null!=l&&p&&p.match(/number|integer/)&&"number"!==typeof l)if(b.isArray(l)||e.core.data.isObservableArray(l)){C=0;for(O=l.length;C<O;C++)null!=l[C]&&D(l[C])&&(l[C]=parseFloat(l[C]))}else null!=l&&(l=parseFloat(l));if(!j(p)||!m||!m.equals(l,m))m===l||o(m)&&o(l)||(p&&-1!==p.indexOf("[]")&&e.core.data.isObservableArray(m)&&(m=m.toArray()),g.push({p:v,o:m,n:l}))}}if(g.length){h={};i=[];C=0;for(v=g.length;C<v;C++)m=g[C],n[m.p]&&j(n[m.p].type)?
m.n&&a._values[m.p].copyFrom(m.n):a._values[m.p]=m.n,h[m.p]={oldValue:m.o,newValue:a.get(m.p)},i.push(m.p);n={type:!0===f?"create":"change",target:a,props:h};b.extend(h,d(a,n,i,f));return n}}function l(b){var a=b._manager,b=b.name;a._updateLogs||(a._updateLogs={});a._updateLogs[b]||(a._updateLogs[b]={});return a._updateLogs[b]}function A(b,a,h){if(b._manager)for(var c=l(b),d=0,i=h.length;d<i;d++){var n=h[d],f=n._values[b._idKey];c[f]||(c[f]=[]);c[f].push({type:a,item:n})}}function G(b,a){if(b._manager){var h=
l(b),c=a.target._values[b._idKey];h[c]||(h[c]=[]);h[c].push({type:Pa,ev:a})}}function g(a){var h={},c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c]?a[c].depend:null;if(d)for(var d=L(d.on),i=0,n=d.length;i<n;i++){var f=d[i];h[f]||(h[f]=[]);-1===b.inArray(c,h[f])&&h[f].push(c)}}return h}function K(a,h){H(a,h,!0);var c;c=(c=a.base)?h.models[c.slice(1)].schema:{};c=b.extend({},c,a.schema);F(c,!0,h,!0);var d=x(c,!0,h);B(c,d,!0);return new ra(c,a,d,h)}function X(a,h){var c=[],d=[],i=[],n;for(n in a)a[n]&&
a[n].depend?d.push(n):c.push(n),a[n]&&a[n].type&&-1!==a[n].type.indexOf("[]")&&i.push(n);n=g(a);var f={},v;for(v in a){var e=a[v];if(!e||!e.depend){var m=null,m=e&&void 0!==e.defaultValue?e.defaultValue:null;f[v]=m}}return{_realProps:c,_dependProps:d,_aryProps:i,_dependencyMap:n,_createInitialValueObj:function(a){if(!a)return b.extend({},f);var h=b.extend({},f),c;for(c in a)h[c]=a[c];return h},_validateItemValue:function(b,a,c){return h[b](a,c)}}}function r(a,d,i,f){var g=!1,v=["sort","reverse","pop",
"shift"],m=null;i.addEventListener("changeBefore",function(i){f&&(a._isRemoved||!f._manager)&&c(h,[a._values[f._idKey],i.method]);var l=e.u.obj.argsToArray(i.args);if(-1===b.inArray(i.method,v)){var y=!0;switch(i.method){case "splice":y=!1;l.shift();l.shift();break;case "copyFrom":l=l[0];break;case "set":l.shift()}y&&(i=a._validateItemValue(d,l),0<i.length&&c(n,d,i))}f?(f._manager&&(i=f._manager,l=f.name,i._oldValueLogs||(i._oldValueLogs={}),i._oldValueLogs[l]||(i._oldValueLogs[l]={}),i=i._oldValueLogs[l],
l=a._values[f._idKey],i[l]||(i[l]={}),i[l][d]||(i[l][d]=a._values[d].toArray())),(g=f._manager?f._manager.isInUpdate():!1)||f._manager.beginUpdate()):m=a._values[d].toArray()});i.addEventListener("change",function(b){if(!(a._isInSet||null===b.method)){var h={type:"change",target:a,props:{}};h.props[d]={};f?(G(f,h),g?b.stopImmediatePropagation():(f._manager._isArrayPropChangeSilentlyRequested=!0,f._manager.endUpdate(),f._manager._isArrayPropChangeSilentlyRequested=!1)):i.equals(m)||(h.props[d]={oldValue:m,
newValue:a._values[d]},a.dispatchEvent(h))}})}function p(){}function R(a){ia(a)||c(aa);this.models={};this.name=a;this._updateLogs=null;this._isArrayPropChangeSilentlyRequested=!1}function ra(a,b,h,c){this.items={};this.size=0;this.name=b.name;this._manager=c;for(var d in a)a[d]&&a[d].id&&(this._idKey=d);this._idType=(b=a[this._idKey].type)?"string"===b?ea:fa:ea;this.schema=a;this._itemConstructor=V(a,h,this);c.models[this.name]=this}function V(h,c,d){function i(b){m(this,h,n,b);b=n._createInitialValueObj(b);
a(h,n._validateItemValue,b,d);f(this,b,null,!0);for(var b=n._aryProps,c=0,g=b.length;c<g;c++)r(this,b[c],this.get(b[c]),d)}var n=X(h,c);d._schemaInfo=n;b.extend(i.prototype,p.prototype,n,Qa);b.extend(i.prototype,{_model:d,_isRemoved:!1,getModel:function(){return this._isRemoved?null:this._model}});return i}function sa(){}function $(){this.length=0;this._src=[]}function la(){return new $}function T(a){return a&&a.constructor===$?!0:!1}var ea="string",fa="number",aa=15E3,P=15001,h=15005,v=15008,i=15009,
n=15011,y=15012,O=15013,C=15016,M=15900,Ua=15901,La=15902,Ca=15903,Na=15904,Oa=6,oa=15800,S=15801,U=15802,ga=15803,da=15804,ja=15805,ka=15806,ma=15807,Ga=15808,ua=15809,Ha=15810,Da=15811,Ma=15812,wa=15813,Ia=15814,Ka=15815,xa=15816,Aa=15817,Ba=15818,Va=15819,Wa=15820,Ea=15821,Ya=15822,Za=15823,$a=15824,pa="n/a",Pa=2,Qa={get:function(a){if(0===arguments.length)return b.extend({},this._values);var h=this._model;(h?h.schema:this.schema).hasOwnProperty(a)||c(15014,[h?h.name:pa,a]);return this._values[a]},
set:function(b){var d=b;2===arguments.length&&(d={},d[arguments[0]]=arguments[1]);var i=this._model;i&&(this._isRemoved||!i._manager)&&c(h,[this._values[this._model._idKey],"set"],this);if(i)i._idKey in d&&d[i._idKey]!==this._values[i._idKey]&&c(15003,[i.name,this._idKey]),a(i.schema,i._schemaInfo._validateItemValue,d,i);else{var n=this.validate(d);if(n)throw n;}var n=null,g=i?i._manager.isInUpdate():!1;i&&!g&&i._manager.beginUpdate();this._isInSet=!0;n=f(this,d);this._isInSet=!1;i?(n&&G(i,n),g||
i._manager.endUpdate()):n&&this.dispatchEvent(n)},regardAsNull:function(a){return this._isArrayProp(a)?!0===this._nullProps[a]:null===this._values[a]},_isArrayProp:function(a){var b=this._model?this._model.schema:this.schema;return b[a]&&b[a].type&&-1<b[a].type.indexOf("[]")?!0:!1}};p.prototype.hasEventListener=function(a,b){if(!this.__listeners)return!1;var h=this.__listeners[a];if(!h||!this.__listeners.hasOwnProperty(a))return!1;for(var c=0,d=h.length;c<d;c++)if(h[c]===b)return!0;return!1};p.prototype.addEventListener=
function(a,b){(2!==arguments.length||!w(a))&&c(15015);null==b||this.hasEventListener(a,b)||(this.__listeners||(this.__listeners={}),this.__listeners.hasOwnProperty(a)||(this.__listeners[a]=[]),this.__listeners[a].push(b))};p.prototype.removeEventListener=function(a,b){if(this.hasEventListener(a,b))for(var h=this.__listeners[a],c=0,d=h.length;c<d;c++)if(h[c]===b){h.splice(c,1);break}};p.prototype.dispatchEvent=function(a){if(this.__listeners){var h=this.__listeners[a.type];if(h){a.target||(a.target=
this);var c=!1;a.preventDefault=function(){c=true};var d=!1;a.stopImmediatePropagation=function(){d=true};for(var i=0,n=h.length;i<n&&!d;i++)b.isFunction(h[i])?h[i].call(a.target,a):h[i].handleEvent&&h[i].handleEvent(a);return c}}};R.prototype=new p;b.extend(R.prototype,{createModel:function(a){(!a||"object"!==typeof a)&&c(P,null,[t(M)]);if(!b.isArray(a))return this.models[a.name]?this.models[a.name]:K(a,this);var h=a.length;h||c(P,null,[t(M)]);for(var d={},i=[],n=0;n<h;n++){var f=a[n].name;if(this.models[f])m[n]=
manager.models[a.name];else try{i.push(f);f=[];a[n].base&&f.push(a[n].base.substring(1));for(var g in a[n].schema){var v=a[n].schema[g];if(v){var e=v.type;e&&"@"===e.substring(0,1)&&(e=-1===e.indexOf("[]")?e.substring(1):e.substring(1,e.length-2),f.push(e))}}d[n]={depends:f}}catch(l){c(P)}}for(var m={size:0};m.size<h;){g={};v=!1;for(n=0;n<h;n++)if(!d[n].registed){for(var f=d[n].depends,e=0,y=f.length;e<y;e++)if(!this.models[f[e]]){g[f[e]]=!0;break}e===y&&(m[n]=K(a[n],this),m.size++,v=!0,d[n].registed=
!0)}if(!v){var n=!0,C;for(C in g)if(-1===b.inArray(C,i)){n=!1;break}n&&c(15004);c(P,null,[t(Ca,C)])}}a=[];for(n=0;n<h;n++)a.push(m[n]);return a},dropModel:function(a){if((a=w(a)?a:"object"===typeof a?a.name:null)&&this.models[a]){var b=this.models[a];b._manager=null;delete this.models[a];return b}},isInUpdate:function(){return null!==this._updateLogs},beginUpdate:function(){this.isInUpdate()||(this._updateLogs={})},endUpdate:function(){if(this.isInUpdate()){var a=!this._isArrayPropChangeSilentlyRequested,
b=this._updateLogs,h=this._oldValueLogs;this._oldValueLogs=this._updateLogs=null;var c={},d;for(d in b)if(b.hasOwnProperty(d)){var i;i=this.models[d];var n=b[d],f=[],g=[],v=[],e=[],l=void 0;for(l in n){for(var m=n[l],y=!0,C=[],j=m.length-1;0<=j;j--){var p=m[j],O=p.type;if(O===Pa)C.push(p.ev);else{a:{for(y=0;y<j;y++){var q=m[y].type;if(1===q||3===q){j=m[y];break a}}j=null}if(1===O)j&&3===j.type?f.push({id:l,oldItem:j.item,newItem:p.item}):g.push(p.item);else if(j=j&&3===j.type?j.item:j?null:p.item)e.push(j),
j.dispatchEvent({type:"remove",model:i});y=!1;break}}if(y&&0<C.length){p={};for(j=C.length-1;0<=j;j--)for(var M in C[j].props)p[M]||(T(i.get(l).get(M))?(O=h&&h[i.name]&&h[i.name][l]&&h[i.name][l][M],i.get(l).get(M).equals(O)||(p[M]={oldValue:O})):p[M]={oldValue:C[j].props[M].oldValue});j=!1;for(M in p)O=p[M].oldValue,m=i.get(l).get(M),O===m||o(O)&&o(m)?delete p[M]:(j=i.get(l).get(M),a&&T(j)&&j.dispatchEvent({type:"change",method:null,args:null,returnValue:null}),p[M].newValue=j,j=!0);j&&(C={type:"change",
target:C[0].target,props:p},v.push(C),C.target.dispatchEvent(C))}}(i=0===g.length&&0===f.length&&0===e.length&&0===v.length?!1:{created:g,recreated:f,removed:e,changed:v})&&(c[d]=i)}a=!1;for(d in c)a=!0,i=c[d],this.models[d].dispatchEvent({type:"itemsChange",created:i.created,recreated:i.recreated,removed:i.removed,changed:i.changed});c={type:"itemsChange",models:c};a&&this.dispatchEvent(c)}},_dataModelItemsChangeListener:function(a){var b=a.target.manager,h={};h[a.target.name]=a;b.dispatchEvent({type:"itemsChange",
models:h})}});b.extend(ra.prototype,p.prototype,{create:function(a){this._manager||c(15006,[this.name,"create"]);var h=this.validate(a,!0);if(h)throw h;(h=this._manager?this._manager.isInUpdate():!1)||this._manager.beginUpdate();for(var d=[],i=L(a),n=[],g=this._idKey,v=0,e=i.length;v<e;v++){var l=i[v],m=l[g],y=this._findById(m);y?(n.push(y),(m=f(y,l,[g]))&&G(this,m)):(l=new this._itemConstructor(l),this.items[m]=l,this.size++,d.push(l),n.push(l))}0<d.length&&A(this,1,d);h||this._manager.endUpdate();
return b.isArray(a)?n:n[0]},validate:function(h,d){try{var i=this._idKey,n=L(h);"object"!==typeof h&&!b.isArray(h)&&c(15007);if(d)for(var f=0,g=n.length;f<g;f++){var v=n[f],e=v[i];(""===e||null==e)&&c(15002,[this.name,i]);var l=this._schemaInfo._createInitialValueObj(v);a(this.schema,this._schemaInfo._validateItemValue,l,this)}else for(var f=0,m=n.length;f<m;f++)v=n[f],a(this.schema,this._schemaInfo._validateItemValue,v,this)}catch(y){return y}return null},get:function(a){if(b.isArray(a)||e.core.data.isObservableArray(a)){for(var h=
[],c=0,d=a.length;c<d;c++)h.push(this._findById(a[c]));return h}return this._findById(a)},remove:function(a){this._manager||c(15006,[this.name,"remove"]);var h=this._manager?this._manager.isInUpdate():!1;h||this._manager.beginUpdate();for(var d=this._idKey,i=L(a),n=[],f=[],g=0,v=i.length;g<v;g++)if(this.has(i[g])){var e=w(i[g])||E(i[g],!0)?i[g]:i[g]._values[d],l=this.items[e];delete this.items[e];this.size--;f.push(l);l._model&&(l._isRemoved=!0);n.push(l)}else f.push(null);0<n.length&&A(this,3,n);
h||this._manager.endUpdate();return b.isArray(a)?f:f[0]},removeAll:function(){var a=this.toArray();0<a.length&&this.remove(a);return a},has:function(a){return w(a)||E(a,!0)?!!this._findById(a):"object"===typeof a?null!=a&&b.isFunction(a.get)&&a===this.items[a.get(this._idKey)]:!1},getManager:function(){return this._manager},_findById:function(a){a=this.items[a];return void 0===a?null:a},_dispatchItemsChangeEvent:function(a){a={type:"itemsChange",created:[],recreated:[],removed:[],changed:[a]};this.dispatchEvent(a);
this._manager&&(a.target=this,this._manager._dataModelItemsChangeListener(a))},toArray:function(){var a=[],b=this.items,h;for(h in b)b.hasOwnProperty(h)&&a.push(b[h]);return a}});b.extend(sa.prototype,p.prototype,Qa,{validate:function(b){try{var h=b;2===arguments.length&&(h={},h[arguments[0]]=arguments[1]);a(this.schema,this._validateItemValue,h)}catch(c){return c}return null}});b.extend($.prototype,p.prototype);var ya={equals:function(a){var h=this.length;if(!b.isArray(a)&&!T(a)||a.length!==h)return!1;
for(var a=T(a)?a._src:a,c=0;c<h;c++){var d=this[c],i=a[c];if(!(d===i||o(d)&&o(i)))return!1}return!0},copyFrom:function(a){null==a&&(a=[]);a=T(a)?a._src:a;b.isArray(a)||c(15010,[0,a]);a=a.slice(0);a.unshift(0,this.length);Array.prototype.splice.apply(this,a)},get:function(a){return this[a]},set:function(a,b){this[a]=b},toArray:function(){return this.slice(0)},concat:function(){for(var a=e.u.obj.argsToArray(arguments),b=0,h=a.length;b<h;b++)T(a[b])&&(a[b]=a[b].toArray());return this.concat.apply(this,
a)}},za="concat,join,pop,push,reverse,shift,slice,sort,splice,unshift,indexOf,lastIndexOf,every,filter,forEach,map,some,reduce,reduceRight".split(","),ha;for(ha in ya)ya.hasOwnProperty(ha)&&-1===b.inArray(ha,za)&&za.push(ha);var Ja=["concat","slice","splice","filter","map"],Ta=["reverse","sort"],va="sort,reverse,pop,shift,unshift,push,splice,copyFrom,set".split(",");ha=0;for(var Y=za.length;ha<Y;ha++){var ta=za[ha];$.prototype[ta]=function(a){function h(){var d=c.apply(this._src,arguments);if(-1!==
b.inArray(a,Ta))d=this;else if(-1!==b.inArray(a,Ja)){var i=la();i.copyFrom(d);d=i}return d}var c=ya[a]?ya[a]:Array.prototype[a];return-1===b.inArray(a,va)?h:function(){if(!this.dispatchEvent({type:"changeBefore",method:a,args:arguments})){var b=h.apply(this,arguments);this.length=this._src.length;this.dispatchEvent({type:"change",method:a,args:arguments,returnValue:b});return b}}}(ta)}e.u.obj.expose("h5.core.data",{createManager:function(a,b){ia(a)||c(aa);var h=new R(a);if(null!=b){""===b&&(b="window");
var d={};d[a]=h;e.u.obj.expose(b,d)}return h},createObservableArray:la,createObservableItem:function(b){F(b,!1,null,!0);var h=x(b);B(b,h,!0);var c=new sa,h=X(b,h);m(c,b,h);c.schema=b;for(var d in h)c[d]=h[d];d=h._createInitialValueObj();a(b,h._validateItemValue,d);f(c,d,null,!0);b=0;for(h=c._aryProps.length;b<h;b++)r(c,c._aryProps[b],c.get(c._aryProps[b]));return c},isObservableArray:T,isObservableItem:function(a){return!(!a||!a.constructor||!a._validateItemValue||b.isFunction(a.getModel))},createSequence:function(a,
h,c){function d(){return v}function i(){var a=v;v+=e;return a}function n(){return v.toString()}function f(){var a=v;v+=e;return a.toString()}function g(){}var v=null!=a?a:1,e=null!=h?h:1,a=1===c?{current:n,next:f,returnType:1}:{current:d,next:i,returnType:2};a.setCurrent=function(a){v=a};b.extend(g.prototype,a);return new g},SEQ_STRING:1,SEQ_INT:2})})();(function(){function q(a,b){return!a||a.nodeType!==f?void 0:a.getAttribute(b)}function z(a){if(!a)return null;for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);
return b}function o(a,b,c,d){var f=[],b=L(b);if(!0===d)return w(f,a,b,c),f;for(var a=a.childNodes,d=0,g=a.length;d<g;d++)w(f,a[d],b,c);return f}function w(a,b,c,d){if(b.nodeType===f){for(var g=0,e=c.length;g<e;g++){var l=b.getAttribute(c[g]);if(void 0===d){if(null!==l){a.push(b);break}}else if(null!==l&&l==d){a.push(b);break}}if(0<b.childNodes.length){b=b.childNodes;g=0;for(e=b.length;g<e;g++)w(a,b[g],c,d)}}}function E(a,c){for(var a=L(a),d=[],n=0,g=a.length;n<g;n++){var e=a[n];if(e.nodeType===f&&
!(!0===c&&(null!=q(e,A)||null!=q(e,G))))for(var m=o(e,l,void 0,!0),j=0,p=m.length;j<p;j++){for(var r=!0,t=m[j];null!=t&&t!==e;t=t.parentNode)if(null!=q(t,A)||null!=q(t,G)){r=!1;break}r&&d.push(m[j])}}return b(d)}function H(a,c,d){for(var n=[],g=0,e=a.length;g<e;g++){var l=a[g];if(l.nodeType===f){if(!0===d){if(null!=l.getAttribute(c)){n.push(l);continue}if(null!=q(l,A)||null!=q(l,G))continue}for(var m=o(l,c,void 0,!1),j=0,p=m.length;j<p;j++){var t=b(m[j])[0],r=t.parentNode;(null==q(r,A)&&null==q(r,
G)||r===l)&&n.push(t)}}}return b(n)}function F(a){return a&&a.addEventListener&&a.getModel&&!b.isArray(a)&&!e.core.data.isObservableArray(a)||e.core.data.isObservableItem(a)?!0:!1}function B(a,b){for(var c=0,d=a.length;c<d;c++){var g=a[c];g.nodeType===f&&g.setAttribute(K,b)}}function x(a,d,i){var n=T++,f=d[0];b(f).empty();if(i){!b.isArray(i)&&!e.core.data.isObservableArray(i)&&c($);B(d,n);a._addBindingEntry(i,f,n);e.core.data.isObservableArray(i)&&!a._isWatching(i)&&(d=function(b){a._observableArray_changeListener(b)},
a._listeners[a._getContextIndex(i)]=d,i.addEventListener("change",d));var d=q(f,g),d=z(a._getSrcCtxNode(d).childNodes),l=[];a._loopElementsMap[n]=l;for(var n=f.ownerDocument.createDocumentFragment(),m=i.get?function(a){return i.get(a)}:function(a){return i[a]},j=0,p=i.length;j<p;j++){for(var o=[],t=0,r=d.length;t<r;t++){var s=P(d[t]);o.push(s);n.appendChild(s)}l[j]=o;f.appendChild(n);u(a,o,m(j),!1,!0)}}}function u(a,d,i,f,g){d=L(d);if(f)x(a,d,i);else{f=T++;i&&(("object"!==typeof i||b.isArray(i)||
e.core.data.isObservableArray(i))&&c($),B(d,f),a._addBindingEntry(i,d,f));var l=F(i);l&&!a._isWatching(i)&&(f=function(b){a._observableItem_changeListener(b)},a._listeners[a._getContextIndex(i)]=f,i.addEventListener("change",f));E(d,g).each(function(){I(this,i,l)});s(a,d,i,!1,g);s(a,d,i,!0,g)}}function s(a,b,c,d,f){var g=d?"data-h5-loop-context":"data-h5-context";H(b,g,f).each(function(){var b=q(this,g),f=null;c&&(f=F(c)?c.get(b):c[b]);u(a,this,f,d)})}function I(a,d,i){for(var f=q(a,l).split(R),g=
[],e=[],m=[],j=0,o=f.length;j<o;j++){var t=f[j];if(-1===t.indexOf(p))0<b.trim(t).length&&(g.push(null),e.push(null),m.push(b.trim(t)));else{var s=t.split(p),t=b.trim(s[0]),s=b.trim(s[1]),u=null,A=ra.exec(t);A&&(u=A[1],t=/(\S+)[\s\(]/.exec(t)[1]);0<t.length&&0<s.length&&(g.push(t),e.push(u),m.push(s))}}f=a.tagName.toLowerCase();j=b(a);o=0;for(t=g.length;o<t;o++){var u=g[o],A=e[o],G=m[o],s=null;d&&(s=i?d.get(G):d[G]);null==u&&("input"===f?(u="attr",A="value"):u="text");switch(u){case "text":null==s?
j.text(""):j.text(s);break;case "html":null==s?j.html(""):j.html(s);break;case "class":var u=q(a,r),G=(A=null==u)?"":" ",x=!1;s&&(x=!RegExp("\\s"+s+"\\s").test(" "+u+" "));j[0].className=(A?"":u)+(x?G+s:"");break;case "attr":A||c(V);"input"===f&&"value"===A?null==s?j.val(""):j.val(s):null==s?j.removeAttr(A):j.attr(A,s);break;case "style":A||c(V);null==s?j.css(A,""):j.css(A,s);break;default:c(sa)}}}function m(a,b,c){for(var d=0,f=c.length;d<f;d++){var g=c[d];b.removeChild(g);a._removeBinding(g)}}function j(a){for(var a=
a.childNodes,b=[],c=0,d=a.length;c<d;c++)b.push(P(a[c]));return b}function t(a,b,c,d,f){for(var g=c.ownerDocument.createDocumentFragment(),e=[],l=0,m=f.length;l<m;l++){var p=j(c);e[l]=p;for(var o=0,t=p.length;o<t;o++)g.appendChild(p[o]);u(a,p,f[l])}Array.prototype[d].apply(b,e);return g}function d(a,b,c,d,f,g){var e=d.length;if(0!==e){for(var l=d[0],p=l,c=1===e?c.length:p+d[1];p<c;p++){var o=f[p];o&&m(a,b,o)}f.splice(l,d[1]);if(!(2>=e)){p=f.length;p=0===p||0===l?b.firstChild:l>=p?null:f[l][0];c=g.ownerDocument.createDocumentFragment();
l=[l,0];for(o=2;o<e;o++){for(var t=j(g),q=0,r=t.length;q<r;q++)c.appendChild(t[q]);u(a,t,d[o]);l.push(t)}b.insertBefore(c,p);Array.prototype.splice.apply(f,l)}}}function a(a,b){void 0!==a.nodeType?a.nodeType===f&&(this._parent=a.parentNode,this._targets=[a]):(this._parent=a[0].parentNode,this._targets=z(a));this._bindRootId=ea++;fa[this._bindRootId]=this;for(var c=[],d=0,e=this._targets.length;d<e;d++){var m=this._targets[d];if(m.nodeType===f){m.setAttribute(X,this._bindRootId);for(var j=o(m,[A,G],
void 0,!0),p=0,t=j.length;p<t;p++){var s=la++;j[p].setAttribute(g,s)}j=o(m,l,void 0,!0);p=0;for(t=j.length;p<t;p++)s=j[p],/class\s*:/.test(q(s,l))&&""!=s.className&&s.setAttribute(r,s.className)}c.push(m.cloneNode(!0))}this._srces=c;this._loopElementsMap={};this._rootContext=b;this._usingContexts=[];this._srcToViewMap={};this._listeners={};u(this,this._targets,this._rootContext,!1,!0)}var f=1,l="data-h5-bind",A="data-h5-context",G="data-h5-loop-context",g="data-h5-dyn-ctx",K="data-h5-dyn-vid",X="data-h5-dyn-bind-root",
r="data-h5-dyn-cn",p=":",R=";",ra=/\(\s*(\S+)\s*\)/,V=7100,sa=7101,$=7102,la=0,T=0,ea=0,fa={},aa={},P;(function(){var a=document.createElement("div");a.h5Dummy="a";var c=a.cloneNode(!1),d=void 0!==c.h5Dummy;a.h5Dummy=void 0;d?(c.h5Dummy=void 0,P=function(a){var c=a.ownerDocument;return a.nodeType===f?b(b.trim(a.outerHTML),c)[0]:a.cloneNode(!0)}):P=function(a){return a.cloneNode(!0)}})();b.extend(a.prototype,{unbind:function(){for(var a=0,b=this._targets.length;a<b;a++){var c=this._targets[a];if(c.nodeType===
f){this._removeBinding(c);c.removeAttribute(X);for(var d=o(c,r,void 0,!0),e=0,l=d.length;e<l;e++)d[e].removeAttribute(r);c=o(c,g,void 0,!0);e=0;for(d=c.length;e<d;e++)c[e].removeAttribute(g)}}delete fa[this._bindRootId]},_observableArray_changeListener:function(a){var b=this._getViewsFromSrc(a.target);if(b)for(var c in b)if(b.hasOwnProperty(c)){var f=b[c],e=this._getSrcCtxNode(q(f,g)),l=this._loopElementsMap[c];switch(a.method){case "set":d(this,f,a.target,[a.args[0],1,a.args[1]],l,e);break;case "shift":case "pop":var p=
l[a.method]();p&&m(this,f,p);break;case "unshift":p=t(this,l,e,a.method,a.args);f.insertBefore(p,f.firstChild);break;case "push":p=t(this,l,e,a.method,a.args);f.appendChild(p);break;case "splice":d(this,f,a.target,a.args,l,e);break;case "reverse":for(var p=f,o=l;p.firstChild;)p.removeChild(p.firstChild);for(var r=0,f=o.length;r<f;r++)for(var e=o[r],s=e.length-1;0<=s;s--)p.insertBefore(e[s],p.firstChild);l.reverse();break;case "sort":case "copyFrom":case null:for(var p=this._loopElementsMap,o=c,r=
a.target,s=l,l=e,e=0,A=s.length;e<A;e++)m(this,f,s[e]);for(var s=f.ownerDocument.createDocumentFragment(),A=[],e=0,G=r.length;e<G;e++){var x=j(l);A[e]=x;for(var z=0,w=x.length;z<w;z++)s.appendChild(x[z]);u(this,x,r.get(e))}f.appendChild(s);p[o]=A}}},_observableItem_changeListener:function(a){var b=this._getViewsFromSrc(a.target);if(b){var c=!1;a.target===this._rootContext&&(c=!0);var d=this,f;for(f in b)if(b.hasOwnProperty(f)){var e=b[f];E(e,c).each(function(){I(this,a.target,!0)});H(e,A).each(function(){var b=
q(this,A);if(!(b in a.props))return!0;d._removeBinding(this);var c=q(this,g),c=d._getSrcCtxNode(c),c=P(c);this.parentNode.replaceChild(c,this);u(d,c,a.props[b].newValue)});H(e,G).each(function(){var b=q(this,G);if(!(b in a.props)||a.target._isArrayProp(b))return!0;d._removeBinding(this);u(d,this,a.props[b].newValue,!0)})}}},_getSrcCtxNode:function(a){for(var b=0,c=this._srces.length;b<c;b++){var d=this._srces[b];if(q(d,g)===a)return d;d=o(d,g,a);if(0<d.length)return d[0]}return null},_isWatching:function(a){a=
this._getContextIndex(a);return-1===a?!1:null!=this._listeners[a]},_getContextIndex:function(a){return b.inArray(a,this._usingContexts)},_addBindingEntry:function(a,b,c){var d=this._getContextIndex(a);-1===d&&(this._usingContexts.push(a),d=this._usingContexts.length-1);aa[c]=a;(a=this._srcToViewMap[d])?a[c]=b:(a={},a[c]=b,this._srcToViewMap[d]=a)},_hasBindingForSrc:function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1},_removeBindingEntry:function(a){var b=aa[a];if(b){var c=this._getContextIndex(b);
if(-1!==c){var d=this._srcToViewMap[c];d&&d[a]&&(delete d[a],this._hasBindingForSrc(d)||(d=!1,F(b)?(b.removeEventListener("change",this._listeners[c]),d=!0):e.core.data.isObservableArray(b)&&(b.removeEventListener("change",this._listeners[c]),d=!0),d&&delete this._listeners[c],delete this._srcToViewMap[c],this._usingContexts[c]=null))}aa[a]&&delete aa[a]}},_removeBinding:function(a){if(a.nodeType===f){var b=q(a,K);null!=b&&(this._removeBindingEntry(b),a.removeAttribute(K));for(var a=o(a,K),b=0,c=
a.length;b<c;b++){var d=a[b];this._removeBindingEntry(q(d,K));d.removeAttribute(K)}}},_getViewsFromSrc:function(a){a=this._getContextIndex(a);return-1===a?null:this._srcToViewMap[a]}});db={createBinding:function(b,c){return new a(b,c)}}})();(function(){function q(c){return e.u.obj.isJQueryObject(c)?c:b(c)}function z(){this.__cachedTemplates={}}var o="[",D=7001,E=7002,H=7003,F=7010,B=7011,x=e.async.deferred,u={escapeHtml:function(b){return e.u.str.escapeHtml(b)}},s={MAX_CACHE:10,cache:{},cacheUrls:[],
accessingUrls:{},append:function(b,c,e){this.cacheUrls.length>=this.MAX_CACHE&&this.deleteCache(this.cacheUrls[0]);this.cache[b]={};this.cache[b].templates=c;this.cache[b].path=e;this.cacheUrls.push(b)},deleteCache:function(b,c){c||delete this.cache[b];for(var e=0,d=this.cacheUrls.length;e<d;e++)if(this.cacheUrls[e]===b){this.cacheUrls.splice(e,1);break}},getTemplateByUrls:function(m){function j(a){if(0!==a.length){var d={},f=[];a.each(function(){var a=b.trim(this.id),g=b.trim(this.innerHTML);a||
c(E,null,{});try{var e=new EJS.Compiler(g,o);e.compile();d[a]=e.process;f.push(a)}catch(l){g=l.lineNumber,c(F,[g?" line:"+g:"",l.message],{id:a,error:l,lineNo:g})}});return{compiled:d,data:{ids:f}}}}function t(a,c,d){e.ajax(c).done(function(c,f,g){delete l.accessingUrls[a];c=b(g.responseText).filter(function(){return this.tagName&&-1===this.tagName.indexOf("/")&&8!==this.nodeType});f=this.url;if(0<c.not('script[type="text/ejs"]').length)d.reject(ga(B,null,{url:a,path:f}));else{g=null;try{g=j(c.filter('script[type="text/ejs"]'))}catch(e){e.detail.url=
a;e.detail.path=f;d.reject(e);return}var m,o;try{var t=g.compiled;o=g.data;o.path=f;o.absoluteUrl=a;m=t;l.append(a,t,f)}catch(q){d.reject(ga(D,null,{error:q,url:a,path:f}));return}d.resolve({ret:m,data:o})}}).fail(function(b){delete l.accessingUrls[a];d.reject(ga(H,[b.status,a],{url:a,path:c,error:b}))})}for(var d={},a=[],f=[],l=this,s=function(a){var b=l.cache[a].templates;l.deleteCache(a,!0);l.cacheUrls.push(a);return b},q=0;q<m.length;q++){var g=m[q],u=U(g);if(this.cache[u])b.extend(d,s(u)),f.push({absoluteUrl:u});
else if(this.accessingUrls[u])a.push(this.accessingUrls[u]);else{var z=e.async.deferred();a.push(this.accessingUrls[u]=z.promise());t(u,g,z)}}var r=x();e.async.when(a).done(function(){for(var a=e.u.obj.argsToArray(arguments),c=0,g=a.length;c<g;c++)b.extend(d,a[c].ret),f.push(a[c].data);r.resolve(d,f)}).fail(function(a){r.reject(a)});return r.promise()}};b.extend(z.prototype,{load:function(e){var j=x(),o=this,d=null;switch(b.type(e)){case "string":b.trim(e)||c(7004);d=[e];break;case "array":d=e;0===
d.length&&c(7004);for(var e=0,a=d.length;e<a;e++)w(d[e])?b.trim(d[e])||c(7004):c(7004);break;default:c(7004)}s.getTemplateByUrls(d).done(function(a,c){b.extend(o.__cachedTemplates,a);j.resolve(c)}).fail(function(a){j.reject(a)});return j.promise()},getAvailableTemplates:function(){var b=[],c;for(c in this.__cachedTemplates)b.push(c);return b},register:function(e,j){"string"!==b.type(j)?c(7E3,null,{id:e}):(!w(e)||!b.trim(e))&&c(E,[]);try{var t=new EJS.Compiler(j,o);t.compile();this.__cachedTemplates[e]=
t.process}catch(d){t=d.lineNumber,c(F,[t?" line:"+t:"",d.message],{id:e})}},isValid:function(b){try{return(new EJS.Compiler(b,o)).compile(),!0}catch(c){return!1}},get:function(e,j){var o=this.__cachedTemplates;(!w(e)||!b.trim(e))&&c(E);(o=o[e])||c(7005,e);var d=j?b.extend(!0,{},j):{},a=d.hasOwnProperty("_h")?new EJS.Helpers(d):new EJS.Helpers(d,{_h:u}),f=null;try{f=o.call(d,d,a)}catch(l){c(7006,l.toString(),l)}return f},update:function(b,c,e){return q(b).html(this.get(c,e))},append:function(b,c,e){return q(b).append(this.get(c,
e))},prepend:function(b,c,e){return q(b).prepend(this.get(c,e))},isAvailable:function(b){return!!this.__cachedTemplates[b]},clear:function(e){if(void 0===e)this.__cachedTemplates={};else{var j=null;switch(b.type(e)){case "string":j=[e];break;case "array":e.length||c(E);j=e;break;default:c(E)}for(var e=0,o=j.length;e<o;e++){var d=j[e];(!w(d)||!b.trim(d))&&c(E)}e=0;for(o=j.length;e<o;e++)delete this.__cachedTemplates[j[e]]}},bind:function(m,j){var o=null;null==m&&c(7007);b.isArray(m)?o=m:(o=b(m),0===
o.length&&c(7007),o=o.toArray());(null==j||"object"!==typeof j||b.isArray(j)||e.core.data.isObservableArray(j))&&c(7009);return db.createBinding(o,j)}});var I=new z;I.createView=function(){return new z};b(function(){b('script[type="text/ejs"]').each(function(){var c=b.trim(this.id),e=b.trim(this.innerHTML);0!==e.length&&c&&(e=new EJS.Compiler(e,o),e.compile(),I.__cachedTemplates[c]=e.process)})});e.u.obj.expose("h5.core",{view:I})})();(function(){function c(a){var d={},f;for(f in K){var e=b("<div></div>").addClass(a).addClass(f).appendTo("body"),
g=b.camelCase(f);d[g]={};b.map(K[f],function(a){d[g][a]="width"===a||"height"===a?parseInt(e.css(a).replace(/\D/g,""),10):e.css(a)});e.remove()}return d}function z(a,b,c){var a=b.createElement("v:"+a),d;for(d in c)a.style[d]=c[d];return a}function o(a,b){for(var c=[],d=a/2,f=0.8*a/2,e=360/b*Math.PI/180,g=1;g<=b;g++){var l=e*g,j=Math.cos(l),l=Math.sin(l);c.push({from:{x:d+f/2*j,y:d+f/2*l},to:{x:d+f*j,y:d+f*l}})}return c}function D(a){return function(){var b=document.body,c=document.documentElement,
d=p?b:R?c:null;return d?"Height"===a?d["client"+a]>d["scroll"+a]?d["client"+a]:d["scroll"+a]:d["client"+a]:Math.max(b["scroll"+a],c["scroll"+a],b["offset"+a],c["offset"+a],c["client"+a])}}function E(a){return function(){var b=p?document.body:document.documentElement;return window["page"+("Top"===a?"Y":"X")+"Offset"]||b["scroll"+a]}}function H(a){var b=p?document.body:document.documentElement;return A.isiOS?window["inner"+a]:b["client"+a]}function F(a){var c=b(a)[0],d=document.body,f=b("html")[0],
a={top:0,left:0};if(c===d&&R)return{top:parseFloat(f.currentStyle.paddingTop||0)+parseFloat(d.currentStyle.marginTop||0)+parseFloat(d.currentStyle.borderTop||0),left:parseFloat(f.currentStyle.paddingLeft||0)+parseFloat(d.currentStyle.marginLeft||0)+parseFloat(d.currentStyle.borderLeft||0)};"undefined"!==typeof c.getBoundingClientRect&&(a=c.getBoundingClientRect());d=p?d:document.documentElement;c=d.clientTop||0;d=d.clientLeft||0;return{top:a.top+ea()-c,left:a.left+fa()-d}}function B(){b.each(g(arguments),
function(a,b){b.bind("click dblclick touchstart touchmove touchend mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave focus focusin focusout blur change select",function(){return!1})})}function x(a){a=G(a)?a[0]:a;return a===window||a===document||a===document.body}function u(c,f){this.style=b.extend(!0,{},c);if(!f.getElementById(a)){f.namespaces.add("v","urn:schemas-microsoft-com:vml");var e=f.createElement("style");f.getElementsByTagName("head")[0].appendChild(e);e.id=a;e.setAttribute("type",
"text/css");e.styleSheet.cssText="v\\:stroke,v\\:line,v\\:textbox { behavior:url(#default#VML); }"}e=this.style.throbber.width;this.group=z("group",f,{width:e+"px",height:this.style.throbber.height+"px"});this.group.className=d;for(var e=o(e,this.style.throbber.lines),g=this.style.throbberLine.color,l=this.style.throbberLine.width,j=0,m=e.length;j<m;j++){var p=e[j],q=p.from,s=p.to,p=z("line",f);p.strokeweight=l;p.strokecolor=g;p.fillcolor=g;p.from=q.x+","+q.y;p.to=s.x+","+s.y;q=z("stroke",f);q.opacity=
1;p.appendChild(q);this.group.appendChild(p)}this._createPercentArea(f)}function s(a,d){var g=this,l=b(a);if(l.length){var o=x(l),l=o?b("body"):l,s=da(l[0]),r=b.extend(!0,{},{message:"",percent:-1,block:!0,fadeIn:-1,fadeOut:-1,promises:null,theme:"a"},d);this._displayed=!1;this._throbbers=[];this._settings=r;this._styles=b.extend(!0,{},{throbber:{roundTime:1E3,lines:12},throbberLine:{},percent:{}},c(r.theme));this._isScreenLock=o;this._$target=l;this._target=1===this._$target.length?this._$target[0]:
this._$target.toArray();this._scrollEventTimerId=null;this._scrollHandler=function(){g._handleScrollEvent()};this._resizeEventTimerId=null;this._resizeHandler=function(){g._handleResizeEvent()};this._redrawable=!0;this._lastPercent=-1;this._lastMessage=null;this._fadeInTime="number"===typeof r.fadeIn?r.fadeIn:-1;this._fadeOutTime="number"===typeof r.fadeOut?r.fadeOut:-1;this._$content=b();this._$overlay=b();this._$skin=b();for(var l=e.u.str.format(f,""===r.message?'style="display: none;"':"",r.message),
o="https"===document.location.protocol?"return:false":"about:blank",u=0,A=this._$target.length;u<A;u++)this._$content=this._$content.add(b(s.createElement("div")).append(l).addClass(I).addClass(r.theme).addClass(m).hide()),this._$overlay=this._$overlay.add((r.block?b(s.createElement("div")):b()).addClass(I).addClass(r.theme).addClass(j).hide()),this._$skin=this._$skin.add((R||p?b(s.createElement("iframe")):b()).attr("src",o).addClass(I).addClass(t).hide());var G=this._isScreenLock&&V?"fixed":"absolute";
b.each([this._$overlay,this._$content],function(){this.css("position",G)});s=r.promises;r=function(){g.hide()};l=b.hasOwnProperty("curCSS")?"pipe":"then";b.isArray(s)?(s=b.map(s,function(a){return a&&b.isFunction(a.promise)?a:null}),0<s.length&&ka(e.async.when(s),l,[r,r])):s&&b.isFunction(s.promise)&&ka(s,l,[r,r])}}var I="h5-indicator",m="content",j="overlay",t="skin",d="vml-root",a="h5-vmlstyle",f='<span class="indicator-throbber"></span><span class="indicator-message" {0}>{1}</span>',l=500,A=e.env.ua,
G=e.u.obj.isJQueryObject,g=e.u.obj.argsToArray,K={throbber:["width","height"],"throbber-line":["width","color"]},X=!!document.createElement("canvas").getContext,r=function(){var a=document.createDocumentFragment().appendChild(document.createElement("div"));a.innerHTML='<v:line strokeweight="1"/>';a=a.firstChild;a.style.behavior="url(#default#VML)";return"number"===typeof a.strokeweight}(),p="CSS1Compat"!==document.compatMode,R=A.isIE&&6>=A.browserVersion,L=A.isChrome&&A.isDesktop,V=!(A.isAndroidDefaultBrowser||
A.isiOS&&5>A.browserVersion||R||p||A.isWindowsPhone),S=null,$=null,U=null,T=null,ea=null,fa=null,aa=function(){var a=document.createDocumentFragment().appendChild(document.createElement("div")),c=["Webkit","Moz","O","ms","Khtml"],d=c.length;return function(f){f=b.camelCase(f);if(f in a.style)return!0;for(var f=f.charAt(0).toUpperCase()+f.slice(1),e=0;e<d;e++)if(c[e]+f in a.style)return!0;return!1}}(),$=function(a){return function(){var b=document.body,c=document.documentElement;return"number"===typeof window["inner"+
a]?window["inner"+a]:p?b["client"+a]:c["client"+a]}}("Height"),U=D("Height"),T=D("Width"),ea=E("Top"),fa=E("Left"),S=aa("animationName");u.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.group),this._run())},hide:function(){this.root.innerHTML="";this._runId&&(clearTimeout(this._runId),this._runId=null)},_run:function(){for(var a=this.style.throbber.lines,b=this.style.throbber.roundTime,c=this.highlightPos,d=this.group.childNodes,f=0,e=d.length;f<
e;f++){var g=d[f];if("textbox"!==g.nodeName){var l=f+1;g.firstChild.opacity=l==c?"1":l==c+1||l==c-1?"0.75":"0.4"}}c==a?c=0:c++;this.highlightPos=c;var j=this;this._runId=setTimeout(function(){j._run.call(j)},Math.floor(b/a))},_createPercentArea:function(a){var c=z("textbox",a),a=b(a.createElement("table"));a.append("<tr><td></td></tr>");var d=a.find("td");d.width(this.group.style.width);d.height(this.group.style.height);d.css("line-height",this.group.style.height);d.addClass("throbber-percent");c.appendChild(a[0]);
this.group.appendChild(c)},setPercent:function(a){b(this.group).find(".throbber-percent").html(a)}};var P=function(a,c){this.style=b.extend(!0,{},a);this.canvas=c.createElement("canvas");this.baseDiv=c.createElement("div");this.percentDiv=c.createElement("div");var d=this.canvas,f=this.baseDiv,e=this.percentDiv;d.width=this.style.throbber.width;d.height=this.style.throbber.height;d.style.display="block";d.style.position="absolute";f.style.width=this.style.throbber.width+"px";f.style.height=this.style.throbber.height+
"px";f.appendChild(d);e.style.width=this.style.throbber.width+"px";e.style.height=this.style.throbber.height+"px";e.style.lineHeight=this.style.throbber.height+"px";e.className="throbber-percent";f.appendChild(e);this.positions=o(d.width,this.style.throbber.lines)};P.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.baseDiv),this._run())},hide:function(){b(this.baseDiv).remove();this._runId&&(L?clearInterval(this._runId):clearTimeout(this._runId),
this._runId=null)},_run:function(){var a=this.canvas,b=a.getContext("2d"),c=this.highlightPos,d=this.positions,f=this.style.throbberLine.color,e=this.style.throbberLine.width,g=this.style.throbber.lines,l=this.style.throbber.roundTime;a.width=a.width;for(var j=0,p=d.length;j<p;j++){b.beginPath();b.strokeStyle=f;b.lineWidth=e;var m=j+1;b.globalAlpha=m==c?1:m==c+1||m==c-1?0.75:0.4;var o=d[j],m=o.from,o=o.to;b.moveTo(m.x,m.y);b.lineTo(o.x,o.y);b.stroke()}c==g?c=0:c++;this.highlightPos=c;if(L){var s=
0;this._runId=setInterval(function(){s++;a.style.webkitTransform="rotate("+s+"deg)";360<=s&&(s-=360)},l/360)}else if(S)a.className="throbber-canvas";else{var r=this;this._runId=setTimeout(function(){r._run.call(r)},Math.floor(l/g))}},setPercent:function(a){this.percentDiv.innerHTML=a}};s.prototype={show:function(){if(this._displayed||!this._$target||0<this._$target.children("."+I).length)return this;this._displayed=!0;for(var a=this,c=this._fadeInTime,d=function(){var c=b(window);a._isScreenLock&&
(B(a._$overlay,a._$content),V||(c.bind("touchmove",a._scrollHandler),c.bind("scroll",a._scrollHandler)));c.bind("orientationchange",a._resizeHandler);c.bind("resize",a._resizeHandler)},f=0,e=this._$target.length;f<e;f++){var g=this._$target.eq(f),l=this._$content.eq(f),j=this._$skin.eq(f),p=this._$overlay.eq(f);!this._isScreenLock&&"static"===g.css("position")&&(g.data("before-position",g.css("position")),g.data("before-zoom",g.css("zoom")),g.css({position:"relative",zoom:"1"}));var m=da(g[0]);if(m=
X?new P(this._styles,m):r?new u(this._styles,m):null)a._throbbers.push(m),a.percent(this._settings.percent),m.show(l.children(".indicator-throbber")[0]);g.append(j).append(p).append(l)}f=b().add(this._$skin).add(this._$content).add(this._$overlay);0>c?(f.show(),d()):f.fadeIn(c,d);this._reposition();this._resizeOverlay();return this},_resizeOverlay:function(){var a,b;if(!this._isScreenLock||!V)for(var c=0,d=this._$target.length;c<d;c++){b=this._$target.eq(c);var f=this._$overlay.eq(c),e=this._$skin.eq(c);
if(this._isScreenLock)a=T(),b=U();else{var g=b[0];a=g.scrollWidth;b=g.scrollHeight;if(R)a=Math.max(a,g.clientWidth),b=Math.max(b,g.clientHeight);else if(A.isIE&&"function"===typeof getComputedStyle){var g=getComputedStyle(g,null),l=parseFloat(g.width)+parseFloat(g.paddingLeft)+parseFloat(g.paddingRight);a+=l-parseInt(l)-1;g=parseFloat(g.height)+parseFloat(g.paddingTop)+parseFloat(g.paddingBottom);b+=g-parseInt(g)-1}}f.width(a).height(b);(R||p)&&e.width(a).height(b)}},_reposition:function(){for(var a=
0,c=this._$target.length;a<c;a++){var d=this._$target.eq(a),f=this._$content.eq(a);if(this._isScreenLock){var g=$();V?f.css("top",(g-f.outerHeight())/2+"px"):f.css("top",ea()+g/2-f.outerHeight()/2+"px")}else f.css("top",d.scrollTop()+(d.innerHeight()-f.outerHeight())/2);var g=f.innerWidth()-f.width(),e=0;f.children().each(function(){var a=b(this);if("none"===a.css("display"))return!0;e+=a.outerWidth(!0)});f.width(e+g);f.css("left",d.scrollLeft()+(d.innerWidth()-f.outerWidth())/2)}},hide:function(){if(!this._displayed)return this;
this._displayed=!1;var a=this,c=this._fadeOutTime,d=b().add(this._$skin).add(this._$content).add(this._$overlay),f=function(){var c=b(window);d.remove();a._isScreenLock||a._$target.each(function(a,c){var d=b(c);d.css({position:d.data("before-position"),zoom:d.data("before-zoom")});d.removeData("before-position").removeData("before-zoom")});c.unbind("touchmove",a._scrollHandler);c.unbind("scroll",a._scrollHandler);c.unbind("orientationchange",a._resizeHandler);c.unbind("resize",a._resizeHandler);a._resizeEventTimerId&&
clearTimeout(a._resizeEventTimerId);a._scrollEventTimerId&&clearTimeout(a._scrollEventTimerId)};if(!S||L)for(var g=0,e=this._throbbers.length;g<e;g++)this._throbbers[g].hide();0>c?(d.hide(),f()):d.fadeOut(c,f);return this},percent:function(a){if("number"!==typeof a||!(0<=a&&100>=a))return this;if(!this._redrawable)return this._lastPercent=a,this;for(var b=0,c=this._throbbers.length;b<c;b++)this._throbbers[b].setPercent(a);return this},message:function(a){if(!w(a))return this;if(!this._redrawable)return this._lastMessage=
a,this;this._$content.children(".indicator-message").css("display","inline-block").text(a);this._reposition();return this},_handleScrollEvent:function(){this._scrollEventTimerId&&clearTimeout(this._scrollEventTimerId);if(this._redrawable){var a=this;this._scrollEventTimerId=setTimeout(function(){a._reposition();a._scrollEventTimerId=null},50)}},_handleResizeEvent:function(){function a(){b._resizeOverlay();b._reposition();b._redrawable=!0;b.percent(b._lastPercent);b.message(b._lastMessage);b._resizeEventTimerId=
null}var b=this;this._resizeEventTimerId&&clearTimeout(this._resizeEventTimerId);this._redrawable=!1;V||R||p?a():this._resizeEventTimerId=setTimeout(function(){a()},1E3)}};e.u.obj.expose("h5.ui",{indicator:function(a,b){return new s(a,b)},isInView:function(a,c){var d,f,g,e,l=b(a);if(void 0===c)f=H("Height"),e=H("Width"),d=ea(),g=fa();else{e=b(c);if(0===e.find(l).length)return;g=F(e);d=g.top+parseInt(e.css("border-top-width"));g=g.left+parseInt(e.css("border-left-width"));f=e.innerHeight();e=e.innerWidth()}f=
d+f;e=g+e;var j=F(l),m=j.top,j=j.left,p=m+l.outerHeight(),l=j+l.outerWidth();return(d<=m&&m<f||d<p&&p<=f)&&(g<=j&&j<e||g<l&&l<=e)},scrollToTop:function(){function a(){1===window.scrollY&&(c=0);0<c&&(window.scrollTo(0,1),c--,setTimeout(a,l))}var c=3;window.scrollTo(0,1);1!==b(window).scrollTop()&&setTimeout(a,l)}})})();(function(){function q(){var c=b.mobile.activePage,c=c&&c[0]&&c[0].id;return w(c)&&0<c.length?c:null}function z(){var c=q();null!==c&&b(function(){H.addCSS(c);H.bindController(c)})}
function o(b,a){for(var c in B)for(var e=B[c],j=b===c,m=0,g=e.length;m<g;m++){var o=e[m];if(j)o[(a?"enable":"disable")+"Listeners"]()}for(c in x){e=x[c];j=b===c;m=0;for(g=e.length;m<g;m++)if(o=e[m],j)o[(a?"enable":"disable")+"Listeners"]()}}function D(b,a){b=b.replace(/(\.0+)+$/,"");a=a.replace(/(\.0+)+$/,"");if(b===a)return 0;for(var c=b.split("."),e=a.split("."),j=c.length,m=0;m<j;m++){if(null==e[m])return 1;var g=parseInt(c[m],10),o=parseInt(e[m],10);if(g!==o)return g<o?-1:1}return null!=e[j]?
-1:0}var E,H=null,F={},B={},x={},u={},s={},I=!1,m=!1,j=!1;e.u.obj.ns("h5.ui.jqm");e.ui.jqm.dataPrefix="h5";var t={__name:"JQMController",__ready:function(){var c=this,a=q();b(':jqmData(role="page"), :jqmData(role="dialog")').each(function(){c.loadScript(this.id)});var f=this.$find("#"+a);f.one("h5controllerready.emulatepageshow",function(){j&&f[0]===b.mobile.activePage[0]&&f.trigger("h5jqmpageshow",{prevPage:b("")})})},':jqmData(role="page"), :jqmData(role="dialog") pageinit':function(b){E||this._initPage(b.event.target.id)},
':jqmData(role="page"), :jqmData(role="dialog") pagecreate':function(b){E&&this._initPage(b.event.target.id)},_initPage:function(b){this.loadScript(b);this.addCSS(b);this.bindController(b)},"{rootElement} pageremove":function(c){b(c.event.target).trigger("h5jqmpagehide",{nextPage:b.mobile.activePage});m=!0;var c=c.event.target.id,a=B[c],f=x[c];if(a){for(var e=0,j=a.length;e<j;e++)a[e].dispose();B[c]=[]}if(f){e=0;for(j=f.length;e<j;e++)f[e].dispose();x[c]=[]}},"{rootElement} pagebeforeshow":function(b){b=
b.event.target.id;this.addCSS(b);o(b,!0)},"{rootElement} pagehide":function(c){m||b(c.event.target).trigger("h5jqmpagehide",{nextPage:c.evArg.nextPage});m=!1;c=c.event.target.id;o(c,!1);this.removeCSS(c)},"{rootElement} pageshow":function(c){var a=!1,f=b(c.event.target),e=c.evArg?c.evArg.prevPage:b("");if(c=B[f[0].id])for(var j=0,m=c.length;j<m;j++)if(!c[j].isReady){f.unbind("h5controllerready.emulatepageshow").one("h5controllerready.emulatepageshow",function(){b.mobile.activePage[0]===f[0]&&f.trigger("h5jqmpageshow",
{prevPage:e})});a=!0;break}a||f.trigger("h5jqmpageshow",{prevPage:e})},"{rootElement} h5controllerbound":function(c){c=c.evArg;if(this!==c){var a=q();null===a||-1!==b.inArray(c,B[a])||(x[a]||(x[a]=[]),x[a].push(c))}},"{rootElement} h5controllerunbound":function(c){var a=c.evArg,c=q();null!==c&&(a=b.inArray(a,x[c]),-1!==a&&x[c].splice(a,1))},loadScript:function(c){var c=b("#"+c),a=b.trim(c.data(this.getDataAttribute("script")));if(0!==a.length)return a=b.map(a.split(","),function(a){return b.trim(a)}),
c=!0==c.data(this.getDataAttribute("async")),e.u.loadScript(a,{async:c})},getDataAttribute:function(b){var a=e.ui.jqm.dataPrefix;null==a&&(a="h5");return 0!==a.length?a+"-"+b:b},bindController:function(b){var a=F[b],c=u[b];if(a&&0!==a.length){B[b]||(B[b]=[]);for(var l=B[b],j=0,m=a.length;j<m;j++){for(var g=a[j],o=!1,s=0,r=l.length;s<r;s++){var p=l[s];if(p&&p.__name===g.__name){o=!0;break}}o||B[b].push(e.core.controller("#"+b,g,c[j]))}}},addCSS:function(c){if(c=s[c])for(var a=document.getElementsByTagName("head")[0],
f=a.getElementsByTagName("link"),e=f.length,j=0,m=c.length;j<m;j++){for(var g=b.mobile.path.parseUrl(c[j]).filename,o=!1,q=0;q<e;q++)if(b.mobile.path.parseUrl(f[q].href).filename===g){o=!0;break}o||(g=document.createElement("link"),g.type="text/css",g.rel="stylesheet",g.href=c[j],a.appendChild(g))}},removeCSS:function(c){var a=s[c];if(a&&(c=q(),null!==c)){var f=s[c];b("link").filter(function(){var c=b(this).attr("href");return-1!==b.inArray(c,a)&&-1===b.inArray(c,f)}).remove()}}};e.u.obj.expose("h5.ui.jqm.manager",
{init:function(){I||(I=!0,E=0<=D(b.mobile.version,"1.4"),b(document).one("pageshow",function(){j=!0}),b(function(){H=cb.controllerInternal("body",t,null,{managed:!1});z()}))},define:function(d,a,f,e){w(d)||c(12E3,"id");null!=a&&!w(a)&&!b.isArray(a)&&c(12E3,"cssSrc");null!=f&&((w(f)||b.isArray(f))&&c(12001),(!b.isPlainObject(f)||!("__name"in f))&&c(12E3,"controllerDefObject"),null!=e&&!b.isPlainObject(e)&&c(12E3,"initParam"));s[d]||(s[d]=[]);F[d]||(F[d]=[]);u[d]||(u[d]=[]);b.merge(s[d],b.map(b.makeArray(a),
function(a){return b.inArray(a,s[d])!==-1?null:a}));f&&-1===b.inArray(f,F[d])&&(F[d].push(f),u[d].push(e));I&&null!==q()?z():this.init()}})})();(function(){function q(){w||(w=navigator.geolocation);return w}function z(b,c){this.oblateness=b;this.semiMajorAxis=c}function o(){}var w=null,E=e.env.ua;z.prototype.getOblateness=function(){return this.oblateness};z.prototype.getSemiMajorAxis=function(){return this.semiMajorAxis};var H=new z(298.257222,6378137),F=new z(299.152813,6377397.155),B=Math.PI/180;
b.extend(o.prototype,{isSupported:E.isIE&&9<=E.browserVersion?!0:!!q(),getCurrentPosition:function(b){var c=e.async.deferred();q().getCurrentPosition(function(b){c.resolve(b)},function(b){c.reject(ga(2002,null,b))},b);return c.promise()},watchPosition:function(b){function c(){}var o=e.async.deferred(),z=q().watchPosition(function(b){o.notify(b)},function(b){q().clearWatch(z);o.reject(ga(2002,null,b))},b);c.prototype.unwatch=function(){q().clearWatch(z);o.resolve()};return o.promise(new c)},getDistance:function(b,
e,o,q,m){(!isFinite(b)||!isFinite(e)||!isFinite(o)||!isFinite(q))&&c(2E3);var j=m?m:H;j instanceof z||c(2001);var m=j.getSemiMajorAxis(),t=j.getOblateness(),b=b*B,e=e*B,o=o*B,j=q*B,q=(b+o)/2,t=Math.sqrt(2*t-1)/t,t=Math.pow(t,2),d=Math.sqrt(1-t*Math.pow(Math.sin(q),2)),t=m*(1-t)/Math.pow(d,3),m=m/d,e=e-j;return Math.sqrt(Math.pow(t*(b-o),2)+Math.pow(m*Math.cos(q)*e,2))},GS_GRS80:H,GS_BESSEL:F});e.u.obj.expose("h5.api",{geo:new o})})();(function(){function q(a){if(a){var b=a.deferred;(Aa(b)||Ba(b)||
!a.result)&&c(I)}}function z(a,d,e){if(b.isPlainObject(a))for(var o in a){var q=b.trim(o).replace(/ +/g," ").split(" "),g=[];""===q[0]?c(j):1===q.length?(g.push(q[0]),g.push("="),g.push("?")):/^(<=|<|>=|>|=|!=|like)$/i.test(q[1])?3===q.length&&/^like$/i.test(q[1])?(g.push(q[0]),g.push(q[1]),g.push("?"),g.push("ESCAPE"),g.push('"'+q[2]+'"')):(g.push(q[0]),g.push(q[1]),g.push("?")):c(m);d.push(g.join(" "));e.push(a[o])}}function o(){}function D(){this._multiple=!1}function E(a){this._db=a;this._df=
t();this._tx=null;this._tasks=[];this._queue=[]}function H(a,c,d){this._statements=[];this._parameters=[];this._executor=a;this._tableName=c;this._columns=b.isArray(d)?d.join(", "):"*";this._orderBy=this._where=null}function F(a,b,c){this._statements=[];this._parameters=[];this._executor=a;this._tableName=b;this._values=c?L(c):[];this._df=t();this._multiple=!0}function B(a,b,c){this._statements=[];this._parameters=[];this._executor=a;this._tableName=b;this._values=c;this._where=null}function x(a,
b){this._statements=[];this._parameters=[];this._executor=a;this._tableName=b;this._where=null}function u(a,b,c){this._statements=[];this._parameters=[];this._executor=a;this._statements.push(b);this._parameters.push(c||[])}function s(a){this._db=a}var I=3E3,m=3003,j=3011,t=e.async.deferred,d=e.u.str.format;b.extend(D.prototype,{execute:function(){return this._executor.add(this)._execute(function(a){return a[0]})}});b.extend(E.prototype,{_runTransaction:function(){return null!=this._tx},_addTask:function(a){this._tasks.push({deferred:a,
result:null})},_setResult:function(a){this._getRecentTask().result=a},_getRecentTask:function(){return this._tasks[this._tasks.length-1]},add:function(a){a instanceof D||c(3009);var b=this._getRecentTask();(!b||b.result)&&this._queue.push(a);return this},_execute:function(a){function b(){if(0===e.length){var j=a(g);c._setResult.apply(c,[j]);d.notify(j,c)}else{for(var m=e.shift(),o=m._statements,q=m._parameters,r=t().resolve().promise(),j=[],s=0,u=o.length;s<u;s++)(function(a,b){r=S(r,function(){var d=
t();c._tx.executeSql(a,b,function(a,b){j.push(m._onComplete(b));d.resolve()});return d.promise()})})(o[s],q[s]);S(r,function(){g.push(m._multiple?j:j[0]);b()})}}var c=this,d=this._df,e=this._queue,g=[];try{q(this._getRecentTask());this._addTask(d);for(var j=0,m=e.length;j<m;j++)e[j]._buildStatementAndParameters();this._runTransaction()?b():this._db.transaction(function(a){c._tx=a;b()},function(a){c._tx=null;for(var b=c._tasks,d=b.length-1;0<=d;d--)b[d].deferred.reject(ga(3010,["SQLDB ERROR(code="+
a.code+")",a.message],a))},function(){c._tx=null;for(var a=c._tasks,b=a.length-1;0<=b;b--){var d=a[b];d.deferred.resolve(d.result)}})}catch(o){d.reject(o)}this._df=t();return d.promise()},execute:function(){return this._execute(function(a){return a})},promise:function(){return this._df.promise()}});H.prototype=new D;b.extend(H.prototype,{where:function(a){!b.isPlainObject(a)&&!w(a)&&c(3004,["Select","where"]);this._where=a;return this},orderBy:function(a){!b.isPlainObject(a)&&!w(a)&&c(3004,["Select",
"orderBy"]);this._orderBy=L(a);return this},_buildStatementAndParameters:function(){var a="",c=this._where,a=d("SELECT {0} FROM {1}",this._columns,this._tableName);if(b.isPlainObject(c)){var e=[];z(c,e,this._parameters);a+=" WHERE "+e.join(" AND ")}else w(c)&&(a+=" WHERE "+c);b.isArray(this._orderBy)&&(a+=" ORDER BY "+this._orderBy.join(", "));this._statements.push([a]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rows}});F.prototype=new D;b.extend(F.prototype,{_buildStatementAndParameters:function(){var a=
this._values,c=this._statements,e=this._parameters;if(0===a.length)c.push(d("INSERT INTO {0} DEFAULT VALUES",this._tableName)),e.push([]);else for(var j=0,m=a.length;j<m;j++){var g=a[j];if(null==g)c.push(d("INSERT INTO {0} DEFAULT VALUES",this._tableName)),e.push([]);else if(b.isPlainObject(g)){var o=[],q=[],r=[],p;for(p in g)o.push("?"),q.push(p),r.push(g[p]);c.push(d("INSERT INTO {0} ({1}) VALUES ({2})",this._tableName,q.join(", "),o.join(", ")));e.push(r)}}},_onComplete:function(a){return a.insertId}});
B.prototype=new D;b.extend(B.prototype,{where:function(a){!b.isPlainObject(a)&&!w(a)&&c(3004,["Update","where"]);this._where=a;return this},_buildStatementAndParameters:function(){var a="",c=this._where,a=this._values,e=[],j;for(j in a)e.push(j+" = ?"),this._parameters.push(a[j]);a=d("UPDATE {0} SET {1}",this._tableName,e.join(", "));b.isPlainObject(c)?(j=[],z(c,j,this._parameters),a+=" WHERE "+j.join(" AND ")):w(c)&&(a+=" WHERE "+c);this._statements.push([a]);this._parameters=[this._parameters]},
_onComplete:function(a){return a.rowsAffected}});x.prototype=new D;b.extend(x.prototype,{where:function(a){!b.isPlainObject(a)&&!w(a)&&c(3004,["Del","where"]);this._where=a;return this},_buildStatementAndParameters:function(){var a="",c=this._where,a=d("DELETE FROM {0}",this._tableName);if(b.isPlainObject(c)){var e=[];z(c,e,this._parameters);a+=" WHERE "+e.join(" AND ")}else w(c)&&(a+=" WHERE "+c);this._statements.push([a]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rowsAffected}});
u.prototype=new D;b.extend(u.prototype,{_buildStatementAndParameters:function(){},_onComplete:function(a){return a}});b.extend(s.prototype,{select:function(a,d,e){w(a)||c(3001,"select");!b.isArray(d)&&"*"!==d&&c(3005,"select");return new H(this.transaction(e),a,d)},insert:function(a,d,e){w(a)||c(3001,"insert");null!=d&&!b.isArray(d)&&!b.isPlainObject(d)&&c(3006,"insert");return new F(this.transaction(e),a,d)},update:function(a,d,e){w(a)||c(3001,"update");b.isPlainObject(d)||c(3006,"update");return new B(this.transaction(e),
a,d)},del:function(a,b){w(a)||c(3001,"del");return new x(this.transaction(b),a)},sql:function(a,d,e){w(a)||c(3007,"sql");null!=d&&!b.isArray(d)&&c(3008,"sql");return new u(this.transaction(e),a,d)},transaction:function(a){void 0!=a&&!(a instanceof E)&&c(3002,"transaction");return a?a:new E(this._db)}});b.extend(o.prototype,{isSupported:!!window.openDatabase,open:function(a,b,c,d){if(this.isSupported)return a=openDatabase(a,b,c,d),new s(a)}});e.u.obj.expose("h5.api",{sqldb:new o})})();(function(){function c(b){this._storage=
b}b.extend(c.prototype,{getLength:function(){return this._storage.length},key:function(b){return this._storage.key(b)},getItem:function(b){b=this._storage.getItem(b);return null===b?null:e.u.obj.deserialize(b)},setItem:function(b,c){this._storage.setItem(b,e.u.obj.serialize(c))},removeItem:function(b){this._storage.removeItem(b)},clear:function(){this._storage.clear()},each:function(b){for(var c=this._storage,e=0,q=c.length;e<q;e++){var w=c.key(e);b(e,w,this.getItem(w))}}});e.u.obj.expose("h5.api.storage",
{isSupported:window.localStorage?function(){try{return window.localStorage.setItem("__H5_WEB_STORAGE_CHECK__","ok"),window.localStorage.removeItem("__H5_WEB_STORAGE_CHECK__"),!0}catch(b){return!1}}():!1,local:new c(window.localStorage),session:new c(window.sessionStorage)})})()})(jQuery);