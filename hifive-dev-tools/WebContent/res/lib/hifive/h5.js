/* Copyright (C) 2012-2013 NS Solutions Corporation. Licensed under the Apache License, Version 2.0. hifive version 1.1.9 gitCommitId 58e46627ddece7a9d2b2421a2764ccce6000cb6c (util,controller,modelWithBinding,view,ui,api.geo,api.sqldb,api.storage) */
(function(b){function d(b,d,s){var C=null,B=$a[b],z=fb[b];z&&(C=z(b,B,d,s));!C&&B&&(C=i.u.str.format.apply(null,[B].concat(d)));C&&(C+="(code="+b+")");d=C?Error(C):Error("FwError: code = "+b);b&&(d.code=b);s&&(d.detail=s);throw d;}function da(b,d,s){var C=null,B=$a[b];B&&(d=[B].concat(d),C=i.u.str.format.apply(null,d));return{code:b,message:C,detail:s}}function J(d){return null==d?d:b.isArray(d)?d:[d]}function R(b){var d=document.createElement("span");d.innerHTML='<a href="'+b+'" />';return d.firstChild.href}
function z(b){return"string"===typeof b}function ya(b){return b.isRejected?b.isRejected():"rejected"===b.state()}function za(b){return b.isResolved?b.isResolved():"resolved"===b.state()}function ja(b){return!z(b)?!1:!!b.match(/^[A-Za-z_\$][\w|\$]*$/)}function la(d){if("regexp"===b.type(d))return d;var i="",i=-1!==d.indexOf("*")?b.map(d.split("*"),function(b){return b.replace(/\W/g,"\\$&")}).join(".*"):d;return RegExp("^"+i+"$")}function ma(b,d,i){b&&(b._h5UnwrappedCall?b._h5UnwrappedCall(d,i):b[d](i))}
function S(d,i,s,C){return d[b.hasOwnProperty("curCSS")?"pipe":"then"](i,s,C)}function fa(b){return b.nodeType===gb?b:b.ownerDocument}var ab=void 0;if(window.h5){if(window.h5.env&&"1.1.9"===window.h5.env.version)return;ab=window.h5}var i={};window.h5=i;i.coexist=function(){window.h5=ab;return i};i.env={version:"1.1.9"};var $a={},fb={},gb=9,bb={controllerInternal:null},cb;(function(){function q(b){switch(b){case "string":return"s";case "number":return"n";case "boolean":return"b";case "String":return"S";
case "Number":return"N";case "Boolean":return"B";case "infinity":return"i";case "-infinity":return"I";case "nan":return"x";case "date":return"d";case "regexp":return"r";case "array":return"a";case "object":return"o";case "null":return"l";case t:return"u";case "undefElem":return"_";case "objElem":return"@"}}function A(b,a){if(z(b)){var c=b;a&&(c=c.replace(/\\n/g,"\n").replace(/\\r/g,"\r"));return c=c.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\b]/g,"\\b").replace(/\f/g,
"\\f").replace(/\t/g,"\\t")}return b instanceof String?new String(A(b.toString())):b}function s(b,a){return"1"===a?b:z(b)?b.replace(/\\\\/g,"\\-").replace(/\\b/g,"").replace(/\\f/g,"").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\-/g,"\\"):b instanceof String?new String(s(b.toString())):b}function C(b,a,c){var e=i.async.deferred();i.ajax({url:b,async:a,cache:c,dataType:"script",converters:{"text script":function(b){return b}}}).done(function(){var b=D(arguments);b.push(this.url);
e.notifyWith(e,b);e.resolveWith(e,b)}).fail(function(){e.rejectWith(e,D(arguments))});return e.promise()}function B(b){z(b)||d(w,"h5.u.obj.ns()");for(var b=b.split("."),a=b.length,c=0;c<a;c++)ja(b[c])||d(w,"h5.u.obj.ns()");for(var e=window,c=0;c<a;c++){var H=b[c];void 0===e[H]&&(e[H]={});e=e[H]}return e}function I(b,a){var c=B(b),e;for(e in a)a.hasOwnProperty(e)&&(void 0!==c[e]&&d(p,[b,e]),c[e]=a[e])}function E(a){return!a||!a.jquery?!1:a.jquery===b().jquery}function D(b){return Array.prototype.slice.call(b)}
var t="undefined",w=11E3,p=11001,G=11004,j=11005,m=11006,n={},c={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","'":"&apos;"},a=void 0!==document.createElement("script").onload,f=-1===/\r\n/.toString().indexOf("\r\n");I("h5.u",{loadScript:function(c,f){var w=i.async.deferred,e=J(c);(!e||0===e.length)&&d(11007);for(var H=0,m=e.length;H<m;H++)c=e[H],(!z(c)||!b.trim(c))&&d(11007);null!=f&&!b.isPlainObject(f)&&d(11008,"h5.u.loadScript()");var l=f&&!1===f.async?!1:!0,j=!!(f&&!0===f.force),H=!!(f&&!0===
f.parallel),q=!!(f&&!0===f.atomic),s=!j,p=l?w():null,t=l?function(b){p.reject(da(11010,[b]))}:null,m=l?function(){var b=w();setTimeout(function(){b.resolve([])},0);return b.promise()}:null,A=H?[]:null,G=[],B={};if(l){if(!q&&a){var E=b("head"),I=function(b){var e=w(),a=document.createElement("script");a.onload=function(){a.onload=null;n[b]=b;e.resolve()};a.onerror=function(){a.onerror=null;e.reject(b)};a.type="text/javascript";a.src=s?b:b+(-1<b.indexOf("?")?"&_":"?_")+ +new Date;E[0].appendChild(a);
return e.promise()};if(H)A.push(m()),b.each(e,function(){var b=R(this);if(!j&&b in n)return!0;A.push(I(b))}),i.async.when(A).done(function(){p.resolve()}).fail(t);else{var N=S(w().resolve(),m);b.each(e,function(){var b=R(this);N=S(N,function(){if(j||!(b in n))return I(b)},t)});S(N,function(){p.resolve()},t)}}else if(H){var O=[];A.push(m());O.push(null);b.each(e,function(){var b=R(this);if(!j&&(b in n||b in B))return!0;A.push(C(b,l,s));q?B[b]=b:O.push(null)});H=e=null;q?(e=function(){b.each(D(arguments),
function(g,e){b.globalEval(e[0])});b.extend(n,B);p.resolve()},H=b.noop):(e=function(){p.resolve()},H=function(){for(var g=D(arguments),e=0;e<O.length;e++)if(g[e]){var a=g[e][3];O[e]!==a&&(b.globalEval(g[e][0]),O.splice(e,1,a))}});i.async.when(A).done(e).fail(t).progress(H)}else N=S(w().resolve(),m),b.each(e,function(){var g=R(this);N=S(N,function(){var e=w();!j&&(g in n||g in B)?e.resolve():C(g,l,s).done(function(a){q?(G.push(a),B[g]=g):(b.globalEval(a),n[g]=g);e.resolve()}).fail(function(){e.reject(this.url)});
return e.promise()},t)}),S(N,function(){q&&(b.each(G,function(g,e){b.globalEval(e)}),b.extend(n,B));p.resolve()},t);return p.promise()}b.each(e,function(){var g=R(this);if(!j&&(g in n||g in B))return!0;C(g,l,s).done(function(e){q?(G.push(e),B[g]=g):(b.globalEval(e),n[g]=g)}).fail(function(){d(11010,[g])})});q&&(b.each(G,function(g,e){b.globalEval(e)}),b.extend(n,B))},createInterceptor:function(a,c){return function(d){var e={},f=a?a.call(this,d,e):d.proceed();d.result=f;if(!c)return f;if(f&&b.isFunction(f.promise)&&
!E(f)){var w=this;ma(f,"always",function(){c.call(w,d,e)});return f}c.call(this,d,e);return f}}});I("h5.u.str",{startsWith:function(b,a){return 0===b.lastIndexOf(a,0)},endsWith:function(b,a){var c=b.length-a.length;return 0<=c&&b.lastIndexOf(a)===c},format:function(b,a){if(null==b)return"";var c=arguments;return b.replace(/\{(\d+)\}/g,function(b,a){var d=c[parseInt(a,10)+1];return typeof d===t?t:d})},escapeHtml:function(a){return"string"!==b.type(a)?a:a.replace(/[&"'<>]/g,function(b){return c[b]})}});
I("h5.u.obj",{expose:I,ns:B,serialize:function(a){function c(b){for(var e=0,a=m.length;e<a;e++)if(b===m[e])return!0;return!1}function w(b){for(var e=0,a=m.length;e<a;e++)b===m[e]&&m.splice(e,1)}function e(a){var l=a,h=b.type(a);"object"===typeof a&&(a instanceof String?h="String":a instanceof Number?h="Number":a instanceof Boolean&&(h="Boolean"));switch(h){case "String":case "string":l=q(h)+A(l);break;case "Boolean":l=l.valueOf();case "boolean":l=q(h)+(l?1:0);break;case "Number":l=l.valueOf();if(b.isNaN&&
b.isNaN(a)||b.isNumeric&&!b.isNumeric(a))l=Infinity===a.valueOf()?q("infinity"):-Infinity===a.valueOf()?q("-infinity"):q("nan");l=q(h)+l;break;case "number":l=b.isNaN&&b.isNaN(a)||b.isNumeric&&!b.isNumeric(a)?Infinity===a?q("infinity"):-Infinity===a?q("-infinity"):q("nan"):q(h)+l;break;case "regexp":l=q(h)+A(l.toString(),f);break;case "date":l=q(h)+ +l;break;case "array":c(a)&&d(ERR_CODE_REFERENCE_CYCLE);m.push(a);for(var i=[],l=q(h)+"[",h=0,n=a.length;h<n;h++){i[h.toString()]=!0;var s;s=a.hasOwnProperty(h)?
"function"===b.type(a[h])?q(t):e(a[h]).replace(/\\/g,"\\\\").replace(/"/g,'\\"'):q("undefElem");l+='"'+s+'"';h!==a.length-1&&(l+=",")}var h="",p;for(p in a)i[p]||"function"!==b.type(a[p])&&(h+='"'+A(p)+'":"'+e(a[p]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');h&&(l+=(a.length?",":"")+'"'+q("objElem")+"{"+h.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),l=l.replace(/,$/,""),l+='}"');l+="]";w(a);break;case "object":c(a)&&d(j);m.push(a);l=q(h)+"{";for(p in a)a.hasOwnProperty(p)&&"function"!==b.type(a[p])&&
(l+='"'+p+'":"'+e(a[p]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');l=l.replace(/,$/,"");l+="}";w(a);break;case "null":case t:l=q(h)}return l}b.isFunction(a)&&d(11002);var m=[];return"2|"+e(a)},deserialize:function(a){function c(a){function w(b){switch(b){case "s":return"string";case "n":return"number";case "b":return"boolean";case "S":return"String";case "N":return"Number";case "B":return"Boolean";case "i":return"infinity";case "I":return"-infinity";case "x":return"nan";case "d":return"date";
case "r":return"regexp";case "a":return"array";case "o":return"object";case "l":return"null";case "u":return t;case "_":return"undefElem";case "@":return"objElem"}}a.match(/^(.)(.*)/);a=RegExp.$1;e=RegExp.$2?RegExp.$2:"";if(void 0!==a&&""!==a)switch(w(a)){case "String":e=new String(s(e,f));break;case "string":break;case "Boolean":"0"===e||"1"===e?e=new Boolean("1"===e):d(m);break;case "boolean":"0"===e||"1"===e?e="1"===e:d(m);break;case "nan":""!==e&&d(m);e=NaN;break;case "infinity":""!==e&&d(m);
e=Infinity;break;case "-infinity":""!==e&&d(m);e=-Infinity;break;case "Number":"infinity"===w(e)?e=new Number(Infinity):"-infinity"===w(e)?e=new Number(-Infinity):"nan"===w(e)?e=new Number(NaN):(e=new Number(e),isNaN(e.valueOf())&&d(m));break;case "number":e=(new Number(e)).valueOf();isNaN(e)&&d(m);break;case "array":var l;try{l=b.parseJSON(e)}catch(h){d(m)}b.isArray(l)||d(m);for(var j=0;j<l.length;j++)switch(w(l[j].substring(0,1))){case "undefElem":delete l[j];break;case "objElem":for(var i=c(q("object")+
l[j].substring(1)),a=[],j=0,p=l.length-1;j<p;j++)a[j]=l[j];l=a;for(var n in i)l[n]=i[n];break;default:l[j]=c(l[j])}e=l;break;case "object":try{l=b.parseJSON(e)}catch(C){d(m)}b.isPlainObject(l)||d(m);for(n in l)l[n]=c(l[n]);e=l;break;case "date":e=new Date(parseInt(e,10));break;case "regexp":try{j=e.match(/^\/(.*)\/(.*)$/),i=s(j[1],f),e=RegExp(i,j[2])}catch(A){d(m)}break;case "null":""!==e&&d(m);e=null;break;case t:""!==e&&d(m);e=void 0;break;default:d(G)}return s(e,f)}z(a)||d(11009);a.match(/^(.)\|(.*)/);
var f=RegExp.$1;"1"!==f&&"2"!==f&&d(11003,[f,"2"]);var e=RegExp.$2;return c(e)},isJQueryObject:E,argsToArray:D,getByPath:function(b,a){z(b)||d(w,"h5.u.obj.getByPath()");var c=b.split(".");!a&&"window"===c[0]&&c.unshift();for(var e=a||window,f=0,j=c.length;f<j&&!(e=e[c[f]],null==e);f++);return e}})})();(function(){var q,A,s,C,B,I,E;function D(b){return b.match(/^error$/i)?q:b.match(/^warn$/i)?A:b.match(/^info$/i)?s:b.match(/^debug$/i)?C:b.match(/^trace$/i)?B:b.match(/^all$/i)?I:b.match(/^none$/i)?
E:null}function t(a,c){var f={};if(b.isArray(a)){var d=a.slice(0,3).join(" <- ");0<a.slice(3).length&&(d+=" ...");f.recent=d;f.all=c.join("\n")}else f.recent=a,f.all=c;return f}function w(b){var a="";b.name?a=b.name:(/^\s*function\s*([\w\-\$]+)?\s*\(/i.test(b.toString()),a=RegExp.$1);return a}function p(a){for(var a=i.u.obj.argsToArray(a),c=[],f=0,d=a.length;f<d;f++)c.push(b.type(a[f]));return c.join(", ")}function G(){}function j(e){(!z(e)||0===b.trim(e).length)&&d(a);this.category=b.trim(e)}var m=
10002,n=10003,c=10004,a=10005,f=10007,h=10008,x=10010;q=50;A=40;s=30;C=20;B=10;I=0;E=-1;var F=null;G.prototype={init:function(){},log:function(b){window.console&&(z(b.args[0])?this._logMsg(b):this._logObj(b))},_logMsg:function(b){var a=b.args,c=null,c=1===a.length?a[0]:i.u.str.format.apply(i.u.str,a),a=this._getLogPrefix(b)+c;b.logger.enableStackTrace&&(a+="  ["+b.stackTrace.recent+"]");b.logger.enableStackTrace&&console.groupCollapsed?console.groupCollapsed(a):this._consoleOut(b.level,a);b.logger.enableStackTrace&&
this._consoleOut(b.level,b.stackTrace.all);b.logger.enableStackTrace&&console.groupEnd&&console.groupEnd()},_consoleOut:function(b,a){var c=!1;b==q&&console.error?(console.error(a),c=!0):b==A&&console.warn?(console.warn(a),c=!0):b==s&&console.info?(console.info(a),c=!0):b==C&&console.debug&&(console.debug(a),c=!0);!c&&console.log&&console.log(a)},_getLogPrefix:function(b){return"["+b.levelString+"]"+b.date.getHours()+":"+b.date.getMinutes()+":"+b.date.getSeconds()+","+b.date.getMilliseconds()+": "},
_logObj:function(b){var a=b.args,c=this._getLogPrefix(b);a.unshift(c);b.level==q&&console.error?this._output(console.error,a):b.level==A&&console.warn?this._output(console.warn,a):b.level==s&&console.info?this._output(console.info,a):b.level==C&&console.debug?this._output(console.debug,a):this._output(console.log,a)},_output:function(b,a){try{if(b.apply){b.apply(console,a);return}}catch(c){}b(a)}};j.prototype={enableStackTrace:!1,maxStackSize:10,error:function(b){this._log(q,arguments,this.error)},
warn:function(b){this._log(A,arguments,this.warn)},info:function(b){this._log(s,arguments,this.info)},debug:function(b){this._log(C,arguments,this.debug)},trace:function(b){this._log(B,arguments,this.trace)},_traceFunctionName:function(a){var c=Error(),f=c.stack||c.stacktrace,c=[],d={};if(f)var c=f.replace(/\r\n/,"\n").replace(/at\b|@|Error\b|\t|\[arguments not available\]/ig,"").replace(/(http|https|file):.+[0-9]/g,"").replace(/ +/g," ").split("\n"),j=null,c=b.map(c,function(a){return j=0===a.length?
null:""===b.trim(a)?"{anonymous}":b.trim(a)}),d=t(c.slice(3,c.length),c.slice(0,this.maxStackSize));else{f=null;try{f=a.caller}catch(m){}a=0;if(f)for(;;){var h=p(f.arguments),i=w(f),q=null;try{q=f.caller}catch(n){c.push("{unable to trace}");d=t(c,c);break}i?c.push("{"+i+"}("+h+")"):q?c.push("{anonymous}("+h+")"):c.push("{root}("+h+")");if(!q||a>=this.maxStackSize){d=t(c,c);break}f=q;a++}else d=t("{unable to trace}","{unable to trace}")}return d},_log:function(b,a,c){var a={level:b,args:i.u.obj.argsToArray(a),
stackTrace:this.enableStackTrace?this._traceFunctionName(c):""},f=F.out,d=F.defaultOut,c=null;if(f)for(var f=J(f),j=0,w=f.length;j<w;j++){var m=f[j];if(m.compiledCategory.test(this.category)){c=m;break}}c||(c=d);j=c.compiledLevel;c=c.compiledTargets;if(!(b<j||0>j))if(a.logger=this,a.date=new Date,a.levelString=this._levelToString(b),c&&0!==c.length){j=0;for(w=c.length;j<w;j++)c[j].log(a)}},_levelToString:function(b){if(b===q)return"ERROR";if(b===A)return"WARN";if(b===s)return"INFO";if(b===C)return"DEBUG";
if(b===B)return"TRACE"}};i.u.obj.expose("h5.log",{createLogger:function(b){return new j(b)},configure:function(){function a(e,l,q){var i=null==q;if(!i){var p=l.category;(!z(p)||0===b.trim(p).length)&&d(x);p=b.trim(p);-1!==b.inArray(p,w)&&d(m,l.category);l.compiledCategory=la(p);w.push(p)}p=null==l.level?D(i?j.level:q.level):z(l.level)?D(b.trim(l.level)):l.level;"number"!==typeof p&&d(n,l.level);l.compiledLevel=p;var p=[],s=l.targets;if(!i||null!=s){var M=[];null==s||b.isArray(s)||z(s)&&b.trim(s).length||
d(h);for(var s=J(s),t=0,g=s.length;t<g;t++){null==s[t]||z(s[t])&&b.trim(s[t]).length||d(h);var o=s[t];if(o){-1!==b.inArray(o,M)&&d(f,o);var u=e[o];u||d(c,o);M.push(o);p.push(u.compiledTarget)}}if(!i&&(e=q.targets,null!=e)){e=J(e);t=0;for(g=e.length;t<g;t++)o=e[t],-1===b.inArray(o,M)&&(p.push(q.compiledTargets[t]),M.push(o))}}l.compiledTargets=p}var j={level:"NONE",targets:null},w=[];F=b.extend(!0,{},i.settings.log?i.settings.log:{defaultOut:j});var l=F.target;l||(l={},F.target=l);(function(a){b.isPlainObject(a)||
d(10009);for(var c in a){var f=a[c];b.type(f.type)!=="object"&&f.type!=="console"&&d(1E4);var e=null,e=f.type==="console"?new G:b.extend(true,{},f.type);e.init&&e.init(f);f.compiledTarget=e}a.console={type:"console",compiledTarget:new G}})(l);var q=F.defaultOut;q||(q=j,F.defaultOut=q);a(l,q);var p=F.out;if(p)for(var p=J(p),s=0,t=p.length;s<t;s++)a(l,p[s],q)}})})();(function(){function d(q){i.settings.aspects=b.map(J(q),function(b){b.target&&(b.compiledTarget=la(b.target));b.pointCut&&(b.compiledPointCut=
la(b.pointCut));return b})}i.u.obj.ns("h5.settings");i.settings={commonFailHandler:null,aspects:null,log:null,listenerElementType:1,dynamicLoading:{retryCount:3,retryInterval:500},ajax:{retryCount:0,retryInterval:500,retryFilter:function(b){b=b.status;if("POST"===this.type||!(0===b||12029===b))return!1}}};var A=i.u.createInterceptor(function(b,d){this.log.info("{0}.{1}が開始されました。",this.__name,b.funcName);this.log.info(b.args);d.start=new Date;return b.proceed()},function(b,d){var q=(new Date).getTime()-
d.start.getTime();this.log.info("{0}.{1}が終了しました。 Time={2}ms",this.__name,b.funcName,q)});i.u.obj.expose("h5.core.interceptor",{lapInterceptor:A,logInterceptor:A,errorInterceptor:function(d){var q=null;try{q=d.proceed()}catch(A){i.settings.commonFailHandler&&b.isFunction(i.settings.commonFailHandler)&&i.settings.commonFailHandler.call(null,A)}return q}});b(document).trigger("h5preinit");i.settings.aspects&&d(i.settings.aspects);i.log.configure()})();(function(){i.u.obj.expose("h5.env",{ua:function(d){function i(b,
a){var c=H(b,"[^;)]*",a).split(" ");return 1===c.length?"":c[c.length-1]}function s(b,a){var c=H(b,"[^;) ]*",a).split("/");return 1===c.length?"":c[c.length-1]}function C(b,a){var c=H(b,"[^;) ]*",a).split(":");return 1===c.length?"":c[c.length-1]}var B=!!d.match(/iPhone/i),z=!!d.match(/iPad/i),E=B||z,D=!!d.match(/android/i),t=!!d.match(/Windows Phone/i),w=!!d.match(/MSIE/)||!!d.match(/Trident/),p=!!d.match(/Firefox/i),G=!!d.match(/Chrome/i)||!!d.match(/CrMo/)||!!d.match(/CriOS/),j=!D&&!!d.match(/Safari/i)&&
!G,m=!!d.match(/Webkit/i),n=!!d.match(/Opera/i),c=D&&!!d.match(/Safari/i)&&!G,a=!(!B&&!t&&!(c&&d.match(/Mobile/)&&!d.match(/SC-01C/)||D&&G&&d.match(/Mobile/)||d.match(/Fennec/i)||d.match(/Opera Mobi/i))),f=!(!z&&!(c&&!d.match(/Mobile/)||D&&G&&!d.match(/Mobile/)||d.match(/SC-01C/)||d.match(/Fennec/i)||d.match(/Opera Tablet/i))),h=!a&&!f,x=null,F=null,e=function(a,c){return b.trim(d.substring(d.indexOf(a)+a.length,d.indexOf(c))).split("_")},H=function(a,c,f){return b.trim(d.match(!1===f?RegExp(a+c):
RegExp(a+c,"i")))};if(B)F=e("iPhone OS","like"),x=parseInt(F[0]),F=F.join(".");else if(z)F=e("CPU OS","like"),x=parseInt(F[0]),F=F.join(".");else if(!D||!p)D?(F=i("Android"),x=parseInt(F.split(".")[0])):t&&((F=i("Windows Phone OS"))||(F=i("Windows Phone")),x=parseInt(F.split(".")[0]));w&&n&&(w=!1);var V=e=null;if(E||D&&c)e=x,V=F;else{var l=null;w?l=i("MSIE",!1)||C("rv"):G?(l=s("Chrome",!1))||(l=s("CrMo",!1)):j?l=s("Version"):p?l=s("Firefox"):n&&((l=s("Version"))||(l=s("Opera")),l||(l=i("Opera")));
l&&(e=parseInt(l.split(".")[0]),V=l)}return{osVersion:x,osVersionFull:F,browserVersion:e,browserVersionFull:V,isiPhone:B,isiPad:z,isiOS:E,isAndroid:D,isWindowsPhone:t,isIE:w,isFirefox:p,isChrome:G,isSafari:j,isOpera:n,isAndroidDefaultBrowser:c,isSmartPhone:a,isTablet:f,isDesktop:h,isWebkit:m}}(navigator.userAgent)})})();(function(){function q(d){function i(){q=!0;j=this;m=E(arguments);if(ya(d)||za(d))return d;var c=E(arguments);if(0<n.length)for(var a=0,f=n.length;a<f;a++){var h=c;h!==arguments&&
(h=J(h));b.isFunction(n[a])&&n[a].apply(this,h)}return d}var q=!1,j=null,m=null,n=[];d.progress=function(){for(var c=E(arguments),a=0,f=c.length;a<f;a++){var h=c[a];if(b.isArray(h))d.progress.apply(this,h);else if(b.isFunction(h))if(q){var i=m;i!==m&&(i=J(i));h.apply(j,i)}else n.push(h)}return this};d.notify=i;d.notifyWith=function(b,a){return!a?i.apply(b):i.apply(b,a)}}function A(d){if(!d)return!1;for(var d=J(d),i=0,q=d.length;i<q;i++)if(b.isFunction(d[i]))return!0;return!1}function s(d,p){function D(b){p?
p[b]&&(d[b]=p[b]):(h[b]=d[b],d[b]=function(){return function(){if(!a){var c=E(arguments);if("then"===b||"pipe"===b)c=c[1];A(c)&&(a=!0)}return d._h5UnwrappedCall.call(this,b,E(arguments))}}(b),x[b]=d[b])}function j(b){return function(){var c=i.settings.commonFailHandler;!a&&c&&!f&&(d.fail.call(this,c),f=!0);return b.apply(this,arguments)}}if(d._h5UnwrappedCall)return d;var m=!!d.progress,n=b.Deferred(),c=n!==n.then();!m&&!t(d)?q(d):p&&(d.progress=p.progress);var a=!1,f=!1,h={},x={};d._h5UnwrappedCall=
p?p._h5UnwrappedCall:function(a,c){c=J(c);b.extend(d,h);var f=d[a].apply(this,c);b.extend(d,x);return f};for(var n=0,F=C.length;n<F;n++){var e=C[n];d[e]&&D(e)}d.pipe&&!p&&(d.pipe=function(){for(var a=i.async.deferred(),c=E(arguments),d=0,f=B.length;d<f;d++){var e=this;(function(c,d,f){if(b.isFunction(c))e[d](function(){var d=c.apply(this,arguments);if(d&&b.isFunction(d.promise)){s(d);d.done(a.resolve);d._h5UnwrappedCall("fail",a.reject);b.isFunction(d.progress)&&d.progress(a.notify)}else a[f+"With"](this,
[d])})})(c[d],B[d],z[d])}return a.promise()},x.pipe=d.pipe);if(d.then&&!p){var H=d.then;d.then=function(){if(c)return x.pipe.apply(this,arguments);var b=arguments,a=H.apply(this,b);!m&&A(b[2])&&d.progress.call(d,b[2]);return a};x.then=d.then}d.reject&&(d.reject=p&&p.reject?p.reject:j(d.reject));d.rejectWith&&(d.rejectWith=p&&p.rejectWith?p.rejectWith:j(d.rejectWith));if(d.promise)if(p&&p.promise)d.promise=p.promise;else{var V=d.promise;d.promise=function(){return s(V.apply(this,arguments),d)}}return d}
var C=["fail","always","pipe","then"],B=["done","fail","progress"],z=["resolve","reject","notify"],E=i.u.obj.argsToArray,D=function(){var d=b.Deferred();return s(d)},t=function(b){return!!b&&b.done&&b.fail&&!b.resolve&&!b.reject};i.u.obj.expose("h5.async",{deferred:D,when:function(){var d=E(arguments);1===d.length&&b.isArray(d[0])&&(d=d[0]);var p=d.length,q=i.async.deferred(),j=q.promise(),m=b.when.apply(b,d).done(function(){q.resolveWith(this&&this.promise&&this.promise()===m?q:this,E(arguments))}).fail(function(){q.rejectWith(this,
E(arguments))});if(m.progress)m.progress(function(){q.notifyWith(this===m?j:this,E(arguments))});else{for(var n=[],c=0;c<p;c++)n[c]=void 0;for(var a=function(b){return function(a){n[b]=1<arguments.length?E(arguments):a;q.notifyWith(j,n)}},c=0;c<p;c++){var f=d[c];f&&b.isFunction(f.promise)&&f.progress&&(1<p?f.progress(a(c)):f.progress(function(){q.notifyWith(j,E(arguments))}))}}return j},isPromise:t,loop:function(i,q,s){b.isArray(i)||d(5E3);var j=D(),m="number"===b.type(s)?s:20,n=!1,c=0,a=i.length,
f,h=null,x=function(){if(c===a)j.resolve(i);else if(n)j.reject(i);else{var b=q.call(i,c,i[c],h);c++;t(b)?b.done(function(){f()}).fail(function(){n=!0;f()}):f()}},F=function(){setTimeout(function(){var b=c-1;0<c&&j.notify({data:i,index:b,value:i[b]});x()},0)},e=!1;f=function(){e||(0===c%m?F():x())};var A=!1,h={resume:function(){!A&&e&&(e=!1,f())},pause:function(){e=!0},stop:function(){A=!0;j.resolve(i)}};F();return j.promise()}})})();(function(){function d(b,i){for(var q=0,s=B.length;q<s;q++){var p=
B[q];b[p]&&(i[I[p]](b[p]),b[p]=void 0)}}function A(d,i,q){for(var s in i)if(i.hasOwnProperty(s)&&(q||!b.isFunction(i[s]))&&-1===b.inArray(s,C))d[s]=i[s]}function s(b,d){A(this,b,!0);d.promise(this);var i=this.always;this.always=function(){i.apply(this,arguments);return this}}var C=["error","success","complete"],B=["error","success","complete"],I={success:"done",error:"fail",complete:"always"};i.u.obj.expose("h5",{ajax:function(){function B(b,d,i){A(G,i);p.resolveWith(this,arguments)}function C(d,
i,q){if(0===t.retryCount||!1===t.retryFilter.apply(this,arguments))A(G,d),p.rejectWith(this,arguments);else if(t.retryCount--,this.async){var c=this;setTimeout(function(){b.ajax(c).done(B).fail(C)},t.retryInterval)}else b.ajax(this).done(B).fail(C)}var t={},w=arguments;z(w[0])?(b.extend(t,w[1]),t.url=w[0]):b.extend(t,w[0]);var t=b.extend({},i.settings.ajax,t),p=i.async.deferred();d(t,p);var w=b.ajax(t),G=new s(w,p);w.done(B).fail(C);return G}})})();(function(){function q(b,a,k,g,c){this.controller=
b;this.event=a;this.evArg=k;this.selector=g;this.selectorType=c}function A(b){return!this.__controllerContext||!this.__controllerContext.executeListeners?void 0:b.proceed()}function s(b,a,k){var g=C(b.__name,a);k&&g.push(A);return B(b[a],a,g)}function C(a,k){var g=[],c=i.settings.aspects;if(!c||0===c.length)return g;for(var c=J(c),d=c.length-1;-1<d;d--){var f=c[d];if(!f.target||f.compiledTarget.test(a)){var o=f.interceptors;if(!f.pointCut||f.compiledPointCut.test(k))if(b.isArray(o))for(f=o.length-
1;-1<f;f--)g=g.concat(o[f]);else g.push(o)}}return g}function B(b,a,k){for(var g=function(b,a,P){return function(){var k=this;return P.call(k,{target:k,func:b,funcName:a,args:arguments,proceed:function(){return b.apply(k,this.args)}})}},c=0,d=k.length;c<d;c++)b=g(b,a,k[c]);return b}function I(b){return!!b.match(/^\{.*\}$/)}function E(b){return!!b.match(/^\[.*\]$/)}function D(a){return b.trim(a.substring(1,a.length-1))}function t(a){return b.trim(a.substring(1,a.length-1))}function w(b,a){for(var g=
["window","document","navigator"],c=0,d=g.length;c<d;c++){var f=g[c];if(b===f||k(b,f+"."))return i.u.obj.getByPath(b,a.defaultView||a.parentWindow)}return b}function p(a){var k=function(a,P){for(var g in a)if(0<=b.inArray(a,P)||$(g,Ra)&&k(a[g],P.concat([a])))return!0;return!1};return k(a,[])}function G(a){var k=function(a,P){for(var g in a)if(0<=b.inArray(a,P)||$(g,qa)&&k(a[g],P.concat([a])))return!0;return!1};return k(a,[])}function j(a,k){var g=a[k];return $(k,Ra)&&"rootController"!==k&&"parentController"!==
k&&!b.isFunction(g)&&g&&!g.__controllerContext.isRoot}function m(a,k,g){var c=[],d=[],f=function(a){d.push(a);for(var P in a)if(j(a,P)){var o=a[P],e=g?o.__controllerContext[k]:o[k];e&&c.push(e);-1===b.inArray(o,d)&&f(o)}};f(a);return c}function n(b){var a=function(b){var k=b.__meta,P={};if(k)for(var g in k)!1===k[g].useHandlers&&(P[g]=1);for(g in b)k=b[g],j(b,g)&&(a(k),P[g]||c(k))};a(b)}function c(a){var k=a.__controllerContext.bindMap,g;for(g in k)for(var c in k[g]){var d=a,o=g,e=c,u=d.__controllerContext.bindMap[o][e],
r=e,$=E(e);$&&(r=t(e));var L=null;switch(r){case "mousewheel":L=aa(d,o,r,u);break;case ra:case db:case sa:L=ea(d,o,e,u);break;default:L=T(d,o,r,u)}if(b.isArray(L)){d=0;for(o=L.length;d<o;d++)f(L[d],$)}else f(L,$)}}function a(a){var k=a.controller.rootElement,g=a.selector,c=a.eventName,d=a.handler,f=E(c),c=f?t(c):c,o=fa(k);if(I(g)){var e=D(g),g=!1;e===Ca?g=!0:k=w(e,o);g||f||!z(k)?(a.evSelectorType=K.SELECTOR_TYPE_OBJECT,b(k).bind(c,d)):(a.evSelectorType=K.SELECTOR_TYPE_GLOBAL,b(o).delegate(k,c,d));
a.evSelector=k}else a.evSelectorType=K.SELECTOR_TYPE_LOCAL,a.evSelector=g,f?b(g,k).bind(c,d):b(k).delegate(g,c,d)}function f(k,g){g&&(k.eventName="["+k.eventName+"]");var c=k.handler;k.handler=function(){var a=i.settings.listenerElementType===1?b(arguments[0].currentTarget):arguments[0].currentTarget;c.call(k.controller,Ba(k,arguments),a)};Aa(k.controller,k.selector,k.eventName,k.handler);a(k)}function h(b){var a=function(b){var k=b.__meta,g={};if(k)for(var c in k)!1===k[c].useHandlers&&(g[c]=1);
for(c in b)k=b[c],j(b,c)&&(a(k),g[c]||x(k))};a(b)}function x(a){var k=a.rootElement;if(k){var g=fa(k),a=a.__controllerContext.unbindMap,c;for(c in a)for(var d in a[c]){var f=a[c][d],o=E(d),e=o?t(d):d;if(I(c)){var u=D(c),r=!1;if(u===Ca)u=k,r=!0;else{if(null==(g.defaultView||g.parentWindow))continue;u=w(u,g)}r||o||!z(u)?b(u).unbind(e,f):b(g).undelegate(u,e,f)}else o?b(c,k).unbind(e,f):b(k).undelegate(c,e,f)}}}function F(a,k){a.__controllerContext.executeListeners=k;var g=[],c=function(a){g.push(a);
for(var d in a)if(j(a,d)){var P=a[d];P.__controllerContext.executeListeners=k;-1===b.inArray(P,g)&&c(P)}};c(a)}function e(a){var k=[],g=function(a,c,d){a.rootController=c;a.parentController=d;k.push(a);for(var P in a)j(a,P)&&(d=a[P],-1===b.inArray(d,k)&&g(d,c,a))};g(a,a,null)}function H(a,k){var g=k?"__init":"__ready",c=X();setTimeout(function(){c.resolve()},0);var d=c.promise(),f=function(c){var o=!0,e;for(e in c)j(c,e)&&(o=!1,f(c[e]));var u=function(){var d=null,f=c.__name;if(c[g])try{d=c[g]({args:c.__controllerContext.args})}catch(o){throw a.rootController&&
a.rootController.dispose(arguments),o;}var e=k?l(c):M(c);d&&b.isFunction(d.done)&&b.isFunction(d.fail)?d.done(function(){e()}).fail(function(){var b=da(Sa,f,L(arguments));a.rootController&&a.rootController.dispose(b)}):e()};e=k?V(c):m(c,"readyPromise");k&&o&&e.push(d);i.async.when(e).done(function(){u()}).fail(ta)};f(a)}function V(b){var a=m(b,"initPromise");a.push(b.preinitPromise);return a}function l(b){return function(){if(!U(b)){b.isInit=!0;var a=b.__controllerContext.initDfd;delete b.__controllerContext.templatePromise;
delete b.__controllerContext.preinitDfd;delete b.__controllerContext.initDfd;a.resolveWith(b);b.__controllerContext&&b.__controllerContext.isRoot&&g(b)}}}function M(a){return function(){if(!U(a)){a.isReady=!0;var k=a.__controllerContext.readyDfd;delete a.__controllerContext.readyDfd;k.resolveWith(a);a.__controllerContext&&a.__controllerContext.isRoot&&a.rootElement&&a.isInit&&a.isReady&&b(a.rootElement).trigger("h5controllerready",a)}}}function Q(a,g,c){if(!z(a))return b(a);var f=b.trim(a);I(f)?(a=
D(f),c&&(k(a,"window")||k(a,"navigator"))&&d(la),g=b(w(a,fa(g.ownerDocument)))):g=b(g).find(a);return g}function Aa(b,a,k,g){b.__controllerContext.unbindMap[a]||(b.__controllerContext.unbindMap[a]={});b.__controllerContext.unbindMap[a][k]=g}function T(b,a,k,g){return{controller:b,selector:a,eventName:k,handler:g}}function aa(b,a,k,g){return{controller:b,selector:a,eventName:typeof document.onmousewheel===ja?"DOMMouseScroll":k,handler:function(a){var k=a.event;null==k.wheelDelta&&k.originalEvent&&
null!=k.originalEvent.wheelDelta&&(k.wheelDelta=k.originalEvent.wheelDelta);null==k.wheelDelta&&k.originalEvent&&null!=k.originalEvent.detail&&(k.wheelDelta=40*-k.originalEvent.detail);g.call(b,a)}}}function ea(a,k,g,c){var d=typeof document.ontouchstart!==ja;if(g!==ra)return d?T(a,k,g,c):T(a,k,g,function(a){var k=a.event,g=b(k.currentTarget).offset()||{left:0,top:0};k.offsetX=k.pageX-g.left;k.offsetY=k.pageY-g.top;c.apply(this,arguments)});var f=function(b,a){for(var k in b)b.hasOwnProperty(k)&&
!a[k]&&"target"!==k&&"currentTarget"!==k&&"originalEvent"!==k&&"liveFired"!==k&&(a[k]=b[k]);a.h5DelegatingEvent=b},o=d?"touchstart":"mousedown",e=d?"touchmove":"mousemove",u=d?"touchend":"mouseup",r=b(fa(a.rootElement));return function(){var $=null,L=!1,j=function(k,g,c){return function(o){var K;a:{switch(k){case "touchstart":case "mousedown":K=ra;break a;case "touchmove":case "mousemove":K=db;break a;case "touchend":case "mouseup":K=sa;break a}K=void 0}var Ha=K===ra;if(!Ha||!L){d&&W(o.event,k);var Z=
new b.Event(K);f(o.event,Z);var i=o.event.target;g&&(i=g);c&&c(Z);var Ia=o.event.originalEvent||o.event;Ha&&-1===b.inArray(Ia,ka)&&(ka=[],na=[]);var m=b.inArray(Ia,ka);-1===m&&(m=ka.push(Ia)-1,na[m]=!1);if(!na[m]&&(!d||L||Ha))na[m]=!0,b(i).trigger(Z,o.evArg),L=!0;if(o.event.currentTarget===document&&(K===sa&&(ka=[],na=[]),-1!==b.inArray(Ia,ka)))ka.splice(m,1),na.splice(m,1);if(Ha&&L){Z.h5DelegatingEvent.preventDefault();K=Z.target;var h=Z.clientX,y=Z.clientY,Ga=j(e,K,function(b){var a=b.clientX,k=
b.clientY;b.dx=a-h;b.dy=k-y;h=a;y=k}),q=j(u,K),l=function(b){o.event=b;o.evArg=ha(arguments);Ga(o)},ca=function(b){o.event=b;o.evArg=ha(arguments);q(o)},Y=d?b(K):r;$=function(){ka=[];na=[];Y.unbind(e,l);Y.unbind(u,ca);if(!d&&a.rootElement!==document){b(a.rootElement).unbind(e,l);b(a.rootElement).unbind(u,ca)}};Y.bind(e,l);Y.bind(u,ca);!d&&a.rootElement!==document&&(b(a.rootElement).bind(e,l),b(a.rootElement).bind(u,ca))}else K===sa&&($(),L=!1)}}},K=[T(a,k,g,c)];K.push({controller:a,selector:k,eventName:o,
handler:j(o)});return K}()}function W(a,k){var g=a.originalEvent;if(g){var c="touchend"===k||"touchcancel"===k?g.changedTouches[0]:g.touches[0],d=c.pageX,o=c.pageY;a.pageX=g.pageX=d;a.pageY=g.pageY=o;a.screenX=g.screenX=c.screenX;a.screenY=g.screenY=c.screenY;a.clientX=g.clientX=c.clientX;a.clientY=g.clientY=c.clientY;c=a.target;if(c.ownerSVGElement)c=c.farthestViewportElement;else if(c===window||c===document)c=document.body;if(c=b(c).offset())o-=c.top,a.offsetX=g.offsetX=d-c.left,a.offsetY=g.offsetY=
o}}function ha(b){return 3>b.length?b[1]:L(b).slice(1)}function Ba(a,k){var g=null,c=null;k&&(g=k[0],c=ha(k));var d=g;if(d&&null==d.offsetX&&null==d.offsetY&&d.pageX&&d.pageY){var o=d.target;if(o.ownerSVGElement)o=o.farthestViewportElement;else if(o===window||o===document)o=document.body;if(o=b(o).offset())d.offsetX=d.pageX-o.left,d.offsetY=d.pageY-o.top}return new q(a.controller,g,c,a.evSelector,a.evSelectorType)}function ba(b){for(var a in b){var k=b[a];j(b,a)&&(k.rootElement=null,k.view.__controller=
null,ba(k))}}function N(b){var a=b.rootElement,k=b.__meta,g;for(g in b){var c=b[g];j(b,g)&&(c.rootElement=k&&k[g]&&k[g].rootElement?O(k[g].rootElement,a,c):a,c.view.__controller=c,N(c))}}function O(a,k,g){null==a&&d(Ja,[g.__name]);!z(a)&&"object"!==typeof a&&d(Ka,[g.__name]);a=k?Q(a,k):b(a);0===a.length&&d(ua,[g.__name]);1<a.length&&d(La,[g.__name]);return a.get(0)}function g(a){c(a);n(a);var k=a.__controllerContext.managed,g=i.core.controllerManager.controllers;-1===b.inArray(a,g)&&!1!==k&&g.push(a);
!1!==k&&b(a.rootElement).trigger("h5controllerbound",a);k=m(a,"initPromise");k.push(a.initPromise);i.async.when(k).done(function(){H(a,!1)}).fail(ta)}function o(b){null===b.rootController&&e(b);N(b);H(b,!0)}function u(b,a){var k=X();k.resolve();b.__controllerContext.templatePromise=k.promise();b.__controllerContext.initDfd=X();b.initPromise=b.__controllerContext.initDfd.promise();b.__controllerContext.readyDfd=X();b.readyPromise=b.__controllerContext.readyDfd.promise();b.isInit=!1;b.isReady=!1;b.__controllerContext.args=
a;for(var g in b)j(b,g)&&u(b[g])}function r(a,k){var g=null,c=k;b.isPlainObject(c)?g=c.target:c={};g=g?Q(g,a.rootElement,!0):a.rootElement;return i.ui.indicator.call(a,g,c)}function y(a,k){var g=[],c=[],d=function(a){var o=X();c.push(a);for(var f in a)if(j(a,f)){var e=a[f];-1===b.inArray(e,c)&&d(e)}a[k]&&b.isFunction(a[k])&&(a=a[k](),i.async.isPromise(a)&&(a.always(function(){o.resolve()}),g.push(o.promise())))};d(a);return g}function Y(a){var k=[],g=function(a){k.push(a);a.view.__view&&a.view.clear();
for(var c in a)if(a.hasOwnProperty(c)){if(j(a,c)){var d=a[c];-1===b.inArray(d,k)&&g(d)}a[c]=null}};g(a)}function v(b,a){return a.view.__view.isAvailable(b)?a.view.__view:a.parentController?v(b,a.parentController):i.core.view}function U(b){return!b.__controllerContext||b.__controllerContext.isDisposing}function Ta(b,a){function k(b,c){var o=b.__controllerContext[d[c]];o&&!ya(o)&&!za(o)&&o.rejectWith(b,[a]);if(b.parentController)k(b.parentController,c);else if(c<d.length-1)for(var o=0,f=g.length;o<
f;o++)k(g[o],c+1)}var g=[],c=function(b){var a=!1,k;for(k in b)j(b,k)&&(a=!0,c(b[k]));a||g.push(b)};c(b);for(var d=["initDfd","readyDfd"],o=0,f=g.length;o<f;o++)k(g[o],0)}function Da(b,a){for(var k=b.childNodes,g=0,c=k.length;g<c;g++){var d=k[g];if(1===d.nodeType){if(d=Da(d,a))return d}else if(8===d.nodeType){var o=d.nodeValue;if(0===o.indexOf(va)){var f=o.indexOf("}");if(-1!==f&&(o=o.slice(0,f).match(/id="([A-Za-z][\w-:\.]*)"/))&&o[1]===a)return d}}}return null}function Ma(b){var a=this;return function(){return b.apply(a,
arguments)}}function Na(b){var a=this;return function(){var k=i.u.obj.argsToArray(arguments);k.unshift(this);return b.apply(a,k)}}function Oa(b){this.__controller=b;i.u.obj.getByPath("h5.core.view")&&(this.__view=i.core.view.createView())}function oa(b,a,k,g,c){this.__name=a;this.__templates=null;this.rootElement=b;this.__controllerContext={executeListeners:!0,isRoot:c,bindMap:{},unbindMap:{},controllerDef:k};this.__controllerContext.args=g?g:null;this.isReady=this.isInit=!1;this.readyPromise=this.initPromise=
this.preinitPromise=this.parentController=this.rootController=null;this.log=i.log.createLogger(a);this.view=new Oa(this)}function eb(){this.rootElement=document;this.controllers=[];b(document).bind(Ea,function(b,a){null==a.target&&(a.target=document);a.indicator=r(this,a);b.stopPropagation()})}function S(a,k,g,c){var f=!c||!c.isInternal,e=k.__name;(!z(e)||0===b.trim(e).length)&&d(ma,null,{controllerDefObj:k});g&&!b.isPlainObject(g)&&d(Ua,[e],{controllerDefObj:k});k.__controllerContext&&d(Va,null,
{controllerDefObj:k});if(f||a)if(null==a)d(Ja,[e],{controllerDefObj:k});else if(z(a)||"object"===typeof a){var u=b(a);0===u.length&&d(ua,[e],{controllerDefObj:k});1<u.length&&d(La,[e],{controllerDefObj:k})}else d(Ka,[e],{controllerDefObj:k});p(k)&&d(Fa,[e],{controllerDefObj:k});G(k)&&d(Wa,[e],{controllerDefObj:k});var r=new oa(a?b(a).get(0):null,e,k,g,f),a=b.extend(!0,{},k),L=k.__templates,K=X(),u=K.promise(),Z=X(),j=Z.promise();r.__controllerContext.preinitDfd=Z;r.preinitPromise=j;r.__controllerContext.initDfd=
X();r.initPromise=r.__controllerContext.initDfd.promise().fail(ta);r.__controllerContext.readyDfd=X();r.readyPromise=r.__controllerContext.readyDfd.promise();f||r.readyPromise.fail(ta);if(L&&0<L.length){var m=function(b){i.u.obj.getByPath("h5.core.view")||d(Xa);r.view.load(L).done(function(){K.resolve()}).fail(function(a){var k=a.detail.error.status;b===i.settings.dynamicLoading.retryCount||0!==k&&12029!==k?setTimeout(function(){K.reject(a)},0):setTimeout(function(){m(++b)},i.settings.dynamicLoading.retryInterval)})};
m(0)}else K.resolve();u.done(function(){U(r)||Z.resolveWith(r)}).fail(function(b){Z.rejectWith(r,[b]);r.rootController&&r.rootController.dispose(b)});for(var h in a)if(Ga[h])d(Ya,[e,h],{controllerDefObj:k});else if(("__ready"===h||"__construct"===h||"__init"===h)&&b.isFunction(a[h]))r[h]=s(a,h);else if(-1!==h.indexOf(" ")&&b.isFunction(a[h])){u=b.trim(h);j=u.lastIndexOf(" ");f=b.trim(u.substring(0,j));u=b.trim(u.substring(j+1,u.length));E(u)&&(u="["+b.trim(t(u))+"]");I(f)&&"this"===D(f)&&d(Za,[e],
{controllerDefObj:k});j=r.__controllerContext.bindMap;j[f]||(j[f]={});j[f][u]&&d(pa,[e,f,u],{controllerDefObj:k});var y=s(a,h,!0);j[f][u]=y;r[h]=y}else $(h,Ra)&&a[h]&&!b.isFunction(a[h])?(f=S(null,b.extend(!0,{},a[h]),g,b.extend({isInternal:!0},c)),r[h]=f):r[h]=$(h,qa)&&a[h]&&!b.isFunction(a[h])?R(k[h]):b.isFunction(a[h])?s(a,h):a[h];if(g=r.__meta)for(h in g)f=r[h],void 0===f&&d(Pa,[e,h],{controllerDefObj:k}),null===f&&d(Qa,[e,h],{controllerDefObj:k}),oa.prototype.constructor!==f.constructor&&d(wa,
[e,h],{controllerDefObj:k});r.__construct&&r.__construct({args:r.__controllerContext.args});if(U(r))return null;c&&"managed"in c&&(r.__controllerContext.managed=c.managed);r.__controllerContext.isRoot&&o(r);return r}function R(a){var k=a.__name;(!z(k)||0===b.trim(k).length)&&d(xa,null,{logicDefObj:a});a.__logicContext&&d(ga,null,{logicDefObj:a});var g=b.extend(!0,{},a),c;for(c in g)g[c]=b.isFunction(g[c])?B(g[c],c,C(g.__name,c)):g[c];g.deferred=X;g.log=i.log.createLogger(k);g.__logicContext={logicDef:a};
g.own=Ma;g.ownWithOrg=Na;for(var o in g)g.hasOwnProperty(o)&&$(o,qa)&&(g[o]=R(g[o]));return g}var ja="undefined",Ra="Controller",qa="Logic",ra="h5trackstart",db="h5trackmove",sa="h5trackend",Ca="rootElement",Ea="triggerIndicator",va="{h5view ",la=6E3,Ja=6001,ua=6003,La=6004,ma=6006,Ua=6007,Va=6008,Fa=6009,Wa=6010,Ya=6011,Za=6012,pa=6013,Pa=6014,Qa=6015,wa=6016,xa=6017,ga=6018,Xa=6029,Ka=6030,Sa=6033,ta=function(){},X=i.async.deferred,k=i.u.str.startsWith,$=i.u.str.endsWith,Z=i.u.str.format,L=i.u.obj.argsToArray,
K={SELECTOR_TYPE_LOCAL:1,SELECTOR_TYPE_GLOBAL:2,SELECTOR_TYPE_OBJECT:3},ka=[],na=[];b.extend(q.prototype,K);b.extend(Oa.prototype,{get:function(b,a){return v(b,this.__controller).get(b,a)},update:function(b,a,k){b=Q(b,this.__controller.rootElement,!0);return v(a,this.__controller).update(b,a,k)},append:function(b,a,k){b=Q(b,this.__controller.rootElement,!0);return v(a,this.__controller).append(b,a,k)},prepend:function(b,a,k){b=Q(b,this.__controller.rootElement,!0);return v(a,this.__controller).prepend(b,
a,k)},load:function(b){return this.__view.load(b)},register:function(b,a){this.__view.register(b,a)},isValid:function(b){return this.__view.isValid(b)},isAvailable:function(b){return v(b,this.__controller).isAvailable(b)},clear:function(b){this.__view.clear(b)},bind:function(a,k){var g=a;if(z(a)&&0===a.indexOf("h5view#")){for(var c=Da(this.__controller.rootElement,a.slice(7)),g=c.nodeValue,g=g.slice(g.indexOf("}")+1),d=b("<div>").append(g),g=[],o=d[0].childNodes,f=0,e=o.length;f<e;f++)g.push(o[f]);
d.empty();d=document.createDocumentFragment();f=0;for(e=g.length;f<e;f++)d.appendChild(g[f]);c.parentNode.insertBefore(d,c.nextSibling)}return this.__view.bind(g,k)}});b.extend(oa.prototype,{$find:function(a){return b(this.rootElement).find(a)},deferred:function(){return X()},trigger:function(a,k){var g=z(a)?b.Event(a):a;b(this.rootElement).trigger(g,k);return g},own:Ma,ownWithOrg:Na,bind:function(b,a){this.__controllerContext.isRoot||d(6031);this.rootElement=O(b,null,this);this.view.__controller=
this;u(this,a?a:null);o(this);return this},unbind:function(){this.__controllerContext.isRoot||d(6031);y(this,"__unbind");x(this);h(this);this.__controllerContext.unbindMap={};var a=this;i.core.controllerManager.controllers=b.grep(i.core.controllerManager.controllers,function(b){return b!==a});b(this.rootElement).trigger("h5controllerunbound",this);this.rootElement=null;this.view.__controller=null;ba(this)},dispose:function(b){if(!U(this)){Ta(this,b);this.__controllerContext.isDisposing=1;var a=this.deferred();
this.unbind();var k=this,b=y(this,"__dispose");i.async.when(b).done(function(){Y(k);a.resolve()});return a.promise()}},triggerIndicator:function(a){var k={indicator:null};a&&b.extend(k,a);b(this.rootElement).trigger(Ea,[k]);return k.indicator},indicator:function(b){return r(this,b)},enableListeners:function(){F(this,!0)},disableListeners:function(){F(this,!1)},throwError:function(b,a){var k=L(arguments);k.unshift(null);this.throwCustomError.apply(null,k)},throwCustomError:function(b,a,k){2>arguments.length&&
d(6005);var g=null;a&&z(a)?g=Error(Z.apply(null,L(arguments).slice(1))):(g=Error(),g.detail=a);g.customType=b;throw g;}});b.extend(eb.prototype,{getAllControllers:function(){return this.controllers},getControllers:function(a,k){for(var g=k&&k.deep,c=k&&k.name?J(k.name):null,d=b(a)[0],o=this.controllers,f=[],e=0,u=o.length;e<u;e++){var r=o[e];c&&-1===b.inArray(r.__name,c)||(d===r.rootElement?f.push(r):g&&fa(d)===fa(r.rootElement)&&b.contains(d,r.rootElement)&&f.push(r))}return f}});i.u.obj.expose("h5.core",
{controllerManager:new eb});var Ga={},ca=new oa(null,"a"),ia;for(ia in ca)ca.hasOwnProperty(ia)&&"__name"!==ia&&"__templates"!==ia&&"__meta"!==ia&&(Ga[ia]=1);ca=null;ca=oa.prototype;for(ia in ca)ca.hasOwnProperty(ia)&&(Ga[ia]=1);ca=null;bb.controllerInternal=S;i.u.obj.expose("h5.core",{controller:function(b,a,k){2>arguments.length&&d(6032);return S(b,a,k)},logic:R,expose:function(b){var a=b.__name;a||d(6019,null,{target:b});var k=a.lastIndexOf(".");if(-1===k)window[a]=b;else{var g=a.substr(0,k),a=
a.substr(k+1,a.length),k={};k[a]=b;i.u.obj.expose(g,k)}}})})();(function(){function q(b){return(b=b.match(/^(string|number|integer|boolean|any|enum|@(.+?))((\[\]){0,1})$/))?{elmType:b[1],dataModel:b[2],dimension:b[3]?1:0}:{}}function A(a,g){return function L(a,k){if(!g[a])return!1;for(var c=0,d=g[a].length;c<d;c++)if(-1<b.inArray(g[a][c],k)||L(g[a][c],k.concat([a])))return!0;return!1}(a,[])}function s(b){return"number"===typeof b&&isNaN(b)}function C(b,a){return null==b||s(b)||"number"===typeof b||
!a&&(b instanceof Number||!(!(z(b)||b instanceof String)||!b.match(/^[+\-]{0,1}[0-9]*\.{0,1}[0-9]+$/)))}function B(b,a){return null==b||"number"===typeof b&&parseInt(b)===b||!a&&(b instanceof Number&&parseInt(b)===parseFloat(b)||("string"===typeof b||b instanceof String)&&!!b.match(/^[+\-]{0,1}[0-9]+$/))}function I(a,c,f,e){"object"!==typeof a&&d(g);var r=[];try{if(c){var u=!1,j;for(j in a)if(a[j]&&!0===a[j].id){if(u&&(r.push(m(Oa)),e))throw null;u=!0}if(!u&&(r.push(m(oa)),e))throw null;}var u={},
h;for(h in a){var i=null==a[h]?{}:a[h],y=c&&!!i.id;if(!ja(h)&&(r.push(m(S,h)),e))throw null;var l=i.depend;if(null!=l){if(y&&(r.push(m(R,h)),e))throw null;if(i.hasOwnProperty("defaultValue")&&(r.push(m(Wa,h)),e))throw null;if(null==l.on){if(r.push(m(da,h)),e)throw null;}else for(var Y=J(l.on),v=0,p=Y.length;v<p;v++)if(!a.hasOwnProperty(Y[v])){r.push(m(da,h));if(e)throw null;break}if("function"!==typeof l.calc&&(r.push(m(fa,h)),e))throw null;u[h]=J(l.on)}var U=i.type;y&&null==U&&(U="string");v={};
if(null!=U)if(z(U)){if(y&&"string"!==U&&"integer"!==U&&(r.push(m(Za,h)),e))throw null;v=q(U);if(v.elmType){if(v.dataModel){if(!c&&(r.push(m(qa,h,v.dataModel)),e))throw null;if(!f.models[v.dataModel]&&(r.push(m(ra,h,v.dataModel)),e))throw null;}if("enum"===v.elmType&&null==i.enumValue&&(r.push(m(ma,h)),e))throw null;}else if(r.push(m(qa,h,U)),e)throw null;}else if(r.push(m(la,h)),e)throw null;var n=i.constraint;if(null!=n)if(b.isPlainObject(n)){for(j in n){var x=n[j];if(null!=x)switch(j){case "notNull":if(!0!==
x&&!1!==x){if(r.push(m(Ca,h,j)),e)throw null;}else if(y&&!x&&(r.push(m(Fa,h,j,x)),e))throw null;break;case "min":case "max":switch(v.elmType){case "integer":if(z(x)||!B(x)||s(x))if(r.push(m(Ea,h,j)),e)throw null;break;case "number":if(z(x)||z(x)||!C(x)||Infinity===x||-Infinity===x||s(x))if(r.push(m(Ea,h,j)),e)throw null;break;default:if(r.push(m(va,h,j,v.elmType)),e)throw null;}break;case "minLength":case "maxLength":switch(v.elmType){case "string":if(z(x)||!B(x)||s(x)||0>x){if(r.push(m(Ja,h,j)),
e)throw null;}else if(y&&"maxLength"===j&&0===x&&(r.push(m(Fa,h,j,x)),e))throw null;break;default:if(r.push(m(va,h,j,v.elmType)),e)throw null;}break;case "notEmpty":switch(v.elmType){case "string":if(!0!==x&&!1!==x){if(r.push(m(Ca,h,j)),e)throw null;}else if(y&&!x&&(r.push(m(Fa,h,j,x)),e))throw null;break;default:if(r.push(m(va,h,j,v.elmType)),e)throw null;}break;case "pattern":switch(v.elmType){case "string":if("regexp"!==b.type(x)&&(r.push(m(ya,h,j)),e))throw null;break;default:if(r.push(m(va,h,
j,v.elmType)),e)throw null;}}}if(n.notEmpty&&0===n.maxLength&&(r.push(m(ua,h,"notEmpty","maxLength")),e))throw null;if(null!=n.min&&null!=n.max&&n.min>n.max&&(r.push(m(ua,h,"min","max")),e))throw null;if(null!=n.minLength&&null!=n.maxLength&&n.minLength>n.maxLength&&(r.push(m(ua,h,"minLength","maxLength")),e))throw null;}else if(r.push(m(sa,h)),e)throw null;var t=i.enumValue;if(null!=t){if("enum"!==v.elmType&&(r.push(m(La,h)),e))throw null;if(!b.isArray(t)||0===t.length||-1<b.inArray(null,t)||-1<
b.inArray(void 0,t))if(r.push(m(za,h)),e)throw null;}if(y&&i.hasOwnProperty("defaultValue")&&(r.push(m(Ua,h)),e))throw null;}for(var w in u)if(A(w,u)&&(r.push(m(Ya,w)),e))throw null;}catch(F){d(o,null,r)}return!0}function E(b,a,g){var c=[];try{for(var e in b){var f=b[e];if(f&&(f.hasOwnProperty("defaultValue")||!f.type||!("array"===f.type||q(f.type).dimension))&&f.hasOwnProperty("defaultValue")){var r=f.defaultValue;if(a[e](r).length&&(c.push(m(Va,e,r)),g))throw null;}}return!0}catch(u){d(o,null,c)}}
function D(b,a,g){var c={},d;for(d in b){var e=c,o=d,f;f=g;var r=b[d]||{},u=[],h=null,j=0,h=r.type,i=r.constraint||{};a&&r.id&&(h=h||"string",i.notNull=!0,"string"===h&&(i.notEmpty=!0));h&&(j=q(h),h=j.elmType,j=j.dimension,u.push(w(h,{manager:f,enumValue:r.enumValue})));i&&u.push(t(i));f=p({checkFuncs:u,dimension:j});e[o]=f}return c}function t(b){return function(a){var g=[];b.notNull&&null==a&&g.push({notNull:b.notNull});b.notEmpty&&!a&&g.push({notEmpty:b.notEmpty});if(null==a)return g;null!=b.min&&
a<b.min&&g.push({min:b.min});null!=b.max&&b.max<a&&g.push({max:b.max});null!=b.minLength&&a.length<b.minLength&&g.push({minLength:b.minLength});null!=b.maxLength&&b.maxLength<a.length&&g.push({maxLength:b.maxLength});null!=b.pattern&&!a.match(b.pattern)&&g.push({pattern:b.pattern});return g}}function w(a,g){var c=[{type:a}];switch(a){case "number":return function(b,a){return C(b,a)?[]:c};case "integer":return function(b,a){return B(b,a)?[]:c};case "string":return function(b,a){return null==b||z(b)||
!a&&b instanceof String?[]:c};case "boolean":return function(b,a){return null==b||"boolean"===typeof b||!a&&b instanceof Boolean?[]:c};case "enum":return function(a){var k;a:if(k=g.enumValue,s(a)){for(var a=0,d=k.length;a<d;a++)if(s(k[a])){k=!0;break a}k=!1}else k=null===a||-1<b.inArray(a,k);return k?[]:c};case "any":return function(){return[]}}var d=a.match(/^@(.+?)$/)[1],e=g.manager;return function(b){var a=e.models[d];return!a||"object"!==typeof b&&null!=b?c:null==b||a.has(b)?[]:c}}function p(a){var g=
a.checkFuncs;if(!g||0===g.length)return function(){return[]};var c=a.dimension||0;return function(a,k){function d(a,f){if(!f){for(var o=0,r=g.length;o<r;o++){var u=g[o](a,k);if(u.length)return e=e.concat(u),!1}return!0}if(null==a)return!0;if(!b.isArray(a)&&!i.core.data.isObservableArray(a))return e.push({dimension:c}),!1;o=0;for(r=a.length;o<r;o++)if(!d(a[o],f-1))return!1;return!0}var e=[];d(a,c);return e}}function G(b,a){b._values={};b._nullProps={};for(var g in a)if(a[g]&&j(a[g].type)){var c=ea();
c.relatedItem=b;b._values[g]=c;b._nullProps[g]=!0}}function j(b){return!b?!1:-1!==b.indexOf("[]")}function m(){return{code:arguments[0]}}function n(a,g,c,e){function o(g){for(var g=J(u[g].depend.on),c=0,d=g.length;c<d;c++)if(-1===b.inArray(g[c],a._realProperty)&&-1!==b.inArray(g[c],r))return!1;return!0}function f(a,g){for(var k=0,c=g.length;k<c;k++){var d=h[g[k]];if(d)for(var e=0,o=d.length;e<o;e++){var r=d[e];-1===b.inArray(r,a)&&a.push(r)}}}var r=[],u=a.schema||a._model.schema,h=a._dependencyMap,
i={};for(e?r=a._dependProps.slice():f(r,J(c));0!==r.length;){for(var c=[],e=0,m=r.length;e<m;e++){var y=r[e];if(o(y)){var v=u[y].depend.calc.call(a,g);0!==a._validateItemValue(y,v,!0).length&&d(Y,[a._model?a._model.name:pa,y,v]);i[y]={oldValue:a._values[y],newValue:v};u[y]&&j(u[y].type)?v?(a._values[y].copyFrom(v),a._nullProps[y]=!1):(a._values[y].copyFrom([]),a._nullProps[y]=!0):a._values[y]=v}else c.push(y)}f(c,r);r=c}return i}function c(b,a,g,c){for(var e in g){e in b||d(y,[c?c.name:pa,e]);var o=
g[e];if(!b[e]||!j(b[e].type)||g.hasOwnProperty(e))o=a(e,o,c&&c._idKey===e),0<o.length&&d(u,[c?c.name:pa,e],o)}}function a(a,g,c,e){var o=a.schema||a._model.schema,f=[],u;for(u in g)if(!(c&&-1!==b.inArray(u,c))){var h=a._values[u],y=g[u];if(o[u]&&o[u].depend)h!==y&&d(r,[a._model?a._model.name:pa,u]);else{var m=o[u]&&o[u].type;j(m)&&(null==y?(y=[],a._nullProps[u]=!0):a._nullProps[u]=!1);if(m&&m.match(/string|number|integer|boolean/)){var v=y;if(b.isArray(v)){for(var v=v.slice(0),y=0,l=v.length;y<l;y++)v[y]=
v[y]&&"object"===typeof v[y]?v[y]&&v[y].valueOf&&v[y].valueOf():v[y];y=v}else y=v&&"object"===typeof v&&v.valueOf?v.valueOf():v}if(null!=y&&m&&m.match(/number|integer/)&&"number"!==typeof y)if(b.isArray(y)||i.core.data.isObservableArray(y)){v=0;for(l=y.length;v<l;v++)null!=y[v]&&C(y[v])&&(y[v]=parseFloat(y[v]))}else null!=y&&(y=parseFloat(y));if(!j(m)||!h||!h.equals(y,h))h===y||s(h)&&s(y)||(m&&-1!==m.indexOf("[]")&&i.core.data.isObservableArray(h)&&(h=h.toArray()),f.push({p:u,o:h,n:y}))}}if(f.length){g=
{};c=[];v=0;for(u=f.length;v<u;v++)h=f[v],o[h.p]&&j(o[h.p].type)?h.n&&a._values[h.p].copyFrom(h.n):a._values[h.p]=h.n,g[h.p]={oldValue:h.o,newValue:a.get(h.p)},c.push(h.p);o={type:!0===e?"create":"change",target:a,props:g};b.extend(g,n(a,o,c,e));return o}}function f(b){var a=b._manager,b=b.name;a._updateLogs||(a._updateLogs={});a._updateLogs[b]||(a._updateLogs[b]={});return a._updateLogs[b]}function h(b,a,g){if(b._manager)for(var c=f(b),d=0,e=g.length;d<e;d++){var o=g[d],r=o._values[b._idKey];c[r]||
(c[r]=[]);c[r].push({type:a,item:o})}}function x(b,a){if(b._manager){var g=f(b),c=a.target._values[b._idKey];g[c]||(g[c]=[]);g[c].push({type:Pa,ev:a})}}function F(a){var g={},c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c]?a[c].depend:null;if(d)for(var d=J(d.on),e=0,o=d.length;e<o;e++){var f=d[e];g[f]||(g[f]=[]);-1===b.inArray(c,g[f])&&g[f].push(c)}}return g}function e(a,g){var c=[];try{if(!b.isPlainObject(a))throw c.push(m(v)),null;if(!ja(a.name))throw c.push(m(U)),null;var e=a.base,o=null;if(null!=
e){if(!z(e)||0!==e.indexOf("@"))throw c.push(m(Ta)),null;var f=e.substring(1);if(g.models[f])o=g.models[f].schema;else throw c.push(m(Da,f)),null;}var r=a.schema;if(!o&&null==r)throw c.push(m(Ma)),null;if(!o&&!b.isPlainObject(r))throw c.push(m(Na)),null;}catch(u){d(N,null,c)}c=(c=a.base)?g.models[c.slice(1)].schema:{};c=b.extend({},c,a.schema);I(c,!0,g,!0);e=D(c,!0,g);E(c,e,!0);return new Q(c,a,e,g)}function H(a,g){var c=[],d=[],e=[],o;for(o in a)a[o]&&a[o].depend?d.push(o):c.push(o),a[o]&&a[o].type&&
-1!==a[o].type.indexOf("[]")&&e.push(o);o=F(a);var f={},r;for(r in a){var u=a[r];if(!u||!u.depend){var h=null,h=u&&void 0!==u.defaultValue?u.defaultValue:null;f[r]=h}}return{_realProps:c,_dependProps:d,_aryProps:e,_dependencyMap:o,_createInitialValueObj:function(a){if(!a)return b.extend({},f);var g=b.extend({},f),c;for(c in a)g[c]=a[c];return g},_validateItemValue:function(b,a,c){return g[b](a,c)}}}function V(a,g,c,e){var o=!1,f=["sort","reverse","pop","shift"],r=null;c.addEventListener("changeBefore",
function(c){e&&(a._isRemoved||!e._manager)&&d(O,[a._values[e._idKey],c.method]);var h=i.u.obj.argsToArray(c.args);if(-1===b.inArray(c.method,f)){var j=!0;switch(c.method){case "splice":j=!1;h.shift();h.shift();break;case "copyFrom":h=h[0];break;case "set":h.shift()}j&&(c=a._validateItemValue(g,h),0<c.length&&d(u,g,c))}e?(e._manager&&(c=e._manager,h=e.name,c._oldValueLogs||(c._oldValueLogs={}),c._oldValueLogs[h]||(c._oldValueLogs[h]={}),c=c._oldValueLogs[h],h=a._values[e._idKey],c[h]||(c[h]={}),c[h][g]||
(c[h][g]=a._values[g].toArray())),(o=e._manager?e._manager.isInUpdate():!1)||e._manager.beginUpdate()):r=a._values[g].toArray()});c.addEventListener("change",function(b){if(!(a._isInSet||null===b.method)){var d={type:"change",target:a,props:{}};d.props[g]={};e?(x(e,d),o?b.stopImmediatePropagation():(e._manager._isArrayPropChangeSilentlyRequested=!0,e._manager.endUpdate(),e._manager._isArrayPropChangeSilentlyRequested=!1)):c.equals(r)||(d.props[g]={oldValue:r,newValue:a._values[g]},a.dispatchEvent(d))}})}
function l(){}function M(b){ja(b)||d(ba);this.models={};this.name=b;this._updateLogs=null;this._isArrayPropChangeSilentlyRequested=!1}function Q(b,a,g,c){this.items={};this.size=0;this.name=a.name;this._manager=c;for(var d in b)b[d]&&b[d].id&&(this._idKey=d);this._idType=(a=b[this._idKey].type)?"string"===a?ha:Ba:ha;this.schema=b;this._itemConstructor=Aa(b,g,this);c.models[this.name]=this}function Aa(g,d,e){function o(b){G(this,g,f,b);b=f._createInitialValueObj(b);c(g,f._validateItemValue,b,e);a(this,
b,null,!0);for(var b=f._aryProps,d=0,r=b.length;d<r;d++)V(this,b[d],this.get(b[d]),e)}var f=H(g,d);e._schemaInfo=f;b.extend(o.prototype,l.prototype,f,Qa);b.extend(o.prototype,{_model:e,_isRemoved:!1,getModel:function(){return this._isRemoved?null:this._model}});return o}function T(){}function aa(){this.length=0;this._src=[]}function ea(){return new aa}function W(b){return b&&b.constructor===aa?!0:!1}var ha="string",Ba="number",ba=15E3,N=15001,O=15005,g=15008,o=15009,u=15011,r=15012,y=15013,Y=15016,
v=15900,U=15901,Ta=15902,Da=15903,Ma=15904,Na=6,Oa=15800,oa=15801,S=15802,R=15803,da=15804,fa=15805,la=15806,qa=15807,ra=15808,ma=15809,sa=15810,Ca=15811,Ea=15812,va=15813,ya=15814,Ja=15815,ua=15816,La=15817,za=15818,Ua=15819,Va=15820,Fa=15821,Wa=15822,Ya=15823,Za=15824,pa="n/a",Pa=2,Qa={get:function(a){if(0===arguments.length)return b.extend({},this._values);var g=this._model;(g?g.schema:this.schema).hasOwnProperty(a)||d(15014,[g?g.name:pa,a]);return this._values[a]},set:function(b){var g=b;2===
arguments.length&&(g={},g[arguments[0]]=arguments[1]);var e=this._model;e&&(this._isRemoved||!e._manager)&&d(O,[this._values[this._model._idKey],"set"],this);if(e)e._idKey in g&&g[e._idKey]!==this._values[e._idKey]&&d(15003,[e.name,this._idKey]),c(e.schema,e._schemaInfo._validateItemValue,g,e);else{var o=this.validate(g);if(o)throw o;}var o=null,f=e?e._manager.isInUpdate():!1;e&&!f&&e._manager.beginUpdate();this._isInSet=!0;o=a(this,g);this._isInSet=!1;e?(o&&x(e,o),f||e._manager.endUpdate()):o&&this.dispatchEvent(o)},
regardAsNull:function(b){return this._isArrayProp(b)?!0===this._nullProps[b]:null===this._values[b]},_isArrayProp:function(b){var a=this._model?this._model.schema:this.schema;return a[b]&&a[b].type&&-1<a[b].type.indexOf("[]")?!0:!1}};l.prototype.hasEventListener=function(b,a){if(!this.__listeners)return!1;var g=this.__listeners[b];if(!g||!this.__listeners.hasOwnProperty(b))return!1;for(var c=0,d=g.length;c<d;c++)if(g[c]===a)return!0;return!1};l.prototype.addEventListener=function(a,g){(2!==arguments.length||
!z(a)||!b.isFunction(g))&&d(15015);this.hasEventListener(a,g)||(this.__listeners||(this.__listeners={}),this.__listeners.hasOwnProperty(a)||(this.__listeners[a]=[]),this.__listeners[a].push(g))};l.prototype.removeEventListener=function(b,a){if(this.hasEventListener(b,a))for(var g=this.__listeners[b],c=0,d=g.length;c<d;c++)if(g[c]===a){g.splice(c,1);break}};l.prototype.dispatchEvent=function(b){if(this.__listeners){var a=this.__listeners[b.type];if(a){b.target||(b.target=this);var g=!1;b.preventDefault=
function(){g=true};var c=!1;b.stopImmediatePropagation=function(){c=true};for(var d=0,e=a.length;d<e&&!c;d++)a[d].call(b.target,b);return g}}};M.prototype=new l;b.extend(M.prototype,{createModel:function(a){(!a||"object"!==typeof a)&&d(N,null,[m(v)]);if(!b.isArray(a))return this.models[a.name]?this.models[a.name]:e(a,this);var g=a.length;g||d(N,null,[m(v)]);for(var c={},o=[],f=0;f<g;f++){var r=a[f].name;if(this.models[r])i[f]=manager.models[a.name];else try{o.push(r);r=[];a[f].base&&r.push(a[f].base.substring(1));
for(var u in a[f].schema){var h=a[f].schema[u];if(h){var j=h.type;j&&"@"===j.substring(0,1)&&(j=-1===j.indexOf("[]")?j.substring(1):j.substring(1,j.length-2),r.push(j))}}c[f]={depends:r}}catch(y){d(N)}}for(var i={size:0};i.size<g;){u={};h=!1;for(f=0;f<g;f++)if(!c[f].registed){for(var r=c[f].depends,j=0,l=r.length;j<l;j++)if(!this.models[r[j]]){u[r[j]]=!0;break}j===l&&(i[f]=e(a[f],this),i.size++,h=!0,c[f].registed=!0)}if(!h){var f=!0,q;for(q in u)if(-1===b.inArray(q,o)){f=!1;break}f&&d(15004);d(N,
null,[m(Da,q)])}}a=[];for(f=0;f<g;f++)a.push(i[f]);return a},dropModel:function(b){if((b=z(b)?b:"object"===typeof b?b.name:null)&&this.models[b]){var a=this.models[b];a._manager=null;delete this.models[b];return a}},isInUpdate:function(){return null!==this._updateLogs},beginUpdate:function(){this.isInUpdate()||(this._updateLogs={})},endUpdate:function(){if(this.isInUpdate()){var b=!this._isArrayPropChangeSilentlyRequested,a=this._updateLogs,g=this._oldValueLogs;this._oldValueLogs=this._updateLogs=
null;var c={},d;for(d in a)if(a.hasOwnProperty(d)){var e;e=this.models[d];var o=a[d],f=[],r=[],u=[],h=[],j=void 0;for(j in o){for(var y=o[j],i=!0,m=[],v=y.length-1;0<=v;v--){var l=y[v],q=l.type;if(q===Pa)m.push(l.ev);else{a:{for(i=0;i<v;i++){var Y=y[i].type;if(1===Y||3===Y){v=y[i];break a}}v=null}if(1===q)v&&3===v.type?f.push({id:j,oldItem:v.item,newItem:l.item}):r.push(l.item);else if(v=v&&3===v.type?v.item:v?null:l.item)h.push(v),v.dispatchEvent({type:"remove",model:e});i=!1;break}}if(i&&0<m.length){l=
{};for(v=m.length-1;0<=v;v--)for(var n in m[v].props)l[n]||(W(e.get(j).get(n))?(q=g&&g[e.name]&&g[e.name][j]&&g[e.name][j][n],e.get(j).get(n).equals(q)||(l[n]={oldValue:q})):l[n]={oldValue:m[v].props[n].oldValue});v=!1;for(n in l)q=l[n].oldValue,y=e.get(j).get(n),q===y||s(q)&&s(y)?delete l[n]:(v=e.get(j).get(n),b&&W(v)&&v.dispatchEvent({type:"change",method:null,args:null,returnValue:null}),l[n].newValue=v,v=!0);v&&(m={type:"change",target:m[0].target,props:l},u.push(m),m.target.dispatchEvent(m))}}(e=
0===r.length&&0===f.length&&0===h.length&&0===u.length?!1:{created:r,recreated:f,removed:h,changed:u})&&(c[d]=e)}b=!1;for(d in c)b=!0,e=c[d],this.models[d].dispatchEvent({type:"itemsChange",created:e.created,recreated:e.recreated,removed:e.removed,changed:e.changed});c={type:"itemsChange",models:c};b&&this.dispatchEvent(c)}},_dataModelItemsChangeListener:function(b){var a=b.target.manager,g={};g[b.target.name]=b;a.dispatchEvent({type:"itemsChange",models:g})}});b.extend(Q.prototype,l.prototype,{create:function(g){this._manager||
d(15006,[this.name,"create"]);var c=this.validate(g,!0);if(c)throw c;(c=this._manager?this._manager.isInUpdate():!1)||this._manager.beginUpdate();for(var e=[],o=J(g),f=[],r=this._idKey,u=0,j=o.length;u<j;u++){var y=o[u],i=y[r],v=this._findById(i);v?(f.push(v),(i=a(v,y,[r]))&&x(this,i)):(y=new this._itemConstructor(y),this.items[i]=y,this.size++,e.push(y),f.push(y))}0<e.length&&h(this,1,e);c||this._manager.endUpdate();return b.isArray(g)?f:f[0]},validate:function(a,g){try{var e=this._idKey,o=J(a);
"object"!==typeof a&&!b.isArray(a)&&d(15007);if(g)for(var f=0,r=o.length;f<r;f++){var u=o[f],h=u[e];(""===h||null==h)&&d(15002,[this.name,e]);obj=this._schemaInfo._createInitialValueObj(u);c(this.schema,this._schemaInfo._validateItemValue,obj,this)}else for(var f=0,j=o.length;f<j;f++)u=o[f],c(this.schema,this._schemaInfo._validateItemValue,u,this)}catch(y){return y}return null},get:function(a){if(b.isArray(a)||i.core.data.isObservableArray(a)){for(var g=[],c=0,d=a.length;c<d;c++)g.push(this._findById(a[c]));
return g}return this._findById(a)},remove:function(a){this._manager||d(15006,[this.name,"remove"]);var g=this._manager?this._manager.isInUpdate():!1;g||this._manager.beginUpdate();for(var c=this._idKey,e=J(a),f=[],o=[],r=0,u=e.length;r<u;r++)if(this.has(e[r])){var j=z(e[r])||B(e[r],!0)?e[r]:e[r]._values[c],y=this.items[j];delete this.items[j];this.size--;o.push(y);y._model&&(y._isRemoved=!0);f.push(y)}else o.push(null);0<f.length&&h(this,3,f);g||this._manager.endUpdate();return b.isArray(a)?o:o[0]},
removeAll:function(){var b=this.toArray();0<b.length&&this.remove(b);return b},has:function(a){return z(a)||B(a,!0)?!!this._findById(a):"object"===typeof a?null!=a&&b.isFunction(a.get)&&a===this.items[a.get(this._idKey)]:!1},getManager:function(){return this._manager},_findById:function(b){b=this.items[b];return void 0===b?null:b},_dispatchItemsChangeEvent:function(b){b={type:"itemsChange",created:[],recreated:[],removed:[],changed:[b]};this.dispatchEvent(b);this._manager&&(b.target=this,this._manager._dataModelItemsChangeListener(b))},
toArray:function(){var b=[],a=this.items,g;for(g in a)a.hasOwnProperty(g)&&b.push(a[g]);return b}});b.extend(T.prototype,l.prototype,Qa,{validate:function(b){try{var a=b;2===arguments.length&&(a={},a[arguments[0]]=arguments[1]);c(this.schema,this._validateItemValue,a)}catch(g){return g}return null}});b.extend(aa.prototype,l.prototype);var wa={equals:function(a){var g=this.length;if(!b.isArray(a)&&!W(a)||a.length!==g)return!1;for(var a=W(a)?a._src:a,c=0;c<g;c++){var d=this[c],e=a[c];if(!(d===e||s(d)&&
s(e)))return!1}return!0},copyFrom:function(a){null==a&&(a=[]);a=W(a)?a._src:a;b.isArray(a)||d(15010,[0,a]);a=a.slice(0);a.unshift(0,this.length);Array.prototype.splice.apply(this,a)},get:function(a){return this[a]},set:function(a,b){this[a]=b},toArray:function(){return this.slice(0)},concat:function(){for(var a=i.u.obj.argsToArray(arguments),b=0,g=a.length;b<g;b++)W(a[b])&&(a[b]=a[b].toArray());return this.concat.apply(this,a)}},xa="concat,join,pop,push,reverse,shift,slice,sort,splice,unshift,indexOf,lastIndexOf,every,filter,forEach,map,some,reduce,reduceRight".split(","),
ga;for(ga in wa)wa.hasOwnProperty(ga)&&-1===b.inArray(ga,xa)&&xa.push(ga);var Xa=["concat","slice","splice","filter","map"],Ka=["reverse","sort"],Sa="sort,reverse,pop,shift,unshift,push,splice,copyFrom,set".split(",");ga=0;for(var ta=xa.length;ga<ta;ga++){var X=xa[ga];aa.prototype[X]=function(a){function g(){var d=c.apply(this._src,arguments);if(-1!==b.inArray(a,Ka))d=this;else if(-1!==b.inArray(a,Xa)){var e=ea();e.copyFrom(d);d=e}return d}var c=wa[a]?wa[a]:Array.prototype[a];return-1===b.inArray(a,
Sa)?g:function(){if(!this.dispatchEvent({type:"changeBefore",method:a,args:arguments})){var b=g.apply(this,arguments);this.length=this._src.length;this.dispatchEvent({type:"change",method:a,args:arguments,returnValue:b});return b}}}(X)}i.u.obj.expose("h5.core.data",{createManager:function(a,b){ja(a)||d(ba);var g=new M(a);if(null!=b){""===b&&(b="window");var c={};c[a]=g;i.u.obj.expose(b,c)}return g},createObservableArray:ea,createObservableItem:function(b){I(b,!1,null,!0);var g=D(b);E(b,g,!0);var d=
new T,g=H(b,g);G(d,b,g);d.schema=b;for(var e in g)d[e]=g[e];e=g._createInitialValueObj();c(b,g._validateItemValue,e);a(d,e,null,!0);b=0;for(g=d._aryProps.length;b<g;b++)V(d,d._aryProps[b],d.get(d._aryProps[b]));return d},isObservableArray:W,isObservableItem:function(a){return!(!a||!a.constructor||!a._validateItemValue||b.isFunction(a.getModel))},createSequence:function(a,g,c){function d(){return u}function e(){var a=u;u+=h;return a}function f(){return u.toString()}function o(){var a=u;u+=h;return a.toString()}
function r(){}var u=null!=a?a:1,h=null!=g?g:1,a=1===c?{current:f,next:o,returnType:1}:{current:d,next:e,returnType:2};a.setCurrent=function(a){u=a};b.extend(r.prototype,a);return new r},SEQ_STRING:1,SEQ_INT:2})})();(function(){function q(a,b){return!a||a.nodeType!==f?void 0:a.getAttribute(b)}function A(a){if(!a)return null;for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b}function s(a,b,c,d){var e=[],b=J(b);if(!0===d)return C(e,a,b,c),e;for(var a=a.childNodes,d=0,f=a.length;d<f;d++)C(e,a[d],
b,c);return e}function C(a,b,c,d){if(b.nodeType===f){for(var e=0,h=c.length;e<h;e++){var j=b.getAttribute(c[e]);if(void 0===d){if(null!==j){a.push(b);break}}else if(null!==j&&j==d){a.push(b);break}}if(0<b.childNodes.length){b=b.childNodes;e=0;for(h=b.length;e<h;e++)C(a,b[e],c,d)}}}function B(a,c){for(var a=J(a),d=[],e=0,j=a.length;e<j;e++){var i=a[e];if(i.nodeType===f&&!(!0===c&&(null!=q(i,x)||null!=q(i,F))))for(var v=s(i,h,void 0,!0),m=0,l=v.length;m<l;m++){for(var n=!0,p=v[m];null!=p&&p!==i;p=p.parentNode)if(null!=
q(p,x)||null!=q(p,F)){n=!1;break}n&&d.push(v[m])}}return b(d)}function z(a,c,d){for(var e=[],h=0,j=a.length;h<j;h++){var i=a[h];if(i.nodeType===f){if(!0===d){if(null!=i.getAttribute(c)){e.push(i);continue}if(null!=q(i,x)||null!=q(i,F))continue}for(var m=s(i,c,void 0,!1),l=0,n=m.length;l<n;l++){var p=b(m[l])[0],t=p.parentNode;(null==q(t,x)&&null==q(t,F)||t===i)&&e.push(p)}}}return b(e)}function E(a){return a&&a.addEventListener&&a.getModel&&!b.isArray(a)&&!i.core.data.isObservableArray(a)||i.core.data.isObservableItem(a)?
!0:!1}function D(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.nodeType===f&&e.setAttribute(H,b)}}function t(a,c,f){var r=ha++,h=c[0];b(h).empty();if(f){!b.isArray(f)&&!i.core.data.isObservableArray(f)&&d(ea);D(c,r);a._addBindingEntry(f,h,r);i.core.data.isObservableArray(f)&&!a._isWatching(f)&&(c=function(b){a._observableArray_changeListener(b)},a._listeners[a._getContextIndex(f)]=c,f.addEventListener("change",c));var c=q(h,e),c=A(a._getSrcCtxNode(c).childNodes),j=[];a._loopElementsMap[r]=j;for(var r=
h.ownerDocument.createDocumentFragment(),m=f.get?function(a){return f.get(a)}:function(a){return f[a]},l=0,n=f.length;l<n;l++){for(var p=[],x=0,s=c.length;x<s;x++){var t=O(c[x]);p.push(t);r.appendChild(t)}j[l]=p;h.appendChild(r);w(a,p,m(l),!1,!0)}}}function w(a,c,e,f,h){c=J(c);if(f)t(a,c,e);else{f=ha++;e&&(("object"!==typeof e||b.isArray(e)||i.core.data.isObservableArray(e))&&d(ea),D(c,f),a._addBindingEntry(e,c,f));var j=E(e);j&&!a._isWatching(e)&&(f=function(b){a._observableItem_changeListener(b)},
a._listeners[a._getContextIndex(e)]=f,e.addEventListener("change",f));B(c,h).each(function(){G(this,e,j)});p(a,c,e,!1,h);p(a,c,e,!0,h)}}function p(a,b,c,d,e){var f=d?"data-h5-loop-context":"data-h5-context";z(b,f,e).each(function(){var b=q(this,f),e=null;c&&(e=E(c)?c.get(b):c[b]);w(a,this,e,d)})}function G(a,c,e){for(var f=q(a,h).split(Q),j=[],i=[],m=[],n=0,p=f.length;n<p;n++){var x=f[n];if(-1===x.indexOf(M))0<b.trim(x).length&&(j.push(null),i.push(null),m.push(b.trim(x)));else{var s=x.split(M),x=
b.trim(s[0]),s=b.trim(s[1]),t=null,w=Aa.exec(x);w&&(t=w[1],x=/(\S+)[\s\(]/.exec(x)[1]);0<x.length&&0<s.length&&(j.push(x),i.push(t),m.push(s))}}f=a.tagName.toLowerCase();n=b(a);p=0;for(x=j.length;p<x;p++){var t=j[p],w=i[p],F=m[p],s=null;c&&(s=e?c.get(F):c[F]);null==t&&("input"===f?(t="attr",w="value"):t="text");switch(t){case "text":null==s?n.text(""):n.text(s);break;case "html":null==s?n.html(""):n.html(s);break;case "class":var t=q(a,l),F=(w=null==t)?"":" ",A=!1;s&&(A=!RegExp("\\s"+s+"\\s").test(" "+
t+" "));n[0].className=(w?"":t)+(A?F+s:"");break;case "attr":w||d(T);"input"===f&&"value"===w?null==s?n.val(""):n.val(s):null==s?n.removeAttr(w):n.attr(w,s);break;case "style":w||d(T);null==s?n.css(w,""):n.css(w,s);break;default:d(aa)}}}function j(a,b,c){for(var d=0,e=c.length;d<e;d++){var f=c[d];b.removeChild(f);a._removeBinding(f)}}function m(a){for(var a=a.childNodes,b=[],c=0,d=a.length;c<d;c++)b.push(O(a[c]));return b}function n(a,b,c,d,e){for(var f=c.ownerDocument.createDocumentFragment(),h=
[],j=0,i=e.length;j<i;j++){var l=m(c);h[j]=l;for(var n=0,q=l.length;n<q;n++)f.appendChild(l[n]);w(a,l,e[j])}Array.prototype[d].apply(b,h);return f}function c(a,b,c,d,e,f){var h=d.length;if(0!==h){for(var i=d[0],l=i,c=1===h?c.length:l+d[1];l<c;l++){var n=e[l];n&&j(a,b,n)}e.splice(i,d[1]);if(!(2>=h)){l=e.length;l=0===l||0===i?b.firstChild:i>=l?null:e[i][0];c=f.ownerDocument.createDocumentFragment();i=[i,0];for(n=2;n<h;n++){for(var q=m(f),p=0,x=q.length;p<x;p++)c.appendChild(q[p]);w(a,q,d[n]);i.push(q)}b.insertBefore(c,
l);Array.prototype.splice.apply(e,i)}}}function a(a,b){void 0!==a.nodeType?a.nodeType===f&&(this._parent=a.parentNode,this._targets=[a]):(this._parent=a[0].parentNode,this._targets=A(a));this._bindRootId=Ba++;ba[this._bindRootId]=this;for(var c=[],d=0,j=this._targets.length;d<j;d++){var i=this._targets[d];if(i.nodeType===f){i.setAttribute(V,this._bindRootId);for(var m=s(i,[x,F],void 0,!0),n=0,p=m.length;n<p;n++){var t=W++;m[n].setAttribute(e,t)}m=s(i,h,void 0,!0);n=0;for(p=m.length;n<p;n++)t=m[n],
/class\s*:/.test(q(t,h))&&""!=t.className&&t.setAttribute(l,t.className)}c.push(i.cloneNode(!0))}this._srces=c;this._loopElementsMap={};this._rootContext=b;this._usingContexts=[];this._srcToViewMap={};this._listeners={};w(this,this._targets,this._rootContext,!1,!0)}var f=1,h="data-h5-bind",x="data-h5-context",F="data-h5-loop-context",e="data-h5-dyn-ctx",H="data-h5-dyn-vid",V="data-h5-dyn-bind-root",l="data-h5-dyn-cn",M=":",Q=";",Aa=/\(\s*(\S+)\s*\)/,T=7100,aa=7101,ea=7102,W=0,ha=0,Ba=0,ba={},N={},
O;(function(){var a=document.createElement("div");a.h5Dummy="a";var c=a.cloneNode(!1),d=void 0!==c.h5Dummy;a.h5Dummy=void 0;d?(c.h5Dummy=void 0,O=function(a){var c=a.ownerDocument;return a.nodeType===f?b(b.trim(a.outerHTML),c)[0]:a.cloneNode(!0)}):O=function(a){return a.cloneNode(!0)}})();b.extend(a.prototype,{unbind:function(){for(var a=0,b=this._targets.length;a<b;a++){var c=this._targets[a];if(c.nodeType===f){this._removeBinding(c);c.removeAttribute(V);for(var d=s(c,l,void 0,!0),h=0,j=d.length;h<
j;h++)d[h].removeAttribute(l);c=s(c,e,void 0,!0);h=0;for(d=c.length;h<d;h++)c[h].removeAttribute(e)}}delete ba[this._bindRootId]},_observableArray_changeListener:function(a){var b=this._getViewsFromSrc(a.target);if(b)for(var d in b)if(b.hasOwnProperty(d)){var f=b[d],h=this._getSrcCtxNode(q(f,e)),i=this._loopElementsMap[d];switch(a.method){case "set":c(this,f,a.target,[a.args[0],1,a.args[1]],i,h);break;case "shift":case "pop":var l=i[a.method]();l&&j(this,f,l);break;case "unshift":l=n(this,i,h,a.method,
a.args);f.insertBefore(l,f.firstChild);break;case "push":l=n(this,i,h,a.method,a.args);f.appendChild(l);break;case "splice":c(this,f,a.target,a.args,i,h);break;case "reverse":for(var l=f,p=i;l.firstChild;)l.removeChild(l.firstChild);for(var x=0,f=p.length;x<f;x++)for(var h=p[x],s=h.length-1;0<=s;s--)l.insertBefore(h[s],l.firstChild);i.reverse();break;case "sort":case "copyFrom":case null:for(var l=this._loopElementsMap,p=d,x=a.target,s=i,i=h,h=0,t=s.length;h<t;h++)j(this,f,s[h]);for(var s=f.ownerDocument.createDocumentFragment(),
t=[],h=0,F=x.length;h<F;h++){var A=m(i);t[h]=A;for(var B=0,C=A.length;B<C;B++)s.appendChild(A[B]);w(this,A,x.get(h))}f.appendChild(s);l[p]=t}}},_observableItem_changeListener:function(a){var b=this._getViewsFromSrc(a.target);if(b){var c=!1;a.target===this._rootContext&&(c=!0);var d=this,f;for(f in b)if(b.hasOwnProperty(f)){var h=b[f];B(h,c).each(function(){G(this,a.target,!0)});z(h,x).each(function(){var b=q(this,x);if(!(b in a.props))return!0;d._removeBinding(this);var c=q(this,e),c=d._getSrcCtxNode(c),
c=O(c);this.parentNode.replaceChild(c,this);w(d,c,a.props[b].newValue)});z(h,F).each(function(){var b=q(this,F);if(!(b in a.props)||a.target._isArrayProp(b))return!0;d._removeBinding(this);w(d,this,a.props[b].newValue,!0)})}}},_getSrcCtxNode:function(a){for(var b=0,c=this._srces.length;b<c;b++){var d=this._srces[b];if(q(d,e)===a)return d;d=s(d,e,a);if(0<d.length)return d[0]}return null},_isWatching:function(a){a=this._getContextIndex(a);return-1===a?!1:null!=this._listeners[a]},_getContextIndex:function(a){return b.inArray(a,
this._usingContexts)},_addBindingEntry:function(a,b,c){var d=this._getContextIndex(a);-1===d&&(this._usingContexts.push(a),d=this._usingContexts.length-1);N[c]=a;(a=this._srcToViewMap[d])?a[c]=b:(a={},a[c]=b,this._srcToViewMap[d]=a)},_hasBindingForSrc:function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1},_removeBindingEntry:function(a){var b=N[a];if(b){var c=this._getContextIndex(b);if(-1!==c){var d=this._srcToViewMap[c];d&&d[a]&&(delete d[a],this._hasBindingForSrc(d)||(d=!1,E(b)?(b.removeEventListener("change",
this._listeners[c]),d=!0):i.core.data.isObservableArray(b)&&(b.removeEventListener("change",this._listeners[c]),d=!0),d&&delete this._listeners[c],delete this._srcToViewMap[c],this._usingContexts[c]=null))}N[a]&&delete N[a]}},_removeBinding:function(a){if(a.nodeType===f){var b=q(a,H);null!=b&&(this._removeBindingEntry(b),a.removeAttribute(H));for(var a=s(a,H),b=0,c=a.length;b<c;b++){var d=a[b];this._removeBindingEntry(q(d,H));d.removeAttribute(H)}}},_getViewsFromSrc:function(a){a=this._getContextIndex(a);
return-1===a?null:this._srcToViewMap[a]}});cb={createBinding:function(b,c){return new a(b,c)}}})();(function(){function q(d){return i.u.obj.isJQueryObject(d)?d:b(d)}function A(){this.__cachedTemplates={}}var s="[",C=7001,B=7002,I=7003,E=7010,D=7011,t=i.async.deferred,w={escapeHtml:function(b){return i.u.str.escapeHtml(b)}},p={MAX_CACHE:10,cache:{},cacheUrls:[],accessingUrls:{},append:function(b,d,i){this.cacheUrls.length>=this.MAX_CACHE&&this.deleteCache(this.cacheUrls[0]);this.cache[b]={};this.cache[b].templates=
d;this.cache[b].path=i;this.cacheUrls.push(b)},deleteCache:function(b,d){d||delete this.cache[b];for(var i=0,c=this.cacheUrls.length;i<c;i++)if(this.cacheUrls[i]===b){this.cacheUrls.splice(i,1);break}},getTemplateByUrls:function(j){function m(a){if(0!==a.length){var c={},e=[];a.each(function(){var a=b.trim(this.id),f=b.trim(this.innerHTML);a||d(B,null,{});try{var h=new EJS.Compiler(f,s);h.compile();c[a]=h.process;e.push(a)}catch(j){f=j.lineNumber,d(E,[f?" line:"+f:"",j.message],{id:a,error:j,lineNo:f})}});
return{compiled:c,data:{ids:e}}}}function n(a,c,d){i.ajax(c).done(function(c,e,f){delete h.accessingUrls[a];c=b(f.responseText).filter(function(){return this.tagName&&-1===this.tagName.indexOf("/")&&8!==this.nodeType});e=this.url;if(0<c.not('script[type="text/ejs"]').length)d.reject(da(D,null,{url:a,path:e}));else{f=null;try{f=m(c.filter('script[type="text/ejs"]'))}catch(j){j.detail.url=a;j.detail.path=e;d.reject(j);return}var i,l;try{var n=f.compiled;l=f.data;l.path=e;l.absoluteUrl=a;i=n;h.append(a,
n,e)}catch(q){d.reject(da(C,null,{error:q,url:a,path:e}));return}d.resolve({ret:i,data:l})}}).fail(function(b){delete h.accessingUrls[a];d.reject(da(I,[b.status,a],{url:a,path:c,error:b}))})}for(var c={},a=[],f=[],h=this,p=function(a){var b=h.cache[a].templates;h.deleteCache(a,!0);h.cacheUrls.push(a);return b},q=0;q<j.length;q++){var e=j[q],w=R(e);if(this.cache[w])b.extend(c,p(w)),f.push({absoluteUrl:w});else if(this.accessingUrls[w])a.push(this.accessingUrls[w]);else{var A=i.async.deferred();a.push(this.accessingUrls[w]=
A.promise());n(w,e,A)}}var l=t();i.async.when(a).done(function(){for(var a=i.u.obj.argsToArray(arguments),d=0,e=a.length;d<e;d++)b.extend(c,a[d].ret),f.push(a[d].data);l.resolve(c,f)}).fail(function(a){l.reject(a)});return l.promise()}};b.extend(A.prototype,{load:function(j){var i=t(),n=this,c=null;switch(b.type(j)){case "string":b.trim(j)||d(7004);c=[j];break;case "array":c=j;0===c.length&&d(7004);for(var j=0,a=c.length;j<a;j++)z(c[j])?b.trim(c[j])||d(7004):d(7004);break;default:d(7004)}p.getTemplateByUrls(c).done(function(a,
c){b.extend(n.__cachedTemplates,a);i.resolve(c)}).fail(function(a){i.reject(a)});return i.promise()},getAvailableTemplates:function(){var b=[],d;for(d in this.__cachedTemplates)b.push(d);return b},register:function(j,i){"string"!==b.type(i)?d(7E3,null,{id:j}):(!z(j)||!b.trim(j))&&d(B,[]);try{var n=new EJS.Compiler(i,s);n.compile();this.__cachedTemplates[j]=n.process}catch(c){n=c.lineNumber,d(E,[n?" line:"+n:"",c.message],{id:j})}},isValid:function(b){try{return(new EJS.Compiler(b,s)).compile(),!0}catch(d){return!1}},
get:function(i,m){var n=this.__cachedTemplates;(!z(i)||!b.trim(i))&&d(B);(n=n[i])||d(7005,i);var c=m?b.extend(!0,{},m):{},a=c.hasOwnProperty("_h")?new EJS.Helpers(c):new EJS.Helpers(c,{_h:w}),f=null;try{f=n.call(c,c,a)}catch(h){d(7006,h.toString(),h)}return f},update:function(b,d,i){return q(b).html(this.get(d,i))},append:function(b,d,i){return q(b).append(this.get(d,i))},prepend:function(b,d,i){return q(b).prepend(this.get(d,i))},isAvailable:function(b){return!!this.__cachedTemplates[b]},clear:function(i){if(void 0===
i)this.__cachedTemplates={};else{var m=null;switch(b.type(i)){case "string":m=[i];break;case "array":i.length||d(B);m=i;break;default:d(B)}for(var i=0,n=m.length;i<n;i++){var c=m[i];(!z(c)||!b.trim(c))&&d(B)}i=0;for(n=m.length;i<n;i++)delete this.__cachedTemplates[m[i]]}},bind:function(j,m){var n=null;null==j&&d(7007);b.isArray(j)?n=j:(n=b(j),0===n.length&&d(7007),n=n.toArray());(null==m||"object"!==typeof m||b.isArray(m)||i.core.data.isObservableArray(m))&&d(7009);return cb.createBinding(n,m)}});
var G=new A;G.createView=function(){return new A};b(function(){b('script[type="text/ejs"]').each(function(){var d=b.trim(this.id),i=b.trim(this.innerHTML);0!==i.length&&d&&(i=new EJS.Compiler(i,s),i.compile(),G.__cachedTemplates[d]=i.process)})});i.u.obj.expose("h5.core",{view:G})})();(function(){function d(a){var c={},e;for(e in H){var f=b("<div></div>").addClass(a).addClass(e).appendTo("body"),h=b.camelCase(e);c[h]={};b.map(H[e],function(a){c[h][a]="width"===a||"height"===a?parseInt(f.css(a).replace(/\D/g,
""),10):f.css(a)});f.remove()}return c}function A(a,b,c){var a=b.createElement("v:"+a),d;for(d in c)a.style[d]=c[d];return a}function s(a,b){for(var c=[],d=a/2,e=0.8*a/2,f=360/b*Math.PI/180,h=1;h<=b;h++){var i=f*h,j=Math.cos(i),i=Math.sin(i);c.push({from:{x:d+e/2*j,y:d+e/2*i},to:{x:d+e*j,y:d+e*i}})}return c}function C(a){return function(){var b=document.body,c=document.documentElement,d=M?b:Q?c:null;return d?"Height"===a?d["client"+a]>d["scroll"+a]?d["client"+a]:d["scroll"+a]:d["client"+a]:Math.max(b["scroll"+
a],c["scroll"+a],b["offset"+a],c["offset"+a],c["client"+a])}}function B(a){return function(){var b=M?document.body:document.documentElement;return window["page"+("Top"===a?"Y":"X")+"Offset"]||b["scroll"+a]}}function I(a){var b=M?document.body:document.documentElement;return x.isiOS?window["inner"+a]:b["client"+a]}function E(a){var c=b(a)[0],d=document.body,e=b("html")[0],a={top:0,left:0};if(c===d&&Q)return{top:parseFloat(e.currentStyle.paddingTop||0)+parseFloat(d.currentStyle.marginTop||0)+parseFloat(d.currentStyle.borderTop||
0),left:parseFloat(e.currentStyle.paddingLeft||0)+parseFloat(d.currentStyle.marginLeft||0)+parseFloat(d.currentStyle.borderLeft||0)};"undefined"!==typeof c.getBoundingClientRect&&(a=c.getBoundingClientRect());d=M?d:document.documentElement;c=d.clientTop||0;d=d.clientLeft||0;return{top:a.top+R()-c,left:a.left+ba()-d}}function D(){b.each(e(arguments),function(a,b){b.bind("click dblclick touchstart touchmove touchend mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave focus focusin focusout blur change select",
function(){return!1})})}function t(a){a=F(a)?a[0]:a;return a===window||a===document||a===document.body}function w(d,e){this.style=b.extend(!0,{},d);if(!e.getElementById(a)){e.namespaces.add("v","urn:schemas-microsoft-com:vml");var f=e.createElement("style");e.getElementsByTagName("head")[0].appendChild(f);f.id=a;f.setAttribute("type","text/css");f.styleSheet.cssText="v\\:stroke,v\\:line,v\\:textbox { behavior:url(#default#VML); }"}f=this.style.throbber.width;this.group=A("group",e,{width:f+"px",height:this.style.throbber.height+
"px"});this.group.className=c;for(var f=s(f,this.style.throbber.lines),h=this.style.throbberLine.color,i=this.style.throbberLine.width,j=0,l=f.length;j<l;j++){var m=f[j],n=m.from,q=m.to,m=A("line",e);m.strokeweight=i;m.strokecolor=h;m.fillcolor=h;m.from=n.x+","+n.y;m.to=q.x+","+q.y;n=A("stroke",e);n.opacity=1;m.appendChild(n);this.group.appendChild(m)}this._createPercentArea(e)}function p(a,c){var e=this,h=b(a);if(h.length){var l=fa(h[0]),p=b.extend(!0,{},{message:"",percent:-1,block:!0,fadeIn:-1,
fadeOut:-1,promises:null,theme:"a"},c);this._displayed=!1;this._throbbers=[];this._settings=p;this._styles=b.extend(!0,{},{throbber:{roundTime:1E3,lines:12},throbberLine:{},percent:{}},d(p.theme));this._$target=(this._isScreenLock=t(h))?b("body"):h;this._target=1===this._$target.length?this._$target[0]:this._$target.toArray();this._scrollEventTimerId=null;this._scrollHandler=function(){e._handleScrollEvent()};this._resizeEventTimerId=null;this._resizeHandler=function(){e._handleResizeEvent()};this._redrawable=
!0;this._lastPercent=-1;this._lastMessage=null;this._fadeInTime="number"===typeof p.fadeIn?p.fadeIn:-1;this._fadeOutTime="number"===typeof p.fadeOut?p.fadeOut:-1;this._$content=b();this._$overlay=b();this._$skin=b();for(var h=i.u.str.format(f,""===p.message?'style="display: none;"':"",p.message),s="https"===document.location.protocol?"return:false":"about:blank",x=0,w=this._$target.length;x<w;x++)this._$content=this._$content.add(b(l.createElement("div")).append(h).addClass(G).addClass(p.theme).addClass(j).hide()),
this._$overlay=this._$overlay.add((p.block?b(l.createElement("div")):b()).addClass(G).addClass(p.theme).addClass(m).hide()),this._$skin=this._$skin.add((Q||M?b(l.createElement("iframe")):b()).attr("src",s).addClass(G).addClass(n).hide());var A=this._isScreenLock&&T?"fixed":"absolute";b.each([this._$overlay,this._$content],function(){this.css("position",A)});l=p.promises;p=function(){e.hide()};h=b.hasOwnProperty("curCSS")?"pipe":"then";b.isArray(l)?(l=b.map(l,function(a){return a&&b.isFunction(a.promise)?
a:null}),0<l.length&&ma(i.async.when(l),h,[p,p])):l&&b.isFunction(l.promise)&&ma(l,h,[p,p])}}var G="h5-indicator",j="content",m="overlay",n="skin",c="vml-root",a="h5-vmlstyle",f='<span class="indicator-throbber"></span><span class="indicator-message" {0}>{1}</span>',h=500,x=i.env.ua,F=i.u.obj.isJQueryObject,e=i.u.obj.argsToArray,H={throbber:["width","height"],"throbber-line":["width","color"]},V=!!document.createElement("canvas").getContext,l=function(){var a=document.createDocumentFragment().appendChild(document.createElement("div"));
a.innerHTML='<v:line strokeweight="1"/>';a=a.firstChild;a.style.behavior="url(#default#VML)";return"number"===typeof a.strokeweight}(),M="CSS1Compat"!==document.compatMode,Q=x.isIE&&6>=x.browserVersion,J=x.isChrome&&x.isDesktop,T=!(x.isAndroidDefaultBrowser||x.isiOS&&5>x.browserVersion||Q||M||x.isWindowsPhone),aa=null,ea=null,W=null,S=null,R=null,ba=null,N=function(){var a=document.createDocumentFragment().appendChild(document.createElement("div")),c=["Webkit","Moz","O","ms","Khtml"],d=c.length;return function(e){e=
b.camelCase(e);if(e in a.style)return!0;for(var e=e.charAt(0).toUpperCase()+e.slice(1),f=0;f<d;f++)if(c[f]+e in a.style)return!0;return!1}}(),ea=function(a){return function(){var b=document.body,c=document.documentElement;return"number"===typeof window["inner"+a]?window["inner"+a]:M?b["client"+a]:c["client"+a]}}("Height"),W=C("Height"),S=C("Width"),R=B("Top"),ba=B("Left"),aa=N("animationName");w.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.group),
this._run())},hide:function(){this.root.innerHTML="";this._runId&&(clearTimeout(this._runId),this._runId=null)},_run:function(){for(var a=this.style.throbber.lines,b=this.style.throbber.roundTime,c=this.highlightPos,d=this.group.childNodes,e=0,f=d.length;e<f;e++){var h=d[e];if("textbox"!==h.nodeName){var i=e+1;h.firstChild.opacity=i==c?"1":i==c+1||i==c-1?"0.75":"0.4"}}c==a?c=0:c++;this.highlightPos=c;var j=this;this._runId=setTimeout(function(){j._run.call(j)},Math.floor(b/a))},_createPercentArea:function(a){var c=
A("textbox",a),a=b(a.createElement("table"));a.append("<tr><td></td></tr>");var d=a.find("td");d.width(this.group.style.width);d.height(this.group.style.height);d.css("line-height",this.group.style.height);d.addClass("throbber-percent");c.appendChild(a[0]);this.group.appendChild(c)},setPercent:function(a){b(this.group).find(".throbber-percent").html(a)}};var O=function(a,c){this.style=b.extend(!0,{},a);this.canvas=c.createElement("canvas");this.baseDiv=c.createElement("div");this.percentDiv=c.createElement("div");
var d=this.canvas,e=this.baseDiv,f=this.percentDiv;d.width=this.style.throbber.width;d.height=this.style.throbber.height;d.style.display="block";d.style.position="absolute";e.style.width=this.style.throbber.width+"px";e.style.height=this.style.throbber.height+"px";e.appendChild(d);f.style.width=this.style.throbber.width+"px";f.style.height=this.style.throbber.height+"px";f.style.lineHeight=this.style.throbber.height+"px";f.className="throbber-percent";e.appendChild(f);this.positions=s(d.width,this.style.throbber.lines)};
O.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.baseDiv),this._run())},hide:function(){b(this.baseDiv).remove();this._runId&&(J?clearInterval(this._runId):clearTimeout(this._runId),this._runId=null)},_run:function(){var a=this.canvas,b=a.getContext("2d"),c=this.highlightPos,d=this.positions,e=this.style.throbberLine.color,f=this.style.throbberLine.width,h=this.style.throbber.lines,i=this.style.throbber.roundTime;a.width=a.width;for(var j=0,
l=d.length;j<l;j++){b.beginPath();b.strokeStyle=e;b.lineWidth=f;var m=j+1;b.globalAlpha=m==c?1:m==c+1||m==c-1?0.75:0.4;var n=d[j],m=n.from,n=n.to;b.moveTo(m.x,m.y);b.lineTo(n.x,n.y);b.stroke()}c==h?c=0:c++;this.highlightPos=c;if(J){var p=0;this._runId=setInterval(function(){p++;a.style.webkitTransform="rotate("+p+"deg)";360<=p&&(p-=360)},i/360)}else if(aa)a.className="throbber-canvas";else{var q=this;this._runId=setTimeout(function(){q._run.call(q)},Math.floor(i/h))}},setPercent:function(a){this.percentDiv.innerHTML=
a}};p.prototype={show:function(){if(this._displayed||!this._$target||0<this._$target.children("."+G).length)return this;this._displayed=!0;for(var a=this,c=this._fadeInTime,d=function(){var c=b(window);a._isScreenLock&&(D(a._$overlay,a._$content),T||(c.bind("touchmove",a._scrollHandler),c.bind("scroll",a._scrollHandler)));c.bind("orientationchange",a._resizeHandler);c.bind("resize",a._resizeHandler)},e=0,f=this._$target.length;e<f;e++){var h=this._$target.eq(e),i=this._$content.eq(e),j=this._$skin.eq(e),
m=this._$overlay.eq(e);!this._isScreenLock&&"static"===h.css("position")&&(h.data("before-position",h.css("position")),h.data("before-zoom",h.css("zoom")),h.css({position:"relative",zoom:"1"}));var n=fa(h[0]);if(n=V?new O(this._styles,n):l?new w(this._styles,n):null)a._throbbers.push(n),a.percent(this._settings.percent),n.show(i.children(".indicator-throbber")[0]);h.append(j).append(m).append(i)}e=b().add(this._$skin).add(this._$content).add(this._$overlay);0>c?(e.show(),d()):e.fadeIn(c,d);this._reposition();
this._resizeOverlay();return this},_resizeOverlay:function(){var a,b;if(!this._isScreenLock||!T)for(var c=0,d=this._$target.length;c<d;c++){b=this._$target.eq(c);var e=this._$overlay.eq(c),f=this._$skin.eq(c);if(this._isScreenLock)a=S(),b=W();else{var h=b[0];a=h.scrollWidth;b=h.scrollHeight;if(Q)a=Math.max(a,h.clientWidth),b=Math.max(b,h.clientHeight);else if(x.isIE&&"function"===typeof getComputedStyle){var h=getComputedStyle(h,null),i=parseFloat(h.width)+parseFloat(h.paddingLeft)+parseFloat(h.paddingRight);
a+=i-parseInt(i)-1;h=parseFloat(h.height)+parseFloat(h.paddingTop)+parseFloat(h.paddingBottom);b+=h-parseInt(h)-1}}e.width(a).height(b);(Q||M)&&f.width(a).height(b)}},_reposition:function(){for(var a=0,c=this._$target.length;a<c;a++){var d=this._$target.eq(a),e=this._$content.eq(a);if(this._isScreenLock){var f=ea();T?e.css("top",(f-e.outerHeight())/2+"px"):e.css("top",R()+f/2-e.outerHeight()/2+"px")}else e.css("top",d.scrollTop()+(d.innerHeight()-e.outerHeight())/2);var f=e.innerWidth()-e.width(),
h=0;e.children().each(function(){var a=b(this);if("none"===a.css("display"))return!0;h+=a.outerWidth(!0)});e.width(h+f);e.css("left",d.scrollLeft()+(d.innerWidth()-e.outerWidth())/2)}},hide:function(){if(!this._displayed)return this;this._displayed=!1;var a=this,c=this._fadeOutTime,d=b().add(this._$skin).add(this._$content).add(this._$overlay),e=function(){var c=b(window);d.remove();a._isScreenLock||a._$target.each(function(a,c){var d=b(c);d.css({position:d.data("before-position"),zoom:d.data("before-zoom")});
d.removeData("before-position").removeData("before-zoom")});c.unbind("touchmove",a._scrollHandler);c.unbind("scroll",a._scrollHandler);c.unbind("orientationchange",a._resizeHandler);c.unbind("resize",a._resizeHandler);a._resizeEventTimerId&&clearTimeout(a._resizeEventTimerId);a._scrollEventTimerId&&clearTimeout(a._scrollEventTimerId)};if(!aa||J)for(var f=0,h=this._throbbers.length;f<h;f++)this._throbbers[f].hide();0>c?(d.hide(),e()):d.fadeOut(c,e);return this},percent:function(a){if("number"!==typeof a||
!(0<=a&&100>=a))return this;if(!this._redrawable)return this._lastPercent=a,this;for(var b=0,c=this._throbbers.length;b<c;b++)this._throbbers[b].setPercent(a);return this},message:function(a){if(!z(a))return this;if(!this._redrawable)return this._lastMessage=a,this;this._$content.children(".indicator-message").css("display","inline-block").text(a);this._reposition();return this},_handleScrollEvent:function(){this._scrollEventTimerId&&clearTimeout(this._scrollEventTimerId);if(this._redrawable){var a=
this;this._scrollEventTimerId=setTimeout(function(){a._reposition();a._scrollEventTimerId=null},50)}},_handleResizeEvent:function(){function a(){b._resizeOverlay();b._reposition();b._redrawable=!0;b.percent(b._lastPercent);b.message(b._lastMessage);b._resizeEventTimerId=null}var b=this;this._resizeEventTimerId&&clearTimeout(this._resizeEventTimerId);this._redrawable=!1;T||Q||M?a():this._resizeEventTimerId=setTimeout(function(){a()},1E3)}};i.u.obj.expose("h5.ui",{indicator:function(a,b){return new p(a,
b)},isInView:function(a,c){var d,e,f,h,i=b(a);if(void 0===c)e=I("Height"),h=I("Width"),d=R(),f=ba();else{h=b(c);if(0===h.find(i).length)return;f=E(h);d=f.top+parseInt(h.css("border-top-width"));f=f.left+parseInt(h.css("border-left-width"));e=h.innerHeight();h=h.innerWidth()}e=d+e;h=f+h;var j=E(i),l=j.top,j=j.left,m=l+i.outerHeight(),i=j+i.outerWidth();return(d<=l&&l<e||d<m&&m<=e)&&(f<=j&&j<h||f<i&&i<=h)},scrollToTop:function(){function a(){1===window.scrollY&&(c=0);0<c&&(window.scrollTo(0,1),c--,
setTimeout(a,h))}var c=3;window.scrollTo(0,1);1!==b(window).scrollTop()&&setTimeout(a,h)}})})();(function(){function q(){var c=b.mobile.activePage,c=c&&c[0]&&c[0].id;return z(c)&&0<c.length?c:null}function A(){var c=q();null!==c&&b(function(){I.addCSS(c);I.bindController(c)})}function s(b,a){for(prop in D)for(var d=D[prop],h=b===prop,i=0,j=d.length;i<j;i++){var e=d[i];if(h)e[(a?"enable":"disable")+"Listeners"]()}for(prop in t){d=t[prop];h=b===prop;i=0;for(j=d.length;i<j;i++)if(e=d[i],h)e[(a?"enable":
"disable")+"Listeners"]()}}function C(b,a){b=b.replace(/(\.0+)+$/,"");a=a.replace(/(\.0+)+$/,"");if(b===a)return 0;for(var d=b.split("."),h=a.split("."),i=d.length,j=0;j<i;j++){if(null==h[j])return 1;var e=parseInt(d[j],10),m=parseInt(h[j],10);if(e!==m)return e<m?-1:1}return null!=h[i]?-1:0}var B,I=null,E={},D={},t={},w={},p={},G=!1,j=!1,m=!1;i.u.obj.ns("h5.ui.jqm");i.ui.jqm.dataPrefix="h5";var n={__name:"JQMController",__ready:function(){var c=this,a=q();b(':jqmData(role="page"), :jqmData(role="dialog")').each(function(){c.loadScript(this.id)});
var d=this.$find("#"+a);d.one("h5controllerready.emulatepageshow",function(){m&&d[0]===b.mobile.activePage[0]&&d.trigger("h5jqmpageshow",{prevPage:b("")})})},':jqmData(role="page"), :jqmData(role="dialog") pageinit':function(b){B||this._initPage(b.event.target.id)},':jqmData(role="page"), :jqmData(role="dialog") pagecreate':function(b){B&&this._initPage(b.event.target.id)},_initPage:function(b){this.loadScript(b);this.addCSS(b);this.bindController(b)},"{rootElement} pageremove":function(c){b(c.event.target).trigger("h5jqmpagehide",
{nextPage:b.mobile.activePage});j=!0;var c=c.event.target.id,a=D[c],d=t[c];if(a){for(var h=0,i=a.length;h<i;h++)a[h].dispose();D[c]=[]}if(d){h=0;for(i=d.length;h<i;h++)d[h].dispose();t[c]=[]}},"{rootElement} pagebeforeshow":function(b){b=b.event.target.id;this.addCSS(b);s(b,!0)},"{rootElement} pagehide":function(c){j||b(c.event.target).trigger("h5jqmpagehide",{nextPage:c.evArg.nextPage});j=!1;c=c.event.target.id;s(c,!1);this.removeCSS(c)},"{rootElement} pageshow":function(c){var a=!1,d=b(c.event.target),
h=c.evArg?c.evArg.prevPage:b("");if(c=D[d[0].id])for(var i=0,j=c.length;i<j;i++)if(!c[i].isReady){d.unbind("h5controllerready.emulatepageshow").one("h5controllerready.emulatepageshow",function(){b.mobile.activePage[0]===d[0]&&d.trigger("h5jqmpageshow",{prevPage:h})});a=!0;break}a||d.trigger("h5jqmpageshow",{prevPage:h})},"{rootElement} h5controllerbound":function(c){c=c.evArg;if(this!==c){var a=q();null===a||-1!==b.inArray(c,D[a])||(t[a]||(t[a]=[]),t[a].push(c))}},"{rootElement} h5controllerunbound":function(c){var a=
c.evArg,c=q();null!==c&&(a=b.inArray(a,t[c]),-1!==a&&t[c].splice(a,1))},loadScript:function(c){var c=b("#"+c),a=b.trim(c.data(this.getDataAttribute("script")));if(0!==a.length)return a=b.map(a.split(","),function(a){return b.trim(a)}),c=!0==c.data(this.getDataAttribute("async")),i.u.loadScript(a,{async:c})},getDataAttribute:function(b){var a=i.ui.jqm.dataPrefix;null==a&&(a="h5");return 0!==a.length?a+"-"+b:b},bindController:function(b){var a=E[b],d=w[b];if(a&&0!==a.length){D[b]||(D[b]=[]);for(var h=
D[b],j=0,m=a.length;j<m;j++){for(var e=a[j],n=!1,p=0,l=h.length;p<l;p++){var q=h[p];if(q&&q.__name===e.__name){n=!0;break}}n||D[b].push(i.core.controller("#"+b,e,d[j]))}}},addCSS:function(c){if(c=p[c])for(var a=document.getElementsByTagName("head")[0],d=a.getElementsByTagName("link"),h=d.length,i=0,j=c.length;i<j;i++){for(var e=b.mobile.path.parseUrl(c[i]).filename,m=!1,n=0;n<h;n++)if(b.mobile.path.parseUrl(d[n].href).filename===e){m=!0;break}m||(e=document.createElement("link"),e.type="text/css",
e.rel="stylesheet",e.href=c[i],a.appendChild(e))}},removeCSS:function(c){var a=p[c];if(a&&(c=q(),null!==c)){var d=p[c];b("link").filter(function(){var c=b(this).attr("href");return-1!==b.inArray(c,a)&&-1===b.inArray(c,d)}).remove()}}};i.u.obj.expose("h5.ui.jqm.manager",{init:function(){G||(G=!0,B=0<=C(b.mobile.version,"1.4"),b(document).one("pageshow",function(){m=!0}),b(function(){I=bb.controllerInternal("body",n,null,{managed:!1});A()}))},define:function(c,a,f,h){z(c)||d(12E3,"id");null!=a&&!z(a)&&
!b.isArray(a)&&d(12E3,"cssSrc");null!=f&&((z(f)||b.isArray(f))&&d(12001),(!b.isPlainObject(f)||!("__name"in f))&&d(12E3,"controllerDefObject"),null!=h&&!b.isPlainObject(h)&&d(12E3,"initParam"));p[c]||(p[c]=[]);E[c]||(E[c]=[]);w[c]||(w[c]=[]);b.merge(p[c],b.map(b.makeArray(a),function(a){return b.inArray(a,p[c])!==-1?null:a}));f&&-1===b.inArray(f,E[c])&&(E[c].push(f),w[c].push(h));G&&null!==q()?A():this.init()}})})();(function(){function q(){C||(C=navigator.geolocation);return C}function A(b,d){this.oblateness=
b;this.semiMajorAxis=d}function s(){}var C=null,B=i.env.ua;A.prototype.getOblateness=function(){return this.oblateness};A.prototype.getSemiMajorAxis=function(){return this.semiMajorAxis};var z=new A(298.257222,6378137),E=new A(299.152813,6377397.155),D=Math.PI/180;b.extend(s.prototype,{isSupported:B.isIE&&9<=B.browserVersion?!0:!!q(),getCurrentPosition:function(b){var d=i.async.deferred();q().getCurrentPosition(function(b){d.resolve(b)},function(b){d.reject(da(2002,null,b))},b);return d.promise()},
watchPosition:function(b){function d(){}var p=i.async.deferred(),s=q().watchPosition(function(b){p.notify(b)},function(b){q().clearWatch(s);p.reject(da(2002,null,b))},b);d.prototype.unwatch=function(){q().clearWatch(s);p.resolve()};return p.promise(new d)},getDistance:function(b,i,p,q,j){(!isFinite(b)||!isFinite(i)||!isFinite(p)||!isFinite(q))&&d(2E3);var m=j?j:z;m instanceof A||d(2001);var j=m.getSemiMajorAxis(),n=m.getOblateness(),b=b*D,i=i*D,p=p*D,m=q*D,q=(b+p)/2,n=Math.sqrt(2*n-1)/n,n=Math.pow(n,
2),c=Math.sqrt(1-n*Math.pow(Math.sin(q),2)),n=j*(1-n)/Math.pow(c,3),j=j/c,i=i-m;return Math.sqrt(Math.pow(n*(b-p),2)+Math.pow(j*Math.cos(q)*i,2))},GS_GRS80:z,GS_BESSEL:E});i.u.obj.expose("h5.api",{geo:new s})})();(function(){function q(a){if(a){var b=a.deferred;(ya(b)||za(b)||!a.result)&&d(G)}}function A(a,c,h){if(b.isPlainObject(a))for(var i in a){var n=b.trim(i).replace(/ +/g," ").split(" "),e=[];""===n[0]?d(m):1===n.length?(e.push(n[0]),e.push("="),e.push("?")):/^(<=|<|>=|>|=|!=|like)$/i.test(n[1])?
3===n.length&&/^like$/i.test(n[1])?(e.push(n[0]),e.push(n[1]),e.push("?"),e.push("ESCAPE"),e.push('"'+n[2]+'"')):(e.push(n[0]),e.push(n[1]),e.push("?")):d(j);c.push(e.join(" "));h.push(a[i])}}function s(){}function C(){this._multiple=!1}function B(a){this._db=a;this._df=n();this._tx=null;this._tasks=[];this._queue=[]}function I(a,c,d){this._statements=[];this._parameters=[];this._executor=a;this._tableName=c;this._columns=b.isArray(d)?d.join(", "):"*";this._orderBy=this._where=null}function E(a,b,
c){this._statements=[];this._parameters=[];this._executor=a;this._tableName=b;this._values=c?J(c):[];this._df=n();this._multiple=!0}function D(a,b,c){this._statements=[];this._parameters=[];this._executor=a;this._tableName=b;this._values=c;this._where=null}function t(a,b){this._statements=[];this._parameters=[];this._executor=a;this._tableName=b;this._where=null}function w(a,b,c){this._statements=[];this._parameters=[];this._executor=a;this._statements.push(b);this._parameters.push(c||[])}function p(a){this._db=
a}var G=3E3,j=3003,m=3011,n=i.async.deferred,c=i.u.str.format;b.extend(C.prototype,{execute:function(){return this._executor.add(this)._execute(function(a){return a[0]})}});b.extend(B.prototype,{_runTransaction:function(){return null!=this._tx},_addTask:function(a){this._tasks.push({deferred:a,result:null})},_setResult:function(a){this._getRecentTask().result=a},_getRecentTask:function(){return this._tasks[this._tasks.length-1]},add:function(a){a instanceof C||d(3009);var b=this._getRecentTask();
(!b||b.result)&&this._queue.push(a);return this},_execute:function(a){function b(){if(0===i.length){var j=a(e);c._setResult.apply(c,[j]);d.notify(j,c)}else{for(var l=i.shift(),m=l._statements,p=l._parameters,q=n().resolve().promise(),j=[],s=0,t=m.length;s<t;s++)(function(a,b){q=S(q,function(){var d=n();c._tx.executeSql(a,b,function(a,b){j.push(l._onComplete(b));d.resolve()});return d.promise()})})(m[s],p[s]);S(q,function(){e.push(l._multiple?j:j[0]);b()})}}var c=this,d=this._df,i=this._queue,e=[];
try{q(this._getRecentTask());this._addTask(d);for(var j=0,m=i.length;j<m;j++)i[j]._buildStatementAndParameters();this._runTransaction()?b():this._db.transaction(function(a){c._tx=a;b()},function(a){c._tx=null;for(var b=c._tasks,d=b.length-1;0<=d;d--)b[d].deferred.reject(da(3010,["SQLDB ERROR(code="+a.code+")",a.message],a))},function(){c._tx=null;for(var a=c._tasks,b=a.length-1;0<=b;b--){var d=a[b];d.deferred.resolve(d.result)}})}catch(l){d.reject(l)}this._df=n();return d.promise()},execute:function(){return this._execute(function(a){return a})},
promise:function(){return this._df.promise()}});I.prototype=new C;b.extend(I.prototype,{where:function(a){!b.isPlainObject(a)&&!z(a)&&d(3004,["Select","where"]);this._where=a;return this},orderBy:function(a){!b.isPlainObject(a)&&!z(a)&&d(3004,["Select","orderBy"]);this._orderBy=J(a);return this},_buildStatementAndParameters:function(){var a="",d=this._where,a=c("SELECT {0} FROM {1}",this._columns,this._tableName);if(b.isPlainObject(d)){var h=[];A(d,h,this._parameters);a+=" WHERE "+h.join(" AND ")}else z(d)&&
(a+=" WHERE "+d);b.isArray(this._orderBy)&&(a+=" ORDER BY "+this._orderBy.join(", "));this._statements.push([a]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rows}});E.prototype=new C;b.extend(E.prototype,{_buildStatementAndParameters:function(){var a=this._values,d=this._statements,h=this._parameters;if(0===a.length)d.push(c("INSERT INTO {0} DEFAULT VALUES",this._tableName)),h.push([]);else for(var i=0,j=a.length;i<j;i++){var e=a[i];if(null==e)d.push(c("INSERT INTO {0} DEFAULT VALUES",
this._tableName)),h.push([]);else if(b.isPlainObject(e)){var m=[],n=[],l=[],p;for(p in e)m.push("?"),n.push(p),l.push(e[p]);d.push(c("INSERT INTO {0} ({1}) VALUES ({2})",this._tableName,n.join(", "),m.join(", ")));h.push(l)}}},_onComplete:function(a){return a.insertId}});D.prototype=new C;b.extend(D.prototype,{where:function(a){!b.isPlainObject(a)&&!z(a)&&d(3004,["Update","where"]);this._where=a;return this},_buildStatementAndParameters:function(){var a="",d=this._where,a=this._values,h=[],i;for(i in a)h.push(i+
" = ?"),this._parameters.push(a[i]);a=c("UPDATE {0} SET {1}",this._tableName,h.join(", "));b.isPlainObject(d)?(i=[],A(d,i,this._parameters),a+=" WHERE "+i.join(" AND ")):z(d)&&(a+=" WHERE "+d);this._statements.push([a]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rowsAffected}});t.prototype=new C;b.extend(t.prototype,{where:function(a){!b.isPlainObject(a)&&!z(a)&&d(3004,["Del","where"]);this._where=a;return this},_buildStatementAndParameters:function(){var a="",d=this._where,
a=c("DELETE FROM {0}",this._tableName);if(b.isPlainObject(d)){var h=[];A(d,h,this._parameters);a+=" WHERE "+h.join(" AND ")}else z(d)&&(a+=" WHERE "+d);this._statements.push([a]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rowsAffected}});w.prototype=new C;b.extend(w.prototype,{_buildStatementAndParameters:function(){},_onComplete:function(a){return a}});b.extend(p.prototype,{select:function(a,c,h){z(a)||d(3001,"select");!b.isArray(c)&&"*"!==c&&d(3005,"select");return new I(this.transaction(h),
a,c)},insert:function(a,c,h){z(a)||d(3001,"insert");null!=c&&!b.isArray(c)&&!b.isPlainObject(c)&&d(3006,"insert");return new E(this.transaction(h),a,c)},update:function(a,c,h){z(a)||d(3001,"update");b.isPlainObject(c)||d(3006,"update");return new D(this.transaction(h),a,c)},del:function(a,b){z(a)||d(3001,"del");return new t(this.transaction(b),a)},sql:function(a,c,h){z(a)||d(3007,"sql");null!=c&&!b.isArray(c)&&d(3008,"sql");return new w(this.transaction(h),a,c)},transaction:function(a){void 0!=a&&
!(a instanceof B)&&d(3002,"transaction");return a?a:new B(this._db)}});b.extend(s.prototype,{isSupported:!!window.openDatabase,open:function(a,b,c,d){if(this.isSupported)return a=openDatabase(a,b,c,d),new p(a)}});i.u.obj.expose("h5.api",{sqldb:new s})})();(function(){function d(b){this._storage=b}b.extend(d.prototype,{getLength:function(){return this._storage.length},key:function(b){return this._storage.key(b)},getItem:function(b){b=this._storage.getItem(b);return null===b?null:i.u.obj.deserialize(b)},
setItem:function(b,d){this._storage.setItem(b,i.u.obj.serialize(d))},removeItem:function(b){this._storage.removeItem(b)},clear:function(){this._storage.clear()},each:function(b){for(var d=this._storage,i=0,q=d.length;i<q;i++){var z=d.key(i);b(i,z,this.getItem(z))}}});i.u.obj.expose("h5.api.storage",{isSupported:window.localStorage?function(){try{return window.localStorage.setItem("__H5_WEB_STORAGE_CHECK__","ok"),window.localStorage.removeItem("__H5_WEB_STORAGE_CHECK__"),!0}catch(b){return!1}}():!1,
local:new d(window.localStorage),session:new d(window.sessionStorage)})})()})(jQuery);